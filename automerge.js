var Automerge=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=21)}([function(t,e,n){t.exports=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function n(t){return s(t)?t:F(t)}function r(t){return c(t)?t:$(t)}function o(t){return a(t)?t:Y(t)}function i(t){return s(t)&&!u(t)?t:J(t)}function s(t){return!(!t||!t[h])}function c(t){return!(!t||!t[l])}function a(t){return!(!t||!t[p])}function u(t){return c(t)||a(t)}function g(t){return!(!t||!t[f])}e(r,n),e(o,n),e(i,n),n.isIterable=s,n.isKeyed=c,n.isIndexed=a,n.isAssociative=u,n.isOrdered=g,n.Keyed=r,n.Indexed=o,n.Set=i;var h="@@__IMMUTABLE_ITERABLE__@@",l="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",f="@@__IMMUTABLE_ORDERED__@@",m=5,d=1<<m,y=d-1,_={},v={value:!1},b={value:!1};function w(t){return t.value=!1,t}function S(t){t&&(t.value=!0)}function I(){}function E(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),o=0;o<n;o++)r[o]=t[o+e];return r}function O(t){return void 0===t.size&&(t.size=t.__iterate(M)),t.size}function T(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?O(t)+e:e}function M(){return!0}function A(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function C(t,e){return j(t,e,0)}function L(t,e){return j(t,e,e)}function j(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var k=0,x=1,D=2,R="function"==typeof Symbol&&Symbol.iterator,q="@@iterator",U=R||q;function P(t){this.next=t}function B(t,e,n,r){var o=0===t?e:1===t?n:[e,n];return r?r.value=o:r={value:o,done:!1},r}function N(){return{value:void 0,done:!0}}function z(t){return!!V(t)}function H(t){return t&&"function"==typeof t.next}function K(t){var e=V(t);return e&&e.call(t)}function V(t){var e=t&&(R&&t[R]||t[q]);if("function"==typeof e)return e}function W(t){return t&&"number"==typeof t.length}function F(t){return null===t||void 0===t?it():s(t)?t.toSeq():function(t){var e=at(t)||"object"==typeof t&&new et(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}(t)}function $(t){return null===t||void 0===t?it().toKeyedSeq():s(t)?c(t)?t.toSeq():t.fromEntrySeq():st(t)}function Y(t){return null===t||void 0===t?it():s(t)?c(t)?t.entrySeq():t.toIndexedSeq():ct(t)}function J(t){return(null===t||void 0===t?it():s(t)?c(t)?t.entrySeq():t:ct(t)).toSetSeq()}P.prototype.toString=function(){return"[Iterator]"},P.KEYS=k,P.VALUES=x,P.ENTRIES=D,P.prototype.inspect=P.prototype.toSource=function(){return this.toString()},P.prototype[U]=function(){return this},e(F,n),F.of=function(){return F(arguments)},F.prototype.toSeq=function(){return this},F.prototype.toString=function(){return this.__toString("Seq {","}")},F.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},F.prototype.__iterate=function(t,e){return ut(this,t,e,!0)},F.prototype.__iterator=function(t,e){return gt(this,t,e,!0)},e($,F),$.prototype.toKeyedSeq=function(){return this},e(Y,F),Y.of=function(){return Y(arguments)},Y.prototype.toIndexedSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq [","]")},Y.prototype.__iterate=function(t,e){return ut(this,t,e,!1)},Y.prototype.__iterator=function(t,e){return gt(this,t,e,!1)},e(J,F),J.of=function(){return J(arguments)},J.prototype.toSetSeq=function(){return this},F.isSeq=ot,F.Keyed=$,F.Set=J,F.Indexed=Y;var G,Z,X,Q="@@__IMMUTABLE_SEQ__@@";function tt(t){this._array=t,this.size=t.length}function et(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function nt(t){this._iterable=t,this.size=t.length||t.size}function rt(t){this._iterator=t,this._iteratorCache=[]}function ot(t){return!(!t||!t[Q])}function it(){return G||(G=new tt([]))}function st(t){var e=Array.isArray(t)?new tt(t).fromEntrySeq():H(t)?new rt(t).fromEntrySeq():z(t)?new nt(t).fromEntrySeq():"object"==typeof t?new et(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function ct(t){var e=at(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function at(t){return W(t)?new tt(t):H(t)?new rt(t):z(t)?new nt(t):void 0}function ut(t,e,n,r){var o=t._cache;if(o){for(var i=o.length-1,s=0;s<=i;s++){var c=o[n?i-s:s];if(!1===e(c[1],r?c[0]:s,t))return s+1}return s}return t.__iterateUncached(e,n)}function gt(t,e,n,r){var o=t._cache;if(o){var i=o.length-1,s=0;return new P(function(){var t=o[n?i-s:s];return s++>i?{value:void 0,done:!0}:B(e,r?t[0]:s-1,t[1])})}return t.__iteratorUncached(e,n)}function ht(t,e){return e?function t(e,n,r,o){return Array.isArray(n)?e.call(o,r,Y(n).map(function(r,o){return t(e,r,o,n)})):pt(n)?e.call(o,r,$(n).map(function(r,o){return t(e,r,o,n)})):n}(e,t,"",{"":t}):lt(t)}function lt(t){return Array.isArray(t)?Y(t).map(lt).toList():pt(t)?$(t).map(lt).toMap():t}function pt(t){return t&&(t.constructor===Object||void 0===t.constructor)}function ft(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function mt(t,e){if(t===e)return!0;if(!s(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||c(t)!==c(e)||a(t)!==a(e)||g(t)!==g(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!u(t);if(g(t)){var r=t.entries();return e.every(function(t,e){var o=r.next().value;return o&&ft(o[1],t)&&(n||ft(o[0],e))})&&r.next().done}var o=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{o=!0;var i=t;t=e,e=i}var h=!0,l=e.__iterate(function(e,r){if(n?!t.has(e):o?!ft(e,t.get(r,_)):!ft(t.get(r,_),e))return h=!1,!1});return h&&t.size===l}function dt(t,e){if(!(this instanceof dt))return new dt(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(Z)return Z;Z=this}}function yt(t,e){if(!t)throw new Error(e)}function _t(t,e,n){if(!(this instanceof _t))return new _t(t,e,n);if(yt(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(X)return X;X=this}}function vt(){throw TypeError("Abstract")}function bt(){}function wt(){}function St(){}F.prototype[Q]=!0,e(tt,Y),tt.prototype.get=function(t,e){return this.has(t)?this._array[T(this,t)]:e},tt.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===t(n[e?r-o:o],o,this))return o+1;return o},tt.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,o=0;return new P(function(){return o>r?{value:void 0,done:!0}:B(t,o,n[e?r-o++:o++])})},e(et,$),et.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},et.prototype.has=function(t){return this._object.hasOwnProperty(t)},et.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var s=r[e?o-i:i];if(!1===t(n[s],s,this))return i+1}return i},et.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,o=r.length-1,i=0;return new P(function(){var s=r[e?o-i:i];return i++>o?{value:void 0,done:!0}:B(t,s,n[s])})},et.prototype[f]=!0,e(nt,Y),nt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,r=K(n),o=0;if(H(r))for(var i;!(i=r.next()).done&&!1!==t(i.value,o++,this););return o},nt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,r=K(n);if(!H(r))return new P(N);var o=0;return new P(function(){var e=r.next();return e.done?e:B(t,o++,e.value)})},e(rt,Y),rt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===t(o[i],i++,this))return i;for(;!(n=r.next()).done;){var s=n.value;if(o[i]=s,!1===t(s,i++,this))break}return i},rt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,o=0;return new P(function(){if(o>=r.length){var e=n.next();if(e.done)return e;r[o]=e.value}return B(t,o,r[o++])})},e(dt,Y),dt.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},dt.prototype.get=function(t,e){return this.has(t)?this._value:e},dt.prototype.includes=function(t){return ft(this._value,t)},dt.prototype.slice=function(t,e){var n=this.size;return A(t,e,n)?this:new dt(this._value,L(e,n)-C(t,n))},dt.prototype.reverse=function(){return this},dt.prototype.indexOf=function(t){return ft(this._value,t)?0:-1},dt.prototype.lastIndexOf=function(t){return ft(this._value,t)?this.size:-1},dt.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},dt.prototype.__iterator=function(t,e){var n=this,r=0;return new P(function(){return r<n.size?B(t,r++,n._value):{value:void 0,done:!0}})},dt.prototype.equals=function(t){return t instanceof dt?ft(this._value,t._value):mt(t)},e(_t,Y),_t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},_t.prototype.get=function(t,e){return this.has(t)?this._start+T(this,t)*this._step:e},_t.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},_t.prototype.slice=function(t,e){return A(t,e,this.size)?this:(t=C(t,this.size),(e=L(e,this.size))<=t?new _t(0,0):new _t(this.get(t,this._end),this.get(e,this._end),this._step))},_t.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},_t.prototype.lastIndexOf=function(t){return this.indexOf(t)},_t.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,o=e?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===t(o,i,this))return i+1;o+=e?-r:r}return i},_t.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,o=e?this._start+n*r:this._start,i=0;return new P(function(){var s=o;return o+=e?-r:r,i>n?{value:void 0,done:!0}:B(t,i++,s)})},_t.prototype.equals=function(t){return t instanceof _t?this._start===t._start&&this._end===t._end&&this._step===t._step:mt(this,t)},e(vt,n),e(bt,vt),e(wt,vt),e(St,vt),vt.Keyed=bt,vt.Indexed=wt,vt.Set=St;var It="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function Et(t){return t>>>1&1073741824|3221225471&t}function Ot(t){if(!1===t||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null===t||void 0===t))return 0;if(!0===t)return 1;var e,n,r=typeof t;if("number"===r){if(t!=t||t===1/0)return 0;var o=0|t;for(o!==t&&(o^=4294967295*t);t>4294967295;)o^=t/=4294967295;return Et(o)}if("string"===r)return t.length>xt?(void 0===(n=qt[e=t])&&(n=Tt(e),Rt===Dt&&(Rt=0,qt={}),Rt++,qt[e]=n),n):Tt(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===r)return function(t){var e;if(Lt&&void 0!==(e=Mt.get(t)))return e;if(void 0!==(e=t[kt]))return e;if(!Ct){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[kt]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=++jt,1073741824&jt&&(jt=0),Lt)Mt.set(t,e);else{if(void 0!==At&&!1===At(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Ct)Object.defineProperty(t,kt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[kt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[kt]=e}}return e}(t);if("function"==typeof t.toString)return Tt(t.toString());throw new Error("Value type "+r+" cannot be hashed.")}function Tt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return Et(e)}var Mt,At=Object.isExtensible,Ct=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),Lt="function"==typeof WeakMap;Lt&&(Mt=new WeakMap);var jt=0,kt="__immutablehash__";"function"==typeof Symbol&&(kt=Symbol(kt));var xt=16,Dt=255,Rt=0,qt={};function Ut(t){yt(t!==1/0,"Cannot perform this action with an infinite size.")}function Pt(t){return null===t||void 0===t?Xt():Bt(t)&&!g(t)?t:Xt().withMutations(function(e){var n=r(t);Ut(n.size),n.forEach(function(t,n){return e.set(n,t)})})}function Bt(t){return!(!t||!t[zt])}e(Pt,bt),Pt.of=function(){var e=t.call(arguments,0);return Xt().withMutations(function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}})},Pt.prototype.toString=function(){return this.__toString("Map {","}")},Pt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Pt.prototype.set=function(t,e){return Qt(this,t,e)},Pt.prototype.setIn=function(t,e){return this.updateIn(t,_,function(){return e})},Pt.prototype.remove=function(t){return Qt(this,t,_)},Pt.prototype.deleteIn=function(t){return this.updateIn(t,function(){return _})},Pt.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},Pt.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=function t(e,n,r,o){var i=e===_,s=n.next();if(s.done){var c=i?r:e,a=o(c);return a===c?e:a}yt(i||e&&e.set,"invalid keyPath");var u=s.value,g=i?_:e.get(u,_),h=t(g,n,r,o);return h===g?e:h===_?e.remove(u):(i?Xt():e).set(u,h)}(this,nn(t),e,n);return r===_?void 0:r},Pt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Xt()},Pt.prototype.merge=function(){return re(this,void 0,arguments)},Pt.prototype.mergeWith=function(e){var n=t.call(arguments,1);return re(this,e,n)},Pt.prototype.mergeIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Xt(),function(t){return"function"==typeof t.merge?t.merge.apply(t,n):n[n.length-1]})},Pt.prototype.mergeDeep=function(){return re(this,oe,arguments)},Pt.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return re(this,ie(e),n)},Pt.prototype.mergeDeepIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Xt(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,n):n[n.length-1]})},Pt.prototype.sort=function(t){return Ce(We(this,t))},Pt.prototype.sortBy=function(t,e){return Ce(We(this,e,t))},Pt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Pt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new I)},Pt.prototype.asImmutable=function(){return this.__ensureOwner()},Pt.prototype.wasAltered=function(){return this.__altered},Pt.prototype.__iterator=function(t,e){return new Yt(this,t,e)},Pt.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},Pt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Zt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Pt.isMap=Bt;var Nt,zt="@@__IMMUTABLE_MAP__@@",Ht=Pt.prototype;function Kt(t,e){this.ownerID=t,this.entries=e}function Vt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function Wt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function Ft(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function $t(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function Yt(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&Gt(t._root)}function Jt(t,e){return B(t,e[0],e[1])}function Gt(t,e){return{node:t,index:0,__prev:e}}function Zt(t,e,n,r){var o=Object.create(Ht);return o.size=t,o._root=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Xt(){return Nt||(Nt=Zt(0))}function Qt(t,e,n){var r,o;if(t._root){var i=w(v),s=w(b);if(r=te(t._root,t.__ownerID,0,void 0,e,n,i,s),!s.value)return t;o=t.size+(i.value?n===_?-1:1:0)}else{if(n===_)return t;o=1,r=new Kt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=o,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?Zt(o,r):Xt()}function te(t,e,n,r,o,i,s,c){return t?t.update(e,n,r,o,i,s,c):i===_?t:(S(c),S(s),new $t(e,r,[o,i]))}function ee(t){return t.constructor===$t||t.constructor===Ft}function ne(t,e,n,r,o){if(t.keyHash===r)return new Ft(e,r,[t.entry,o]);var i,s=(0===n?t.keyHash:t.keyHash>>>n)&y,c=(0===n?r:r>>>n)&y,a=s===c?[ne(t,e,n+m,r,o)]:(i=new $t(e,r,o),s<c?[t,i]:[i,t]);return new Vt(e,1<<s|1<<c,a)}function re(t,e,n){for(var o=[],i=0;i<n.length;i++){var c=n[i],a=r(c);s(c)||(a=a.map(function(t){return ht(t)})),o.push(a)}return se(t,e,o)}function oe(t,e,n){return t&&t.mergeDeep&&s(e)?t.mergeDeep(e):ft(t,e)?t:e}function ie(t){return function(e,n,r){if(e&&e.mergeDeepWith&&s(n))return e.mergeDeepWith(t,n);var o=t(e,n,r);return ft(e,o)?e:o}}function se(t,e,n){return 0===(n=n.filter(function(t){return 0!==t.size})).length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,_,function(t){return t===_?n:e(t,n,r)})}:function(e,n){t.set(n,e)},o=0;o<n.length;o++)n[o].forEach(r)}):t.constructor(n[0])}function ce(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function ae(t,e,n,r){var o=r?t:E(t);return o[e]=n,o}Ht[zt]=!0,Ht.delete=Ht.remove,Ht.removeIn=Ht.deleteIn,Kt.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,s=o.length;i<s;i++)if(ft(n,o[i][0]))return o[i][1];return r},Kt.prototype.update=function(t,e,n,r,o,i,s){for(var c=o===_,a=this.entries,u=0,g=a.length;u<g&&!ft(r,a[u][0]);u++);var h=u<g;if(h?a[u][1]===o:c)return this;if(S(s),(c||!h)&&S(i),!c||1!==a.length){if(!h&&!c&&a.length>=ue)return function(t,e,n,r){t||(t=new I);for(var o=new $t(t,Ot(n),[n,r]),i=0;i<e.length;i++){var s=e[i];o=o.update(t,0,void 0,s[0],s[1])}return o}(t,a,r,o);var l=t&&t===this.ownerID,p=l?a:E(a);return h?c?u===g-1?p.pop():p[u]=p.pop():p[u]=[r,o]:p.push([r,o]),l?(this.entries=p,this):new Kt(t,p)}},Vt.prototype.get=function(t,e,n,r){void 0===e&&(e=Ot(n));var o=1<<((0===t?e:e>>>t)&y),i=this.bitmap;return 0==(i&o)?r:this.nodes[ce(i&o-1)].get(t+m,e,n,r)},Vt.prototype.update=function(t,e,n,r,o,i,s){void 0===n&&(n=Ot(r));var c=(0===e?n:n>>>e)&y,a=1<<c,u=this.bitmap,g=0!=(u&a);if(!g&&o===_)return this;var h=ce(u&a-1),l=this.nodes,p=g?l[h]:void 0,f=te(p,t,e+m,n,r,o,i,s);if(f===p)return this;if(!g&&f&&l.length>=ge)return function(t,e,n,r,o){for(var i=0,s=new Array(d),c=0;0!==n;c++,n>>>=1)s[c]=1&n?e[i++]:void 0;return s[r]=o,new Wt(t,i+1,s)}(t,l,u,c,f);if(g&&!f&&2===l.length&&ee(l[1^h]))return l[1^h];if(g&&f&&1===l.length&&ee(f))return f;var v=t&&t===this.ownerID,b=g?f?u:u^a:u|a,w=g?f?ae(l,h,f,v):function(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var o=new Array(r),i=0,s=0;s<r;s++)s===e&&(i=1),o[s]=t[s+i];return o}(l,h,v):function(t,e,n,r){var o=t.length+1;if(r&&e+1===o)return t[e]=n,t;for(var i=new Array(o),s=0,c=0;c<o;c++)c===e?(i[c]=n,s=-1):i[c]=t[c+s];return i}(l,h,f,v);return v?(this.bitmap=b,this.nodes=w,this):new Vt(t,b,w)},Wt.prototype.get=function(t,e,n,r){void 0===e&&(e=Ot(n));var o=(0===t?e:e>>>t)&y,i=this.nodes[o];return i?i.get(t+m,e,n,r):r},Wt.prototype.update=function(t,e,n,r,o,i,s){void 0===n&&(n=Ot(r));var c=(0===e?n:n>>>e)&y,a=o===_,u=this.nodes,g=u[c];if(a&&!g)return this;var h=te(g,t,e+m,n,r,o,i,s);if(h===g)return this;var l=this.count;if(g){if(!h&&--l<he)return function(t,e,n,r){for(var o=0,i=0,s=new Array(n),c=0,a=1,u=e.length;c<u;c++,a<<=1){var g=e[c];void 0!==g&&c!==r&&(o|=a,s[i++]=g)}return new Vt(t,o,s)}(t,u,l,c)}else l++;var p=t&&t===this.ownerID,f=ae(u,c,h,p);return p?(this.count=l,this.nodes=f,this):new Wt(t,l,f)},Ft.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,s=o.length;i<s;i++)if(ft(n,o[i][0]))return o[i][1];return r},Ft.prototype.update=function(t,e,n,r,o,i,s){void 0===n&&(n=Ot(r));var c=o===_;if(n!==this.keyHash)return c?this:(S(s),S(i),ne(this,t,e,n,[r,o]));for(var a=this.entries,u=0,g=a.length;u<g&&!ft(r,a[u][0]);u++);var h=u<g;if(h?a[u][1]===o:c)return this;if(S(s),(c||!h)&&S(i),c&&2===g)return new $t(t,this.keyHash,a[1^u]);var l=t&&t===this.ownerID,p=l?a:E(a);return h?c?u===g-1?p.pop():p[u]=p.pop():p[u]=[r,o]:p.push([r,o]),l?(this.entries=p,this):new Ft(t,this.keyHash,p)},$t.prototype.get=function(t,e,n,r){return ft(n,this.entry[0])?this.entry[1]:r},$t.prototype.update=function(t,e,n,r,o,i,s){var c=o===_,a=ft(r,this.entry[0]);return(a?o===this.entry[1]:c)?this:(S(s),c?void S(i):a?t&&t===this.ownerID?(this.entry[1]=o,this):new $t(t,this.keyHash,[r,o]):(S(i),ne(this,t,e,Ot(r),[r,o])))},Kt.prototype.iterate=Ft.prototype.iterate=function(t,e){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===t(n[e?o-r:r]))return!1},Vt.prototype.iterate=Wt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[e?o-r:r];if(i&&!1===i.iterate(t,e))return!1}},$t.prototype.iterate=function(t,e){return t(this.entry)},e(Yt,P),Yt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,o=e.index++;if(r.entry){if(0===o)return Jt(t,r.entry)}else if(r.entries){if(n=r.entries.length-1,o<=n)return Jt(t,r.entries[this._reverse?n-o:o])}else if(n=r.nodes.length-1,o<=n){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return Jt(t,i.entry);e=this._stack=Gt(i,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ue=d/4,ge=d/2,he=d/4;function le(t){var e=Se();if(null===t||void 0===t)return e;if(pe(t))return t;var n=o(t),r=n.size;return 0===r?e:(Ut(r),r>0&&r<d?we(0,r,m,null,new de(n.toArray())):e.withMutations(function(t){t.setSize(r),n.forEach(function(e,n){return t.set(n,e)})}))}function pe(t){return!(!t||!t[fe])}e(le,wt),le.of=function(){return this(arguments)},le.prototype.toString=function(){return this.__toString("List [","]")},le.prototype.get=function(t,e){if((t=T(this,t))>=0&&t<this.size){var n=Oe(this,t+=this._origin);return n&&n.array[t&y]}return e},le.prototype.set=function(t,e){return function(t,e,n){if((e=T(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?Te(t,e).set(0,n):Te(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,o=t._root,i=w(b);return e>=Ae(t._capacity)?r=Ie(r,t.__ownerID,0,e,n,i):o=Ie(o,t.__ownerID,t._level,e,n,i),i.value?t.__ownerID?(t._root=o,t._tail=r,t.__hash=void 0,t.__altered=!0,t):we(t._origin,t._capacity,t._level,o,r):t}(this,t,e)},le.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},le.prototype.insert=function(t,e){return this.splice(t,0,e)},le.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=m,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Se()},le.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){Te(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},le.prototype.pop=function(){return Te(this,0,-1)},le.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Te(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},le.prototype.shift=function(){return Te(this,1)},le.prototype.merge=function(){return Me(this,void 0,arguments)},le.prototype.mergeWith=function(e){var n=t.call(arguments,1);return Me(this,e,n)},le.prototype.mergeDeep=function(){return Me(this,oe,arguments)},le.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return Me(this,ie(e),n)},le.prototype.setSize=function(t){return Te(this,0,t)},le.prototype.slice=function(t,e){var n=this.size;return A(t,e,n)?this:Te(this,C(t,n),L(e,n))},le.prototype.__iterator=function(t,e){var n=0,r=be(this,e);return new P(function(){var e=r();return e===ve?{value:void 0,done:!0}:B(t,n++,e)})},le.prototype.__iterate=function(t,e){for(var n,r=0,o=be(this,e);(n=o())!==ve&&!1!==t(n,r++,this););return r},le.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?we(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},le.isList=pe;var fe="@@__IMMUTABLE_LIST__@@",me=le.prototype;function de(t,e){this.array=t,this.ownerID=e}me[fe]=!0,me.delete=me.remove,me.setIn=Ht.setIn,me.deleteIn=me.removeIn=Ht.removeIn,me.update=Ht.update,me.updateIn=Ht.updateIn,me.mergeIn=Ht.mergeIn,me.mergeDeepIn=Ht.mergeDeepIn,me.withMutations=Ht.withMutations,me.asMutable=Ht.asMutable,me.asImmutable=Ht.asImmutable,me.wasAltered=Ht.wasAltered,de.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&y;if(r>=this.array.length)return new de([],t);var o,i=0===r;if(e>0){var s=this.array[r];if((o=s&&s.removeBefore(t,e-m,n))===s&&i)return this}if(i&&!o)return this;var c=Ee(this,t);if(!i)for(var a=0;a<r;a++)c.array[a]=void 0;return o&&(c.array[r]=o),c},de.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,o=n-1>>>e&y;if(o>=this.array.length)return this;if(e>0){var i=this.array[o];if((r=i&&i.removeAfter(t,e-m,n))===i&&o===this.array.length-1)return this}var s=Ee(this,t);return s.array.splice(o+1),r&&(s.array[o]=r),s};var ye,_e,ve={};function be(t,e){var n=t._origin,r=t._capacity,o=Ae(r),i=t._tail;return s(t._root,t._level,0);function s(t,c,a){return 0===c?function(t,s){var c=s===o?i&&i.array:t&&t.array,a=s>n?0:n-s,u=r-s;return u>d&&(u=d),function(){if(a===u)return ve;var t=e?--u:a++;return c&&c[t]}}(t,a):function(t,o,i){var c,a=t&&t.array,u=i>n?0:n-i>>o,g=1+(r-i>>o);return g>d&&(g=d),function(){for(;;){if(c){var t=c();if(t!==ve)return t;c=null}if(u===g)return ve;var n=e?--g:u++;c=s(a&&a[n],o-m,i+(n<<o))}}}(t,c,a)}}function we(t,e,n,r,o,i,s){var c=Object.create(me);return c.size=e-t,c._origin=t,c._capacity=e,c._level=n,c._root=r,c._tail=o,c.__ownerID=i,c.__hash=s,c.__altered=!1,c}function Se(){return ye||(ye=we(0,0,m))}function Ie(t,e,n,r,o,i){var s,c=r>>>n&y,a=t&&c<t.array.length;if(!a&&void 0===o)return t;if(n>0){var u=t&&t.array[c],g=Ie(u,e,n-m,r,o,i);return g===u?t:((s=Ee(t,e)).array[c]=g,s)}return a&&t.array[c]===o?t:(S(i),s=Ee(t,e),void 0===o&&c===s.array.length-1?s.array.pop():s.array[c]=o,s)}function Ee(t,e){return e&&t&&e===t.ownerID?t:new de(t?t.array.slice():[],e)}function Oe(t,e){if(e>=Ae(t._capacity))return t._tail;if(e<1<<t._level+m){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&y],r-=m;return n}}function Te(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new I,o=t._origin,i=t._capacity,s=o+e,c=void 0===n?i:n<0?i+n:o+n;if(s===o&&c===i)return t;if(s>=c)return t.clear();for(var a=t._level,u=t._root,g=0;s+g<0;)u=new de(u&&u.array.length?[void 0,u]:[],r),g+=1<<(a+=m);g&&(s+=g,o+=g,c+=g,i+=g);for(var h=Ae(i),l=Ae(c);l>=1<<a+m;)u=new de(u&&u.array.length?[u]:[],r),a+=m;var p=t._tail,f=l<h?Oe(t,c-1):l>h?new de([],r):p;if(p&&l>h&&s<i&&p.array.length){for(var d=u=Ee(u,r),_=a;_>m;_-=m){var v=h>>>_&y;d=d.array[v]=Ee(d.array[v],r)}d.array[h>>>m&y]=p}if(c<i&&(f=f&&f.removeAfter(r,0,c)),s>=l)s-=l,c-=l,a=m,u=null,f=f&&f.removeBefore(r,0,s);else if(s>o||l<h){for(g=0;u;){var b=s>>>a&y;if(b!==l>>>a&y)break;b&&(g+=(1<<a)*b),a-=m,u=u.array[b]}u&&s>o&&(u=u.removeBefore(r,a,s-g)),u&&l<h&&(u=u.removeAfter(r,a,l-g)),g&&(s-=g,c-=g)}return t.__ownerID?(t.size=c-s,t._origin=s,t._capacity=c,t._level=a,t._root=u,t._tail=f,t.__hash=void 0,t.__altered=!0,t):we(s,c,a,u,f)}function Me(t,e,n){for(var r=[],i=0,c=0;c<n.length;c++){var a=n[c],u=o(a);u.size>i&&(i=u.size),s(a)||(u=u.map(function(t){return ht(t)})),r.push(u)}return i>t.size&&(t=t.setSize(i)),se(t,e,r)}function Ae(t){return t<d?0:t-1>>>m<<m}function Ce(t){return null===t||void 0===t?ke():Le(t)?t:ke().withMutations(function(e){var n=r(t);Ut(n.size),n.forEach(function(t,n){return e.set(n,t)})})}function Le(t){return Bt(t)&&g(t)}function je(t,e,n,r){var o=Object.create(Ce.prototype);return o.size=t?t.size:0,o._map=t,o._list=e,o.__ownerID=n,o.__hash=r,o}function ke(){return _e||(_e=je(Xt(),Se()))}function xe(t,e,n){var r,o,i=t._map,s=t._list,c=i.get(e),a=void 0!==c;if(n===_){if(!a)return t;s.size>=d&&s.size>=2*i.size?(o=s.filter(function(t,e){return void 0!==t&&c!==e}),r=o.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=o.__ownerID=t.__ownerID)):(r=i.remove(e),o=c===s.size-1?s.pop():s.set(c,void 0))}else if(a){if(n===s.get(c)[1])return t;r=i,o=s.set(c,[e,n])}else r=i.set(e,s.size),o=s.set(s.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=o,t.__hash=void 0,t):je(r,o)}function De(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Re(t){this._iter=t,this.size=t.size}function qe(t){this._iter=t,this.size=t.size}function Ue(t){this._iter=t,this.size=t.size}function Pe(t){var e=Qe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=tn,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return!1!==e(n,t,r)},n)},e.__iteratorUncached=function(e,n){if(e===D){var r=t.__iterator(e,n);return new P(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===x?k:x,n)},e}function Be(t,e,n){var r=Qe(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,o){var i=t.get(r,_);return i===_?o:e.call(n,i,r,t)},r.__iterateUncached=function(r,o){var i=this;return t.__iterate(function(t,o,s){return!1!==r(e.call(n,t,o,s),o,i)},o)},r.__iteratorUncached=function(r,o){var i=t.__iterator(D,o);return new P(function(){var o=i.next();if(o.done)return o;var s=o.value,c=s[0];return B(r,c,e.call(n,s[1],c,t),o)})},r}function Ne(t,e){var n=Qe(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=Pe(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=tn,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function ze(t,e,n,r){var o=Qe(t);return r&&(o.has=function(r){var o=t.get(r,_);return o!==_&&!!e.call(n,o,r,t)},o.get=function(r,o){var i=t.get(r,_);return i!==_&&e.call(n,i,r,t)?i:o}),o.__iterateUncached=function(o,i){var s=this,c=0;return t.__iterate(function(t,i,a){if(e.call(n,t,i,a))return c++,o(t,r?i:c-1,s)},i),c},o.__iteratorUncached=function(o,i){var s=t.__iterator(D,i),c=0;return new P(function(){for(;;){var i=s.next();if(i.done)return i;var a=i.value,u=a[0],g=a[1];if(e.call(n,g,u,t))return B(o,r?u:c++,g,i)}})},o}function He(t,e,n,r){var o=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n===1/0?n=o:n|=0),A(e,n,o))return t;var i=C(e,o),s=L(n,o);if(i!=i||s!=s)return He(t.toSeq().cacheResult(),e,n,r);var c,a=s-i;a==a&&(c=a<0?0:a);var u=Qe(t);return u.size=0===c?c:t.size&&c||void 0,!r&&ot(t)&&c>=0&&(u.get=function(e,n){return(e=T(this,e))>=0&&e<c?t.get(e+i,n):n}),u.__iterateUncached=function(e,n){var o=this;if(0===c)return 0;if(n)return this.cacheResult().__iterate(e,n);var s=0,a=!0,u=0;return t.__iterate(function(t,n){if(!a||!(a=s++<i))return u++,!1!==e(t,r?n:u-1,o)&&u!==c}),u},u.__iteratorUncached=function(e,n){if(0!==c&&n)return this.cacheResult().__iterator(e,n);var o=0!==c&&t.__iterator(e,n),s=0,a=0;return new P(function(){for(;s++<i;)o.next();if(++a>c)return{value:void 0,done:!0};var t=o.next();return r||e===x?t:B(e,a-1,e===k?void 0:t.value[1],t)})},u}function Ke(t,e,n,r){var o=Qe(t);return o.__iterateUncached=function(o,i){var s=this;if(i)return this.cacheResult().__iterate(o,i);var c=!0,a=0;return t.__iterate(function(t,i,u){if(!c||!(c=e.call(n,t,i,u)))return a++,o(t,r?i:a-1,s)}),a},o.__iteratorUncached=function(o,i){var s=this;if(i)return this.cacheResult().__iterator(o,i);var c=t.__iterator(D,i),a=!0,u=0;return new P(function(){var t,i,g;do{if((t=c.next()).done)return r||o===x?t:B(o,u++,o===k?void 0:t.value[1],t);var h=t.value;i=h[0],g=h[1],a&&(a=e.call(n,g,i,s))}while(a);return o===D?t:B(o,i,g,t)})},o}function Ve(t,e,n){var r=Qe(t);return r.__iterateUncached=function(r,o){var i=0,c=!1;return function t(a,u){var g=this;a.__iterate(function(o,a){return(!e||u<e)&&s(o)?t(o,u+1):!1===r(o,n?a:i++,g)&&(c=!0),!c},o)}(t,0),i},r.__iteratorUncached=function(r,o){var i=t.__iterator(r,o),c=[],a=0;return new P(function(){for(;i;){var t=i.next();if(!1===t.done){var u=t.value;if(r===D&&(u=u[1]),e&&!(c.length<e)||!s(u))return n?t:B(r,a++,u,t);c.push(i),i=u.__iterator(r,o)}else i=c.pop()}return{value:void 0,done:!0}})},r}function We(t,e,n){e||(e=en);var r=c(t),o=0,i=t.toSeq().map(function(e,r){return[r,e,o++,n?n(e,r,t):e]}).toArray();return i.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){i[e].length=2}:function(t,e){i[e]=t[1]}),r?$(i):a(t)?Y(i):J(i)}function Fe(t,e,n){if(e||(e=en),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return $e(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return $e(e,t,n)?n:t})}function $e(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!=n)||r>0}function Ye(t,e,r){var o=Qe(t);return o.size=new tt(r).map(function(t){return t.size}).min(),o.__iterate=function(t,e){for(var n,r=this.__iterator(x,e),o=0;!(n=r.next()).done&&!1!==t(n.value,o++,this););return o},o.__iteratorUncached=function(t,o){var i=r.map(function(t){return t=n(t),K(o?t.reverse():t)}),s=0,c=!1;return new P(function(){var n;return c||(n=i.map(function(t){return t.next()}),c=n.some(function(t){return t.done})),c?{value:void 0,done:!0}:B(t,s++,e.apply(null,n.map(function(t){return t.value})))})},o}function Je(t,e){return ot(t)?e:t.constructor(e)}function Ge(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ze(t){return Ut(t.size),O(t)}function Xe(t){return c(t)?r:a(t)?o:i}function Qe(t){return Object.create((c(t)?$:a(t)?Y:J).prototype)}function tn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):F.prototype.cacheResult.call(this)}function en(t,e){return t>e?1:t<e?-1:0}function nn(t){var e=K(t);if(!e){if(!W(t))throw new TypeError("Expected iterable or array-like: "+t);e=K(n(t))}return e}function rn(t,e){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var s=Object.keys(t);!function(t,e){try{e.forEach(function(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){yt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}.bind(void 0,t))}catch(t){}}(o,s),o.size=s.length,o._name=e,o._keys=s,o._defaultValues=t}this._map=Pt(i)},o=r.prototype=Object.create(on);return o.constructor=r,r}e(Ce,Pt),Ce.of=function(){return this(arguments)},Ce.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Ce.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Ce.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ke()},Ce.prototype.set=function(t,e){return xe(this,t,e)},Ce.prototype.remove=function(t){return xe(this,t,_)},Ce.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Ce.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Ce.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Ce.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?je(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Ce.isOrderedMap=Le,Ce.prototype[f]=!0,Ce.prototype.delete=Ce.prototype.remove,e(De,$),De.prototype.get=function(t,e){return this._iter.get(t,e)},De.prototype.has=function(t){return this._iter.has(t)},De.prototype.valueSeq=function(){return this._iter.valueSeq()},De.prototype.reverse=function(){var t=this,e=Ne(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},De.prototype.map=function(t,e){var n=this,r=Be(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},De.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?Ze(this):0,function(o){return t(o,e?--n:n++,r)}),e)},De.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(x,e),r=e?Ze(this):0;return new P(function(){var o=n.next();return o.done?o:B(t,e?--r:r++,o.value,o)})},De.prototype[f]=!0,e(Re,Y),Re.prototype.includes=function(t){return this._iter.includes(t)},Re.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},Re.prototype.__iterator=function(t,e){var n=this._iter.__iterator(x,e),r=0;return new P(function(){var e=n.next();return e.done?e:B(t,r++,e.value,e)})},e(qe,J),qe.prototype.has=function(t){return this._iter.includes(t)},qe.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},qe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(x,e);return new P(function(){var e=n.next();return e.done?e:B(t,e.value,e.value,e)})},e(Ue,$),Ue.prototype.entrySeq=function(){return this._iter.toSeq()},Ue.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){Ge(e);var r=s(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},Ue.prototype.__iterator=function(t,e){var n=this._iter.__iterator(x,e);return new P(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Ge(r);var o=s(r);return B(t,o?r.get(0):r[0],o?r.get(1):r[1],e)}}})},Re.prototype.cacheResult=De.prototype.cacheResult=qe.prototype.cacheResult=Ue.prototype.cacheResult=tn,e(rn,bt),rn.prototype.toString=function(){return this.__toString(cn(this)+" {","}")},rn.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},rn.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},rn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=sn(this,Xt()))},rn.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+cn(this));if(this._map&&!this._map.has(t)){var n=this._defaultValues[t];if(e===n)return this}var r=this._map&&this._map.set(t,e);return this.__ownerID||r===this._map?this:sn(this,r)},rn.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:sn(this,e)},rn.prototype.wasAltered=function(){return this._map.wasAltered()},rn.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map(function(t,e){return n.get(e)}).__iterator(t,e)},rn.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map(function(t,e){return n.get(e)}).__iterate(t,e)},rn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?sn(this,e,t):(this.__ownerID=t,this._map=e,this)};var on=rn.prototype;function sn(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function cn(t){return t._name||t.constructor.name||"Record"}function an(t){return null===t||void 0===t?mn():un(t)&&!g(t)?t:mn().withMutations(function(e){var n=i(t);Ut(n.size),n.forEach(function(t){return e.add(t)})})}function un(t){return!(!t||!t[hn])}on.delete=on.remove,on.deleteIn=on.removeIn=Ht.removeIn,on.merge=Ht.merge,on.mergeWith=Ht.mergeWith,on.mergeIn=Ht.mergeIn,on.mergeDeep=Ht.mergeDeep,on.mergeDeepWith=Ht.mergeDeepWith,on.mergeDeepIn=Ht.mergeDeepIn,on.setIn=Ht.setIn,on.update=Ht.update,on.updateIn=Ht.updateIn,on.withMutations=Ht.withMutations,on.asMutable=Ht.asMutable,on.asImmutable=Ht.asImmutable,e(an,St),an.of=function(){return this(arguments)},an.fromKeys=function(t){return this(r(t).keySeq())},an.prototype.toString=function(){return this.__toString("Set {","}")},an.prototype.has=function(t){return this._map.has(t)},an.prototype.add=function(t){return pn(this,this._map.set(t,!0))},an.prototype.remove=function(t){return pn(this,this._map.remove(t))},an.prototype.clear=function(){return pn(this,this._map.clear())},an.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter(function(t){return 0!==t.size})).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var n=0;n<e.length;n++)i(e[n]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},an.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map(function(t){return i(t)});var n=this;return this.withMutations(function(t){n.forEach(function(n){e.every(function(t){return t.includes(n)})||t.remove(n)})})},an.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map(function(t){return i(t)});var n=this;return this.withMutations(function(t){n.forEach(function(n){e.some(function(t){return t.includes(n)})&&t.remove(n)})})},an.prototype.merge=function(){return this.union.apply(this,arguments)},an.prototype.mergeWith=function(e){var n=t.call(arguments,1);return this.union.apply(this,n)},an.prototype.sort=function(t){return dn(We(this,t))},an.prototype.sortBy=function(t,e){return dn(We(this,e,t))},an.prototype.wasAltered=function(){return this._map.wasAltered()},an.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},an.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},an.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},an.isSet=un;var gn,hn="@@__IMMUTABLE_SET__@@",ln=an.prototype;function pn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function fn(t,e){var n=Object.create(ln);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function mn(){return gn||(gn=fn(Xt()))}function dn(t){return null===t||void 0===t?wn():yn(t)?t:wn().withMutations(function(e){var n=i(t);Ut(n.size),n.forEach(function(t){return e.add(t)})})}function yn(t){return un(t)&&g(t)}ln[hn]=!0,ln.delete=ln.remove,ln.mergeDeep=ln.merge,ln.mergeDeepWith=ln.mergeWith,ln.withMutations=Ht.withMutations,ln.asMutable=Ht.asMutable,ln.asImmutable=Ht.asImmutable,ln.__empty=mn,ln.__make=fn,e(dn,an),dn.of=function(){return this(arguments)},dn.fromKeys=function(t){return this(r(t).keySeq())},dn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},dn.isOrderedSet=yn;var _n,vn=dn.prototype;function bn(t,e){var n=Object.create(vn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function wn(){return _n||(_n=bn(ke()))}function Sn(t){return null===t||void 0===t?An():In(t)?t:An().unshiftAll(t)}function In(t){return!(!t||!t[On])}vn[f]=!0,vn.__empty=wn,vn.__make=bn,e(Sn,wt),Sn.of=function(){return this(arguments)},Sn.prototype.toString=function(){return this.__toString("Stack [","]")},Sn.prototype.get=function(t,e){var n=this._head;for(t=T(this,t);n&&t--;)n=n.next;return n?n.value:e},Sn.prototype.peek=function(){return this._head&&this._head.value},Sn.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Mn(t,e)},Sn.prototype.pushAll=function(t){if(0===(t=o(t)).size)return this;Ut(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Mn(e,n)},Sn.prototype.pop=function(){return this.slice(1)},Sn.prototype.unshift=function(){return this.push.apply(this,arguments)},Sn.prototype.unshiftAll=function(t){return this.pushAll(t)},Sn.prototype.shift=function(){return this.pop.apply(this,arguments)},Sn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):An()},Sn.prototype.slice=function(t,e){if(A(t,e,this.size))return this;var n=C(t,this.size),r=L(e,this.size);if(r!==this.size)return wt.prototype.slice.call(this,t,e);for(var o=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):Mn(o,i)},Sn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Mn(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Sn.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},Sn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new P(function(){if(r){var e=r.value;return r=r.next,B(t,n++,e)}return{value:void 0,done:!0}})},Sn.isStack=In;var En,On="@@__IMMUTABLE_STACK__@@",Tn=Sn.prototype;function Mn(t,e,n,r){var o=Object.create(Tn);return o.size=t,o._head=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function An(){return En||(En=Mn(0))}function Cn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}Tn[On]=!0,Tn.withMutations=Ht.withMutations,Tn.asMutable=Ht.asMutable,Tn.asImmutable=Ht.asImmutable,Tn.wasAltered=Ht.wasAltered,n.Iterator=P,Cn(n,{toArray:function(){Ut(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new Re(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new De(this,!0)},toMap:function(){return Pt(this.toKeyedSeq())},toObject:function(){Ut(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Ce(this.toKeyedSeq())},toOrderedSet:function(){return dn(c(this)?this.valueSeq():this)},toSet:function(){return an(c(this)?this.valueSeq():this)},toSetSeq:function(){return new qe(this)},toSeq:function(){return a(this)?this.toIndexedSeq():c(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Sn(c(this)?this.valueSeq():this)},toList:function(){return le(c(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var e=t.call(arguments,0);return Je(this,function(t,e){var n=c(t),o=[t].concat(e).map(function(t){return s(t)?n&&(t=r(t)):t=n?st(t):ct(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===o.length)return t;if(1===o.length){var i=o[0];if(i===t||n&&c(i)||a(t)&&a(i))return i}var u=new tt(o);return n?u=u.toKeyedSeq():a(t)||(u=u.toSetSeq()),(u=u.flatten(!0)).size=o.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),u}(this,e))},includes:function(t){return this.some(function(e){return ft(e,t)})},entries:function(){return this.__iterator(D)},every:function(t,e){Ut(this.size);var n=!0;return this.__iterate(function(r,o,i){if(!t.call(e,r,o,i))return n=!1,!1}),n},filter:function(t,e){return Je(this,ze(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return Ut(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Ut(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""}),e},keys:function(){return this.__iterator(k)},map:function(t,e){return Je(this,Be(this,t,e))},reduce:function(t,e,n){var r,o;return Ut(this.size),arguments.length<2?o=!0:r=e,this.__iterate(function(e,i,s){o?(o=!1,r=e):r=t.call(n,r,e,i,s)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Je(this,Ne(this,!0))},slice:function(t,e){return Je(this,He(this,t,e,!0))},some:function(t,e){return!this.every(Dn(t),e)},sort:function(t){return Je(this,We(this,t))},values:function(){return this.__iterator(x)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return O(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var r=Pt().asMutable();return t.__iterate(function(o,i){r.update(e.call(n,o,i,t),0,function(t){return t+1})}),r.asImmutable()}(this,t,e)},equals:function(t){return mt(this,t)},entrySeq:function(){var t=this;if(t._cache)return new tt(t._cache);var e=t.toSeq().map(xn).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Dn(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate(function(n,o,i){if(t.call(e,n,o,i))return r=[o,n],!1}),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(M)},flatMap:function(t,e){return Je(this,function(t,e,n){var r=Xe(t);return t.toSeq().map(function(o,i){return r(e.call(n,o,i,t))}).flatten(!0)}(this,t,e))},flatten:function(t){return Je(this,Ve(this,t,!0))},fromEntrySeq:function(){return new Ue(this)},get:function(t,e){return this.find(function(e,n){return ft(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,o=nn(t);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,_):_)===_)return e}return r},groupBy:function(t,e){return function(t,e,n){var r=c(t),o=(g(t)?Ce():Pt()).asMutable();t.__iterate(function(i,s){o.update(e.call(n,i,s,t),function(t){return(t=t||[]).push(r?[s,i]:i),t})});var i=Xe(t);return o.map(function(e){return Je(t,i(e))})}(this,t,e)},has:function(t){return this.get(t,_)!==_},hasIn:function(t){return this.getIn(t,_)!==_},isSubset:function(t){return t="function"==typeof t.includes?t:n(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:n(t)).isSubset(this)},keyOf:function(t){return this.findKey(function(e){return ft(e,t)})},keySeq:function(){return this.toSeq().map(kn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Fe(this,t)},maxBy:function(t,e){return Fe(this,e,t)},min:function(t){return Fe(this,t?Rn(t):Pn)},minBy:function(t,e){return Fe(this,e?Rn(e):Pn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Je(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Je(this,Ke(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Dn(t),e)},sortBy:function(t,e){return Je(this,We(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Je(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Je(this,function(t,e,n){var r=Qe(t);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var s=0;return t.__iterate(function(t,o,c){return e.call(n,t,o,c)&&++s&&r(t,o,i)}),s},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var s=t.__iterator(D,o),c=!0;return new P(function(){if(!c)return{value:void 0,done:!0};var t=s.next();if(t.done)return t;var o=t.value,a=o[0],u=o[1];return e.call(n,u,a,i)?r===D?t:B(r,a,u,t):(c=!1,{value:void 0,done:!0})})},r}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Dn(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=g(t),n=c(t),r=e?1:0;return function(t,e){return e=It(e,3432918353),e=It(e<<15|e>>>-15,461845907),e=It(e<<13|e>>>-13,5),e=It((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=Et((e=It(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){r=31*r+Bn(Ot(t),Ot(e))|0}:function(t,e){r=r+Bn(Ot(t),Ot(e))|0}:e?function(t){r=31*r+Ot(t)|0}:function(t){r=r+Ot(t)|0}),r)}(this))}});var Ln=n.prototype;Ln[h]=!0,Ln[U]=Ln.values,Ln.__toJS=Ln.toArray,Ln.__toStringMapper=qn,Ln.inspect=Ln.toSource=function(){return this.toString()},Ln.chain=Ln.flatMap,Ln.contains=Ln.includes,Cn(r,{flip:function(){return Je(this,Pe(this))},mapEntries:function(t,e){var n=this,r=0;return Je(this,this.toSeq().map(function(o,i){return t.call(e,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Je(this,this.toSeq().flip().map(function(r,o){return t.call(e,r,o,n)}).flip())}});var jn=r.prototype;function kn(t,e){return e}function xn(t,e){return[e,t]}function Dn(t){return function(){return!t.apply(this,arguments)}}function Rn(t){return function(){return-t.apply(this,arguments)}}function qn(t){return"string"==typeof t?JSON.stringify(t):String(t)}function Un(){return E(arguments)}function Pn(t,e){return t<e?1:t>e?-1:0}function Bn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return jn[l]=!0,jn[U]=Ln.entries,jn.__toJS=Ln.toObject,jn.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+qn(t)},Cn(o,{toKeyedSeq:function(){return new De(this,!1)},filter:function(t,e){return Je(this,ze(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Je(this,Ne(this,!1))},slice:function(t,e){return Je(this,He(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=C(t,t<0?this.count():this.size);var r=this.slice(0,t);return Je(this,1===n?r:r.concat(E(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return Je(this,Ve(this,t,!1))},get:function(t,e){return(t=T(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return(t=T(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Je(this,function(t,e){var n=Qe(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return t.__iterate(function(t,r){return(!i||!1!==n(e,i++,o))&&!1!==n(t,i++,o)},r),i},n.__iteratorUncached=function(n,r){var o,i=t.__iterator(x,r),s=0;return new P(function(){return(!o||s%2)&&(o=i.next()).done?o:s%2?B(n,s++,e):B(n,s++,o.value,o)})},n}(this,t))},interleave:function(){var t=[this].concat(E(arguments)),e=Ye(this.toSeq(),Y.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Je(this,n)},keySeq:function(){return _t(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Je(this,Ke(this,t,e,!1))},zip:function(){return Je(this,Ye(this,Un,[this].concat(E(arguments))))},zipWith:function(t){var e=E(arguments);return e[0]=this,Je(this,Ye(this,t,e))}}),o.prototype[p]=!0,o.prototype[f]=!0,Cn(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Ln.includes,i.prototype.contains=i.prototype.includes,Cn($,r.prototype),Cn(Y,o.prototype),Cn(J,i.prototype),Cn(bt,r.prototype),Cn(wt,o.prototype),Cn(St,i.prototype),{Iterable:n,Seq:F,Collection:vt,Map:Pt,OrderedMap:Ce,List:le,Stack:Sn,Set:an,OrderedSet:dn,Record:rn,Range:_t,Repeat:dt,is:ft,fromJS:ht}}()},function(t,e,n){const{Map:r,List:o,Set:i}=n(0),{SkipList:s}=n(6),c="00000000-0000-0000-0000-000000000000";function a(t,e){const n=e.get("actor"),r=e.get("seq");let o=!0;return e.get("deps").set(n,r-1).forEach((e,n)=>{t.getIn(["clock",n],0)<e&&(o=!1)}),o}function u(t,e){return e.reduce((e,n,r)=>{if(n<=0)return e;const o=t.getIn(["states",r,n-1,"allDeps"]);return e.mergeWith((t,e)=>Math.max(t,e),o).set(r,n)},r())}function g(t){const e=[];for(let n of t.shift()){let t={actor:n.get("actor"),value:n.get("value")};"link"===n.get("action")&&(t.link=!0),e.push(t)}return e}function h(t,e,n,r,o){const i=t.getIn(["byObject",e,"_init","action"]),s=o?o.first():null;let c=t.getIn(["byObject",e,"_elemIds"]),a=s?s.get("value"):null,u={action:r,type:"makeText"===i?"text":"list",obj:e,index:n};if(s&&"link"===s.get("action")&&(u.link=!0,a={obj:s.get("value")}),"insert"===r)c=c.insertIndex(n,s.get("key"),a),u.value=s.get("value");else if("set"===r)c=c.setValue(s.get("key"),a),u.value=s.get("value");else{if("remove"!==r)throw"Unknown action type: "+r;c=c.removeIndex(n)}return o&&o.size>1&&(u.conflicts=g(o)),[t=t.setIn(["byObject",e,"_elemIds"],c),[u]]}function l(t,e){const n=e.get("obj"),r=t.getIn(["byObject",n,"_init","action"]);if(!t.get("byObject").has(n))throw"Modification of unknown object "+n;const s=t.getIn(["byObject",n,e.get("key")],o()).groupBy(n=>!!function(t,e,n){const[r,o]=[e.get("actor"),e.get("seq")],[i,s]=[n.get("actor"),n.get("seq")];if(!(r&&i&&o&&s))return!1;const c=t.getIn(["states",r,o-1,"allDeps"]),a=t.getIn(["states",i,s-1,"allDeps"]);return c.get(i,0)<s&&a.get(r,0)<o}(t,n,e));let c=s.get(!1,o()),a=s.get(!0,o());for(let e of c.filter(t=>"link"===t.get("action")))t=t.updateIn(["byObject",e.get("value"),"_inbound"],t=>t.remove(e));return"link"===e.get("action")&&(t=t.updateIn(["byObject",e.get("value"),"_inbound"],i(),t=>t.add(e))),"del"!==e.get("action")&&(a=a.push(e)),a=a.sortBy(t=>t.get("actor")).reverse(),t=t.setIn(["byObject",n,e.get("key")],a),"makeList"===r||"makeText"===r?function(t,e,n){const r=m(t,e,n),o=t.getIn(["byObject",e,"_elemIds"]);let i=o.indexOf(n);if(i>=0)return r.isEmpty()?h(t,e,i,"remove",null):h(t,e,i,"set",r);{if(r.isEmpty())return[t,[]];let s=n;for(;i=-1,(s=b(t,e,s))&&!((i=o.indexOf(s))>=0););return h(t,e,i+1,"insert",r)}}(t,n,e.get("key")):function(t,e,n){const r=m(t,e,n);let o={action:"",type:"map",obj:e,key:n};return r.isEmpty()?o.action="remove":(o.action="set",o.value=r.first().get("value"),"link"===r.first().get("action")&&(o.link=!0),r.size>1&&(o.conflicts=g(r))),[t,[o]]}(t,n,e.get("key"))}function p(t,e){const n=e.get("action");if("makeMap"===n||"makeList"===n||"makeText"===n)return function(t,e){const n=e.get("obj");if(t.hasIn(["byObject",n]))throw"Duplicate creation of object "+n;let o={action:"create",obj:n},c=r({_init:e,_inbound:i()});return"makeMap"===e.get("action")?o.type="map":(o.type="makeText"===e.get("action")?"text":"list",c=c.set("_elemIds",new s)),[t=t.setIn(["byObject",n],c),[o]]}(t,e);if("ins"===n)return function(t,e){const n=e.get("obj"),r=e.get("elem"),i=e.get("actor")+":"+r;if(!t.get("byObject").has(n))throw"Modification of unknown object "+n;if(t.hasIn(["byObject",n,"_insertion",i]))throw"Duplicate list element ID "+i;return[t=t.updateIn(["byObject",n,"_following",e.get("key")],o(),t=>t.push(e)).updateIn(["byObject",n,"_maxElem"],0,t=>Math.max(r,t)).setIn(["byObject",n,"_insertion",i],e),[]]}(t,e);if("set"===n||"del"===n||"link"===n)return l(t,e);throw"Unknown operation type "+n}function f(t,e){const n=e.get("actor"),i=e.get("seq"),s=t.getIn(["states",n],o());if(i<=s.size){if(!s.get(i-1).get("change").equals(e))throw"Inconsistent reuse of sequence number "+i+" by "+n;return[t,[]]}const c=u(t,e.get("deps").set(n,i-1));t=t.setIn(["states",n],s.push(r({change:e,allDeps:c})));let a,g=[];for(let r of e.get("ops"))[t,a]=p(t,r.merge({actor:n,seq:i})),g.push(...a);const h=t.get("deps").filter((t,e)=>t>c.get(e,0)).set(n,i);return[t=t.set("deps",h).setIn(["clock",n],i).update("history",t=>t.push(e)),g]}function m(t,e,n){return t.getIn(["byObject",e,n],o())}function d(t,e,n){if("_head"===n)return;const r=t.getIn(["byObject",e,"_insertion",n]);if(!r)throw new TypeError("Missing index entry for list element "+n);return r.get("key")}function y(t,e){return t.get("elem")<e.get("elem")?-1:t.get("elem")>e.get("elem")?1:t.get("actor")<e.get("actor")?-1:t.get("actor")>e.get("actor")?1:0}function _(t,e,n,i){const s=/^(.*):(\d+)$/.exec(i||""),c=s?r({actor:s[1],elem:parseInt(s[2])}):null;return t.getIn(["byObject",e,"_following",n],o()).filter(t=>"ins"===t.get("action")).filter(t=>!c||y(t,c)<0).sort(y).reverse().map(t=>t.get("actor")+":"+t.get("elem"))}function v(t,e,n){const r=_(t,e,n);if(!r.isEmpty())return r.first();let o;for(;;){if(!(o=d(t,e,n)))return;const r=_(t,e,o,n);if(!r.isEmpty())return r.first();n=o}}function b(t,e,n){const r=d(t,e,n);let o,i=_(t,e,r);if(i.first()===n)return"_head"===r?null:r;for(let t of i){if(t===n)break;o=t}for(;;){if((i=_(t,e,o)).isEmpty())return o;o=i.last()}}function w(t,e,n){if("object"!=typeof e||null===e)return e;switch(e.get("action")){case"set":return e.get("value");case"link":return n.instantiateObject(t,e.get("value"))}}function S(t){return"string"==typeof t&&""!==t&&!t.startsWith("_")}t.exports={init:function(){return r().set("states",r()).set("history",o()).set("byObject",r().set(c,r())).set("clock",r()).set("deps",r()).set("local",o()).set("queue",o())},addLocalOp:function(t,e,n){const r=e.get("obj"),o=e.get("action"),i=e.get("key");let s=t.get("local");return"set"!==o&&"del"!==o&&"link"!==o||(s=s.filter(t=>t.get("obj")!=r||t.get("key")!=i)),s=s.push(e),p(t.set("local",s),e.set("actor",n))},addChange:function(t,e){return function(t){let e,n=o(),r=[];for(;;){for(let o of t.get("queue"))a(t,o)?([t,e]=f(t,o),r.push(...e)):n=n.push(o);if(n.count()===t.get("queue").count())return[t,r];t=t.set("queue",n),n=o()}}(t=t.update("queue",t=>t.push(e)))},getMissingChanges:function(t,e){const n=u(t,e);return t.get("states").map((t,e)=>t.skip(n.get(e,0))).valueSeq().flatten(1).map(t=>t.get("change"))},getChangesForActor:function(t,e,n){return n=n||0,t.get("states").filter((t,n)=>n===e).map((t,e)=>t.skip(n)).valueSeq().flatten(1).map(t=>t.get("change"))},getMissingDeps:function(t){let e={};for(let n of t.get("queue"))n.get("deps").set(n.get("actor"),n.get("seq")-1).forEach((n,r)=>{t.getIn(["clock",r],0)<n&&(e[r]=Math.max(n,e[r]||0))});return e},getObjectFields:function(t,e){return t.getIn(["byObject",e]).keySeq().filter(n=>(function(t,e,n){return S(n)&&!m(t,e,n).isEmpty()})(t,e,n)).toSet().add("_objectId")},getObjectField:function(t,e,n,r){if("_objectId"===n)return e;if(!S(n))return;const o=m(t,e,n);return o.isEmpty()?void 0:w(t,o.first(),r)},getObjectConflicts:function(t,e,n){return t.getIn(["byObject",e]).filter((n,r)=>S(r)&&m(t,e,r).size>1).mapEntries(([e,r])=>[e,r.shift().toMap().mapEntries(([e,r])=>[r.get("actor"),w(t,r,n)])])},listElemByIndex:function(t,e,n,r){const o=t.getIn(["byObject",e,"_elemIds"]).keyOf(n);if(o){const n=m(t,e,o);if(!n.isEmpty())return w(t,n.first(),r)}},listLength:function(t,e){return t.getIn(["byObject",e,"_elemIds"]).length},listIterator:function(t,e,n,r){let o="_head",i=-1;const s={next:()=>{for(;o;){if(!(o=v(t,e,o)))return{done:!0};const s=m(t,e,o);if(!s.isEmpty()){const e=w(t,s.first(),r);switch(i+=1,n){case"keys":return{done:!1,value:i};case"values":return{done:!1,value:e};case"entries":return{done:!1,value:[i,e]};case"elems":return{done:!1,value:[i,o]};case"conflicts":let c=null;return s.size>1&&(c=s.shift().toMap().mapEntries(([e,n])=>[n.get("actor"),w(t,n,r)])),{done:!1,value:c}}}}}};return s[Symbol.iterator]=(()=>s),s},ROOT_ID:c}},function(t,e,n){const{SkipList:r}=n(6);class o{constructor(t,e){return function(t,e){const n=Object.create(o.prototype);return n.opSet=t,n.objectId=e,Object.freeze(n)}(t,e)}get elemIds(){return this.opSet&&this.objectId?this.opSet.getIn(["byObject",this.objectId,"_elemIds"]):new r}get length(){return this.elemIds.length}get(t){const e=this.elemIds.keyOf(t);if(e)return this.elemIds.getValue(e)}get _objectId(){return this.objectId}[Symbol.iterator](){return this.elemIds.iterator("values")}}for(let t of["concat","every","filter","find","findIndex","forEach","includes","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toLocaleString","toString"])o.prototype[t]=function(...e){const n=[...this.elemIds.iterator("values")];return n[t].call(n,...e)};t.exports={Text:o}},function(t,e,n){const{Map:r,List:o,Set:i}=n(0),s=n(1),{Text:c}=n(2);function a(t){return"object"==typeof t&&null!==t}function u(t,e){if("create"===e.action)return t.setIn(["cache",e.obj],Object.freeze({_objectId:e.obj}));const n=t.getIn(["cache",e.obj]),r=Object.assign({},n._conflicts),o=Object.assign(Object.create({_conflicts:r}),n);if("set"===e.action)if(o[e.key]=e.link?t.getIn(["cache",e.value]):e.value,e.conflicts){r[e.key]={};for(let n of e.conflicts){const o=n.link?t.getIn(["cache",n.value]):n.value;r[e.key][n.actor]=o}Object.freeze(r[e.key])}else delete r[e.key];else{if("remove"!==e.action)throw"Unknown action type: "+e.action;delete o[e.key],delete r[e.key]}return Object.freeze(r),t.setIn(["cache",e.obj],Object.freeze(o))}function g(t,e){const n=t.getIn(["cache",e.get("obj")]),r=Object.assign({},n._conflicts),o=Object.assign(Object.create({_conflicts:r}),n),i=t.getIn(["cache",e.get("value")]);let s=!1;if(a(o[e.get("key")])&&o[e.get("key")]._objectId===e.get("value")&&(o[e.get("key")]=i,s=!0),a(r[e.get("key")]))for(let t of Object.keys(r[e.get("key")])){const n=r[e.get("key")][t];a(n)&&n._objectId===e.get("value")&&(r[e.get("key")]=Object.assign({},r[e.get("key")]),r[e.get("key")][t]=i,Object.freeze(r[e.get("key")]),s=!0)}return s&&(Object.freeze(r),t=t.setIn(["cache",e.get("obj")],Object.freeze(o))),t}function h(t,e){if("create"===e.action){let n=[];return Object.defineProperty(n,"_objectId",{value:e.obj}),Object.defineProperty(n,"_conflicts",{value:Object.freeze([])}),t.setIn(["cache",e.obj],Object.freeze(n))}let n=null;if(e.conflicts){n={};for(let r of e.conflicts)n[r.actor]=r.link?t.getIn(["cache",r.value]):r.value;Object.freeze(n)}let r=t.getIn(["cache",e.obj]);const o=e.link?t.getIn(["cache",e.value]):e.value,i=r._conflicts.slice();if(r=r.slice(),Object.defineProperty(r,"_objectId",{value:e.obj}),Object.defineProperty(r,"_conflicts",{value:i}),"insert"===e.action)r.splice(e.index,0,o),i.splice(e.index,0,n);else if("set"===e.action)r[e.index]=o,i[e.index]=n;else{if("remove"!==e.action)throw"Unknown action type: "+e.action;r.splice(e.index,1),i.splice(e.index,1)}return Object.freeze(i),t.setIn(["cache",e.obj],Object.freeze(r))}function l(t,e){const n=t.getIn(["byObject",e.get("obj"),"_elemIds"]).indexOf(e.get("key"));if(n<0)return t;let r=!1,o=t.getIn(["cache",e.get("obj")]);const i=t.getIn(["cache",e.get("value")]),s=o._conflicts.slice();if(o=o.slice(),Object.defineProperty(o,"_objectId",{value:e.get("obj")}),Object.defineProperty(o,"_conflicts",{value:s}),a(o[n])&&o[n]._objectId===e.get("value")&&(o[n]=i,r=!0),a(s[n]))for(let t of Object.keys(s[n])){const o=s[n][t];a(o)&&o._objectId===e.get("value")&&(s[n]=Object.assign({},s[n]),s[n][t]=i,Object.freeze(s[n]),r=!0)}return r&&(Object.freeze(s),t=t.setIn(["cache",e.get("obj")],Object.freeze(o))),t}function p(t,e){const n=e===s.ROOT_ID,r=t.getIn(["byObject",e,"_init","action"]);if(!n){if(t.hasIn(["cache",e]))return t.getIn(["cache",e]);if(this.cache&&this.cache[e])return this.cache[e]}let i;if(n||"makeMap"===r){const n=s.getObjectConflicts(t,e,this);i=Object.create({_conflicts:Object.freeze(n.toJS())});for(let n of s.getObjectFields(t,e))i[n]=s.getObjectField(t,e,n,this)}else if("makeList"===r){i=[...s.listIterator(t,e,"values",this)];const n=o(s.listIterator(t,e,"conflicts",this)).toJS();Object.defineProperty(i,"_objectId",{value:e}),Object.defineProperty(i,"_conflicts",{value:Object.freeze(n)})}else{if("makeText"!==r)throw"Unknown object type: "+r;i=new c(t,e)}return Object.freeze(i),this.cache&&(this.cache[e]=i),i}function f(t){t=t.set("cache",r());const e={instantiateObject:p,cache:{}},n=e.instantiateObject(t,s.ROOT_ID);return[t.set("cache",r(e.cache)),n]}function m(t,e){return Object.assign(Object.getPrototypeOf(e),{_state:t,_actorId:t.get("actorId")}),Object.freeze(Object.getPrototypeOf(e)),e}t.exports={init:function(t){const[e,n]=f(s.init());return m(r({actorId:t,opSet:e}),n)},applyChanges:function(t,e,n){let r,o,a=t._state.get("opSet"),p=[];for(let t of e)[a,r]=s.addChange(a,t),p.push(...r);return n?(o=(a=function(t,e){let n=i();for(let r of e)if(n=n.add(r.obj),"map"===r.type)t=u(t,r);else if("list"===r.type)t=h(t,r);else{if("text"!==r.type)throw"Unknown object type: "+r.type;t=t.setIn(["cache",r.obj],new c(t,r.obj))}for(;!n.isEmpty();){const e=n.flatMap(e=>t.getIn(["byObject",e,"_inbound"],i()));n=i();for(let r of e){n=n.add(r.get("obj"));const e=t.getIn(["byObject",r.get("obj"),"_init","action"]);if("makeList"===e)t=l(t,r);else if("makeMap"===e||r.get("obj")===s.ROOT_ID)t=g(t,r);else{if("makeText"!==e)throw"Unknown object type: "+e;t=t.setIn(["cache",r.get("obj")],new c(t,r.get("obj")))}}}return t}(a,p)).getIn(["cache",s.ROOT_ID]))===t&&(o=Object.assign(Object.create({_conflicts:t._conflicts}),t),a=a.setIn(["cache",s.ROOT_ID],o)):[a,o]=f(a),m(t._state.set("opSet",a),o)}}},function(t,e,n){const{Map:r,List:o,Set:i}=n(0),s=n(1),{Text:c}=n(2);function a(t,e){const n=e===s.ROOT_ID,i=t.getIn(["byObject",e,"_init","action"]);if(!n){if(t.hasIn(["cache",e]))return t.getIn(["cache",e]);if(this.cache&&this.cache[e])return this.cache[e]}let a;if(n||"makeMap"===i){const n=s.getObjectConflicts(t,e,this);a=r().set("_conflicts",n);for(let n of s.getObjectFields(t,e))a=a.set(n,s.getObjectField(t,e,n,this))}else if("makeList"===i)a=o(s.listIterator(t,e,"values",this));else{if("makeText"!==i)throw"Unknown object type: "+i;a=new c(t,e)}return a._objectId=e,this.cache&&(this.cache[e]=a),a}function u(t){t=t.set("cache",r());const e={instantiateObject:a,cache:{}},n=e.instantiateObject(t,s.ROOT_ID);return[t.set("cache",r(e.cache)),n]}function g(t,e){t=t.deleteIn(["cache",e]);const n={instantiateObject:a,cache:{}}.instantiateObject(t,e);return t.setIn(["cache",e],n)}function h(t,e){if("create"===e.action){const n=r({_objectId:e.obj});return n._objectId=e.obj,t.setIn(["cache",e.obj],n)}let n=t.getIn(["cache",e.obj]);if("set"===e.action){let o=null;e.conflicts&&(o=r().withMutations(n=>{for(let r of e.conflicts){const e=r.link?t.getIn(["cache",r.value]):r.value;n.set(r.actor,e)}})),n=n.withMutations(n=>{n.set(e.key,e.link?t.getIn(["cache",e.value]):e.value),o?n.setIn(["_conflicts",e.key],o):n.deleteIn(["_conflicts",e.key])})}else{if("remove"!==e.action)throw"Unknown action type: "+e.action;n=n.withMutations(t=>{t.delete(e.key),t.deleteIn(["_conflicts",e.key])})}return n._objectId=e.obj,t.setIn(["cache",e.obj],n)}function l(t,e){if("create"===e.action){const n=o();return n._objectId=e.obj,t.setIn(["cache",e.obj],n)}const n=e.link?t.getIn(["cache",e.value]):e.value;let r=t.getIn(["cache",e.obj]);if("insert"===e.action)r=r.insert(e.index,n);else if("set"===e.action)r=r.set(e.index,n);else{if("remove"!==e.action)throw"Unknown action type: "+e.action;r=r.delete(e.index)}return r._objectId=e.obj,t.setIn(["cache",e.obj],r)}t.exports={init:function(t){const[e,n]=u(s.init());return n._state=r({actorId:t,opSet:e}),n._actorId=t,n},applyChanges:function(t,e,n){let r,o,a=t._state.get("opSet"),p=[];for(let t of e)[a,r]=s.addChange(a,t),p.push(...r);return n?(o=(a=function(t,e){let n=i();for(let r of e)if(n=n.add(r.obj),"map"===r.type)t=h(t,r);else if("list"===r.type)t=l(t,r);else{if("text"!==r.type)throw"Unknown object type: "+r.type;t=t.setIn(["cache",r.obj],new c(t,r.obj))}for(;!n.isEmpty();){n=n.flatMap(e=>t.getIn(["byObject",e,"_inbound"],i()).map(t=>t.get("obj")));for(let e of n)t=g(t,e)}return t}(a,p)).getIn(["cache",s.ROOT_ID]))===t&&(o=t.set("_ignore",!0).remove("_ignore")):[a,o]=u(a),o._state=t._state.set("opSet",a),o._actorId=t._state.get("actorId"),o._objectId=t._objectId,o}}},function(t,e,n){const{List:r,fromJS:o}=n(0),i=n(1),s=n(3),c=n(4);function a(t){return"object"==typeof t&&null!==t}function u(t){return a(t)&&!!t["@@__IMMUTABLE_ITERABLE__@@"]}function g(t,e,n){if(!(e&&e._state&&e._objectId&&e._state.hasIn(["opSet","byObject",e._objectId])))throw new TypeError("The first argument to Automerge."+t+" must be the object to modify, but you passed "+JSON.stringify(e));if(n&&(!e._change||!e._change.mutable))throw new TypeError("Automerge."+t+" requires a writable object as first argument, but the one you passed is read-only. Please use Automerge.change() to get a writable version.")}t.exports={checkTarget:g,isObject:a,isImmutable:u,makeChange:function(t,e,n){const i=t._state.get("actorId"),a=t._state.getIn(["opSet","clock",i],0)+1,g=t._state.getIn(["opSet","deps"]).remove(i),h=o({actor:i,seq:a,deps:g,message:n}).set("ops",e.getIn(["opSet","local"]));return u(t)?c.applyChanges(t,r.of(h),!0):s.applyChanges(t,r.of(h),!0)},applyChanges:function(t,e){return g("applyChanges",t),u(t)?c.applyChanges(t,o(e),!0):s.applyChanges(t,o(e),!0)},merge:function(t,e){if(g("merge",t),t._state.get("actorId")===e._state.get("actorId"))throw new RangeError("Cannot merge an actor with itself");const n=t._state.getIn(["opSet","clock"]),r=i.getMissingChanges(e._state.get("opSet"),n);return u(t)?c.applyChanges(t,r,!0):s.applyChanges(t,r,!0)}}},function(t,e,n){const{Map:r}=n(0);class o{constructor(t,e,n,r,o,i,s){this.key=t,this.value=e,this.level=n,this.prevKey=Object.freeze(r),this.nextKey=Object.freeze(o),this.prevCount=Object.freeze(i),this.nextCount=Object.freeze(s),Object.freeze(this)}setValue(t,e){return new o(this.key,e,this.level,this.prevKey,this.nextKey,this.prevCount,this.nextCount)}insertAfter(t,e,n,r){if(e>this.level&&null!==this.key)throw new RangeError("Cannot increase the level of a non-head node");const i=Math.max(this.level,e),s=this.nextKey.slice(),c=this.nextCount.slice();for(let o=n;o<i;o++)o<e?(s[o]=t,c[o]=r):c[o]+=1;return new o(this.key,this.value,i,this.prevKey,s,this.prevCount,c)}insertBefore(t,e,n,r){if(e>this.level)throw new RangeError("Cannot increase node level");const i=this.prevKey.slice(),s=this.prevCount.slice();for(let o=n;o<this.level;o++)o<e?(i[o]=t,s[o]=r):s[o]+=1;return new o(this.key,this.value,this.level,i,this.nextKey,s,this.nextCount)}removeAfter(t,e,n,r){const i=this.nextKey.slice(),s=this.nextCount.slice();for(let o=t;o<this.level;o++)o<e?(i[o]=n[o],s[o]=r[o]):s[o]-=1;return new o(this.key,this.value,this.level,this.prevKey,i,this.prevCount,s)}removeBefore(t,e,n,r){const i=this.prevKey.slice(),s=this.prevCount.slice();for(let o=t;o<this.level;o++)o<e?(i[o]=n[o],s[o]=r[o]):s[o]-=1;return new o(this.key,this.value,this.level,i,this.nextKey,s,this.nextCount)}}class i{constructor(t){const e=new o(null,null,1,[],[null],[],[null]),n=t?t():function*(){for(;;){const t=Math.floor(4294967296*Math.random());let e=1;for(;t<1<<32-2*e&&e<16;)e+=1;yield e}}();return s(0,r().set(null,e),n)}get headNode(){return this._nodes.get(null)}predecessors(t,e){const n=[t],r=[1];for(let t=1;t<e;t++){let e=n[t-1],o=r[t-1];for(;e;){let n=this._nodes.get(e);if(n.level>t)break;if(n.level<t)throw new RangeError("Node "+e+" below expected level "+(t-1));o+=n.prevCount[t-1],e=n.prevKey[t-1]}n[t]=e,r[t]=o}return{preKeys:n,preCounts:r}}successors(t,e){const n=[t],r=[1];for(let t=1;t<e;t++){let e=n[t-1],o=r[t-1];for(;e;){let n=this._nodes.get(e);if(n.level>t)break;if(n.level<t)throw new RangeError("Node "+e+" below expected level "+(t-1));o+=n.nextCount[t-1],e=n.nextKey[t-1]}n[t]=e,r[t]=o}return{sucKeys:n,sucCounts:r}}insertAfter(t,e,n){if("string"!=typeof e||""===e)throw new RangeError("Key must be a nonempty string");if(!this._nodes.has(t))throw new RangeError("The referenced predecessor key does not exist");if(this._nodes.has(e))throw new RangeError("Cannot insert a key that already exists");const r=this._randomSource.next().value,i=Math.max(r,this.headNode.level),c=this._nodes.get(t).nextKey[0]||null,{preKeys:a,preCounts:u}=this.predecessors(t,i),{sucKeys:g,sucCounts:h}=this.successors(c,i);return s(this.length+1,this._nodes.withMutations(t=>{let s=0,c=0;for(let n=1;n<=i;n++){const o=Math.min(n,r);n!==i&&a[n]===a[s]||(t.update(a[s],t=>t.insertAfter(e,o,s,u[s])),s=n),!g[c]||n!==i&&g[n]===g[c]||(t.update(g[c],t=>t.insertBefore(e,o,c,h[c])),c=n)}t.set(e,new o(e,n,r,a.slice(0,r),g.slice(0,r),u.slice(0,r),h.slice(0,r)))}),this._randomSource)}insertIndex(t,e,n){if("number"!=typeof t||t<0)throw new RangeError("Index must be a non-negative integer");return 0===t?this.insertAfter(null,e,n):this.insertAfter(this.keyOf(t-1),e,n)}removeKey(t){if("string"!=typeof t||!this._nodes.has(t))throw new RangeError("The given key cannot be removed because it does not exist");const e=this._nodes.get(t),n=this.headNode.level,{preKeys:r,preCounts:o}=this.predecessors(e.prevKey[0],n),{sucKeys:i,sucCounts:c}=this.successors(e.nextKey[0],n),a=new Array(n);for(let t=0;t<n;t++)a[t]=o[t]+c[t]-1;return s(this.length-1,this._nodes.withMutations(o=>{o.remove(t);let s=0,c=0;for(let t=1;t<=n;t++){const u=Math.min(t,e.level);t!==n&&r[t]===r[s]||(o.update(r[s],t=>t.removeAfter(s,u,i,a)),s=t),!i[c]||t!==n&&i[t]===i[c]||(o.update(i[c],t=>t.removeBefore(c,u,r,a)),c=t)}}),this._randomSource)}removeIndex(t){return this.removeKey(this.keyOf(t))}indexOf(t){if("string"!=typeof t||""===t||!this._nodes.has(t))return-1;let e=this._nodes.get(t),n=0;for(;e&&e.key;)n+=e.prevCount[e.level-1],e=this._nodes.get(e.prevKey[e.level-1]);return n-1}keyOf(t){if("number"!=typeof t)return null;if(t<0&&(t+=this.length),t<0||t>=this.length)return null;let e=this._nodes.get(null),n=e.level-1,r=0;for(;;){if(r===t+1)return e.key;r+e.nextCount[n]>t+1?n-=1:(r+=e.nextCount[n],e=this._nodes.get(e.nextKey[n]))}}getValue(t){if("string"!=typeof t||""===t)throw new RangeError("Key must be a nonempty string");const e=this._nodes.get(t);return e&&e.value}setValue(t,e){if("string"!=typeof t||""===t)throw new RangeError("Key must be a nonempty string");let n=this._nodes.get(t);if(!n)throw new RangeError("The referenced key does not exist");return n=n.setValue(t,e),s(this.length,this._nodes.set(t,n),this._randomSource)}*iterator(t){let e=this._nodes.get(null).nextKey[0];for(;e;){const n=this._nodes.get(e);switch(t){case"keys":yield e;break;case"values":yield n.value;break;case"entries":yield[e,n.value]}e=n.nextKey[0]}}[Symbol.iterator](){return this.iterator("values")}}function s(t,e,n){const r=Object.create(i.prototype);return r.length=t,r._nodes=e,r._randomSource=n,Object.freeze(r)}t.exports={SkipList:i}},function(t,e,n){var r=n(20),o=n(19);t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var c=0;c<16;++c)e[i+c]=s[c];return e||o(s)}},function(t,e,n){const{Map:r,fromJS:o}=n(0),i=n(1);function s(t,e,n){return n=t.get(e,r()).mergeWith((t,e)=>Math.max(t,e),n),t.set(e,n)}t.exports=class{constructor(t,e){this._docSet=t,this._sendMsg=e,this._theirClock=r(),this._ourClock=r(),this._docChangedHandler=this.docChanged.bind(this)}open(){for(let t of this._docSet.docIds)this.docChanged(t,this._docSet.getDoc(t));this._docSet.registerHandler(this._docChangedHandler)}close(){this._docSet.unregisterHandler(this._docChangedHandler)}sendMsg(t,e,n){const r={docId:t,clock:e.toJS()};this._ourClock=s(this._ourClock,t,e),n&&(r.changes=n.toJS()),this._sendMsg(r)}maybeSendChanges(t){const e=this._docSet.getDoc(t),n=e._state.getIn(["opSet","clock"]);if(this._theirClock.has(t)){const r=i.getMissingChanges(e._state.get("opSet"),this._theirClock.get(t));if(!r.isEmpty())return this._theirClock=s(this._theirClock,t,n),void this.sendMsg(t,n,r)}n.equals(this._ourClock.get(t,r()))||this.sendMsg(t,n)}docChanged(t,e){const n=e._state.getIn(["opSet","clock"]);if(!n)throw new TypeError("This object cannot be used for network sync. Are you trying to sync a snapshot from the history?");if(o=this._ourClock.get(t,r()),i=n,!o.keySeq().concat(i.keySeq()).reduce((t,e)=>t&&o.get(e,0)<=i.get(e,0),!0))throw new RangeError("Cannot pass an old state object to a connection");var o,i;this.maybeSendChanges(t)}receiveMsg(t){return t.clock&&(this._theirClock=s(this._theirClock,t.docId,o(t.clock))),t.changes?this._docSet.applyChanges(t.docId,o(t.changes)):(this._docSet.getDoc(t.docId)?this.maybeSendChanges(t.docId):this._ourClock.has(t.docId)||this.sendMsg(t.docId,r()),this._docSet.getDoc(t.docId))}}},function(t,e,n){const{Map:r,Set:o,fromJS:i}=n(0),s=n(5);t.exports=class{constructor(t){if(!t)throw new Error("doc argument is required");this.doc=t,this.handlers=o()}get(){return this.doc}set(t){this.doc=t,this.handlers.forEach(e=>e(t))}applyChanges(t){let e=this.doc;return e=s.applyChanges(e,i(t),!0),this.set(e),e}registerHandler(t){this.handlers=this.handlers.add(t)}unregisterHandler(t){this.handlers=this.handlers.remove(t)}}},function(t,e,n){const{Map:r,Set:o}=n(0),i=n(7),s=n(3);t.exports=class{constructor(){this.docs=r(),this.handlers=o()}get docIds(){return this.docs.keys()}getDoc(t){return this.docs.get(t)}setDoc(t,e){this.docs=this.docs.set(t,e),this.handlers.forEach(n=>n(t,e))}applyChanges(t,e){let n=this.docs.get(t)||s.init(i());return n=s.applyChanges(n,e,!0),this.setDoc(t,n),n}registerHandler(t){this.handlers=this.handlers.add(t)}unregisterHandler(t){this.handlers=this.handlers.remove(t)}}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){e.read=function(t,e,n,r,o){var i,s,c=8*o-r-1,a=(1<<c)-1,u=a>>1,g=-7,h=n?o-1:0,l=n?-1:1,p=t[e+h];for(h+=l,i=p&(1<<-g)-1,p>>=-g,g+=c;g>0;i=256*i+t[e+h],h+=l,g-=8);for(s=i&(1<<-g)-1,i>>=-g,g+=r;g>0;s=256*s+t[e+h],h+=l,g-=8);if(0===i)i=1-u;else{if(i===a)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),i-=u}return(p?-1:1)*s*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var s,c,a,u=8*i-o-1,g=(1<<u)-1,h=g>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,f=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,s=g):(s=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-s))<1&&(s--,a*=2),(e+=s+h>=1?l/a:l*Math.pow(2,1-h))*a>=2&&(s++,a/=2),s+h>=g?(c=0,s=g):s+h>=1?(c=(e*a-1)*Math.pow(2,o),s+=h):(c=e*Math.pow(2,h-1)*Math.pow(2,o),s=0));o>=8;t[n+p]=255&c,p+=f,c/=256,o-=8);for(s=s<<o|c,u+=o;u>0;t[n+p]=255&s,p+=f,s/=256,u-=8);t[n+p-f]|=128*m}},function(t,e,n){"use strict";e.byteLength=function(t){return 3*t.length/4-u(t)},e.toByteArray=function(t){var e,n,r,s,c,a=t.length;s=u(t),c=new i(3*a/4-s),n=s>0?a-4:a;var g=0;for(e=0;e<n;e+=4)r=o[t.charCodeAt(e)]<<18|o[t.charCodeAt(e+1)]<<12|o[t.charCodeAt(e+2)]<<6|o[t.charCodeAt(e+3)],c[g++]=r>>16&255,c[g++]=r>>8&255,c[g++]=255&r;2===s?(r=o[t.charCodeAt(e)]<<2|o[t.charCodeAt(e+1)]>>4,c[g++]=255&r):1===s&&(r=o[t.charCodeAt(e)]<<10|o[t.charCodeAt(e+1)]<<4|o[t.charCodeAt(e+2)]>>2,c[g++]=r>>8&255,c[g++]=255&r);return c},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i="",s=[],c=0,a=n-o;c<a;c+=16383)s.push(g(t,c,c+16383>a?a:c+16383));1===o?(e=t[n-1],i+=r[e>>2],i+=r[e<<4&63],i+="=="):2===o&&(e=(t[n-2]<<8)+t[n-1],i+=r[e>>10],i+=r[e>>4&63],i+=r[e<<2&63],i+="=");return s.push(i),s.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,a=s.length;c<a;++c)r[c]=s[c],o[s.charCodeAt(c)]=c;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function g(t,e,n){for(var o,i,s=[],c=e;c<n;c+=3)o=(t[c]<<16&16711680)+(t[c+1]<<8&65280)+(255&t[c+2]),s.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";(function(t){var r=n(13),o=n(12),i=n(11);function s(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=a.prototype:(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);a.TYPED_ARRAY_SUPPORT?(t=e).__proto__=a.prototype:t=l(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(e,n),o=(t=c(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(a.isBuffer(e)){var n=0|p(e.length);return 0===(t=c(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?c(t,0):l(t,e);if("Buffer"===e.type&&i(e.data))return l(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function g(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(g(e),t=c(t,e<0?0:0|p(e)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function l(t,e){var n=e.length<0?0:0|p(e.length);t=c(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function f(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return N(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(r)return N(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function d(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=a.from(e,r)),a.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,o);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,o){var i,s=1,c=t.length,a=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,c/=2,a/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){var g=-1;for(i=n;i<c;i++)if(u(t,i)===u(e,-1===g?0:i-g)){if(-1===g&&(g=i),i-g+1===a)return g*s}else-1!==g&&(i-=i-g),g=-1}else for(n+a>c&&(n=c-a),i=n;i>=0;i--){for(var h=!0,l=0;l<a;l++)if(u(t,i+l)!==u(e,l)){h=!1;break}if(h)return i}return-1}function _(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var s=0;s<r;++s){var c=parseInt(e.substr(2*s,2),16);if(isNaN(c))return s;t[n+s]=c}return s}function v(t,e,n,r){return H(N(e,t.length-n),t,n,r)}function b(t,e,n,r){return H(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return b(t,e,n,r)}function S(t,e,n,r){return H(z(e),t,n,r)}function I(t,e,n,r){return H(function(t,e){for(var n,r,o,i=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,s,c,a,u=t[o],g=null,h=u>239?4:u>223?3:u>191?2:1;if(o+h<=n)switch(h){case 1:u<128&&(g=u);break;case 2:128==(192&(i=t[o+1]))&&(a=(31&u)<<6|63&i)>127&&(g=a);break;case 3:i=t[o+1],s=t[o+2],128==(192&i)&&128==(192&s)&&(a=(15&u)<<12|(63&i)<<6|63&s)>2047&&(a<55296||a>57343)&&(g=a);break;case 4:i=t[o+1],s=t[o+2],c=t[o+3],128==(192&i)&&128==(192&s)&&128==(192&c)&&(a=(15&u)<<18|(63&i)<<12|(63&s)<<6|63&c)>65535&&a<1114112&&(g=a)}null===g?(g=65533,h=1):g>65535&&(g-=65536,r.push(g>>>10&1023|55296),g=56320|1023&g),r.push(g),o+=h}return function(t){var e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=T));return n}(r)}e.Buffer=a,e.SlowBuffer=function(t){+t!=t&&(t=0);return a.alloc(+t)},e.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,n){return u(null,t,e,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,n){return function(t,e,n,r){return g(e),e<=0?c(t,e):void 0!==n?"string"==typeof r?c(t,e).fill(n,r):c(t,e).fill(n):c(t,e)}(null,t,e,n)},a.allocUnsafe=function(t){return h(null,t)},a.allocUnsafeSlow=function(t){return h(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=a.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var s=t[n];if(!a.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,o),o+=s.length}return r},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return M(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,n,r,o){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,o>>>=0,this===t)return 0;for(var i=o-r,s=n-e,c=Math.min(i,s),u=this.slice(r,o),g=t.slice(e,n),h=0;h<c;++h)if(u[h]!==g[h]){i=u[h],s=g[h];break}return i<s?-1:s<i?1:0},a.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},a.prototype.indexOf=function(t,e,n){return d(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return d(this,t,e,n,!1)},a.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return v(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function M(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function A(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function C(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=B(t[i]);return o}function L(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function j(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function k(t,e,n,r,o,i){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function x(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function D(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function R(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function q(t,e,n,r,i){return i||R(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,i){return i||R(t,0,n,8),o.write(t,e,n,r,52,8),n+8}a.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),a.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=a.prototype;else{var o=e-t;n=new a(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},a.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},a.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},a.prototype.readUInt8=function(t,e){return e||j(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||j(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||j(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},a.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},a.prototype.readInt8=function(t,e){return e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){e||j(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){e||j(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||j(t,4,this.length),o.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||j(t,4,this.length),o.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||j(t,8,this.length),o.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||j(t,8,this.length),o.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||k(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},a.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||k(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},a.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):x(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):x(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);k(this,t,e,n,o-1,-o)}var i=0,s=1,c=0;for(this[e]=255&t;++i<n&&(s*=256);)t<0&&0===c&&0!==this[e+i-1]&&(c=1),this[e+i]=(t/s>>0)-c&255;return e+n},a.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);k(this,t,e,n,o-1,-o)}var i=n-1,s=1,c=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===c&&0!==this[e+i+1]&&(c=1),this[e+i]=(t/s>>0)-c&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):x(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):x(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,n){return q(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return q(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!a.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},a.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var s=a.isBuffer(t)?t:N(new a(t,r).toString()),c=s.length;for(i=0;i<n-e;++i)this[i+e]=s[i%c]}return this};var P=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function N(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function z(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(P,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,n(14))},function(module,exports,__webpack_require__){(function(Buffer){var COMPILED=!0,goog=goog||{};goog.global=this,goog.isDef=function(t){return void 0!==t},goog.exportPath_=function(t,e,n){t=t.split("."),n=n||goog.global,t[0]in n||!n.execScript||n.execScript("var "+t[0]);for(var r;t.length&&(r=t.shift());)!t.length&&goog.isDef(e)?n[r]=e:n=n[r]?n[r]:n[r]={}},goog.define=function(t,e){var n=e;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,t)?n=goog.global.CLOSURE_UNCOMPILED_DEFINES[t]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,t)&&(n=goog.global.CLOSURE_DEFINES[t])),goog.exportPath_(t,n)},goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(t){if(!COMPILED&&goog.isProvided_(t))throw Error('Namespace "'+t+'" already declared.');goog.constructNamespace_(t)},goog.constructNamespace_=function(t,e){if(!COMPILED){delete goog.implicitNamespaces_[t];for(var n=t;(n=n.substring(0,n.lastIndexOf(".")))&&!goog.getObjectByName(n);)goog.implicitNamespaces_[n]=!0}goog.exportPath_(t,e)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(t){if(!goog.isString(t)||!t||-1==t.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+t+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=t,!COMPILED){if(goog.isProvided_(t))throw Error('Namespace "'+t+'" already declared.');delete goog.implicitNamespaces_[t]}},goog.module.get=function(t){return goog.module.getInternal_(t)},goog.module.getInternal_=function(t){if(!COMPILED)return goog.isProvided_(t)?t in goog.loadedModules_?goog.loadedModules_[t]:goog.getObjectByName(t):null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareTestMethods=function(){if(!goog.isInModuleLoader_())throw Error("goog.module.declareTestMethods must be called from within a goog.module");goog.moduleLoaderState_.declareTestMethods=!0},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(t){if(goog.DISALLOW_TEST_ONLY_CODE)throw t=t||"",Error("Importing test-only code into non-debug environment"+(t?": "+t:"."))},goog.forwardDeclare=function(t){},COMPILED||(goog.isProvided_=function(t){return t in goog.loadedModules_||!goog.implicitNamespaces_[t]&&goog.isDefAndNotNull(goog.getObjectByName(t))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(t,e){for(var n,r=t.split("."),o=e||goog.global;n=r.shift();){if(!goog.isDefAndNotNull(o[n]))return null;o=o[n]}return o},goog.globalize=function(t,e){var n,r=e||goog.global;for(n in t)r[n]=t[n]},goog.addDependency=function(t,e,n,r){if(goog.DEPENDENCIES_ENABLED){var o;t=t.replace(/\\/g,"/");for(var i=goog.dependencies_,s=0;o=e[s];s++)i.nameToPath[o]=t,i.pathIsModule[t]=!!r;for(r=0;e=n[r];r++)t in i.requires||(i.requires[t]={}),i.requires[t][e]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(t){goog.global.console&&goog.global.console.error(t)},goog.require=function(t){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(t),goog.isProvided_(t))return goog.isInModuleLoader_()?goog.module.getInternal_(t):null;if(goog.ENABLE_DEBUG_LOADER){var e=goog.getPathFromDeps_(t);if(e)return goog.included_[e]=!0,goog.writeScripts_(),null}throw t="goog.require could not find: "+t,goog.logToConsole_(t),Error(t)}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(t){t.getInstance=function(){return t.instance_?t.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=t),t.instance_=new t)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.DEPENDENCIES_ENABLED&&(goog.included_={},goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var t=goog.global.document;return void 0!==t&&"write"in t},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var t=goog.global.document.getElementsByTagName("SCRIPT"),e=t.length-1;0<=e;--e){var n=t[e].src,r=-1==(r=n.lastIndexOf("?"))?n.length:r;if("base.js"==n.substr(r-7,7)){goog.basePath=n.substr(0,r-7);break}}},goog.importScript_=function(t,e){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(t,e)&&(goog.dependencies_.written[t]=!0)},goog.IS_OLD_IE_=!goog.global.atob&&goog.global.document&&goog.global.document.all,goog.importModule_=function(t){goog.importScript_("",'goog.retrieveAndExecModule_("'+t+'");')&&(goog.dependencies_.written[t]=!0)},goog.queuedModules_=[],goog.wrapModule_=function(t,e){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(e+"\n//# sourceURL="+t+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+e+"\n;return exports});\n//# sourceURL="+t+"\n"},goog.loadQueuedModules_=function(){var t=goog.queuedModules_.length;if(0<t){var e=goog.queuedModules_;goog.queuedModules_=[];for(var n=0;n<t;n++)goog.maybeProcessDeferredPath_(e[n])}},goog.maybeProcessDeferredDep_=function(t){goog.isDeferredModule_(t)&&goog.allDepsAreAvailable_(t)&&(t=goog.getPathFromDeps_(t),goog.maybeProcessDeferredPath_(goog.basePath+t))},goog.isDeferredModule_=function(t){return!(!(t=goog.getPathFromDeps_(t))||!goog.dependencies_.pathIsModule[t])&&goog.basePath+t in goog.dependencies_.deferred},goog.allDepsAreAvailable_=function(t){if((t=goog.getPathFromDeps_(t))&&t in goog.dependencies_.requires)for(var e in goog.dependencies_.requires[t])if(!goog.isProvided_(e)&&!goog.isDeferredModule_(e))return!1;return!0},goog.maybeProcessDeferredPath_=function(t){if(t in goog.dependencies_.deferred){var e=goog.dependencies_.deferred[t];delete goog.dependencies_.deferred[t],goog.globalEval(e)}},goog.loadModule=function(t){var e=goog.moduleLoaderState_;try{var n;if(goog.moduleLoaderState_={moduleName:void 0,declareTestMethods:!1},goog.isFunction(t))n=t.call(goog.global,{});else{if(!goog.isString(t))throw Error("Invalid module definition");n=goog.loadModuleFromSource_.call(goog.global,t)}var r=goog.moduleLoaderState_.moduleName;if(!goog.isString(r)||!r)throw Error('Invalid module name "'+r+'"');if(goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(r,n):goog.SEAL_MODULE_EXPORTS&&Object.seal&&Object.seal(n),goog.loadedModules_[r]=n,goog.moduleLoaderState_.declareTestMethods)for(var o in n)0!==o.indexOf("test",0)&&"tearDown"!=o&&"setUp"!=o&&"setUpPage"!=o&&"tearDownPage"!=o||(goog.global[o]=n[o])}finally{goog.moduleLoaderState_=e}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.writeScriptSrcNode_=function(t){goog.global.document.write('<script type="text/javascript" src="'+t+'"><\/script>')},goog.appendScriptSrcNode_=function(t){var e=goog.global.document,n=e.createElement("script");n.type="text/javascript",n.src=t,n.defer=!1,n.async=!1,e.head.appendChild(n)},goog.writeScriptTag_=function(t,e){if(goog.inHtmlDocument_()){var n=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==n.readyState){if(/\bdeps.js$/.test(t))return!1;throw Error('Cannot write "'+t+'" after document load')}var r=goog.IS_OLD_IE_;return void 0===e?r?(r=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ",n.write('<script type="text/javascript" src="'+t+'"'+r+"><\/script>")):goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(t):goog.writeScriptSrcNode_(t):n.write('<script type="text/javascript">'+e+"<\/script>"),!0}return!1},goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(t,e){return"complete"==t.readyState&&goog.lastNonModuleScriptIndex_==e&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(){function t(e){if(!(e in o.written)){if(!(e in o.visited)&&(o.visited[e]=!0,e in o.requires))for(var i in o.requires[e])if(!goog.isProvided_(i)){if(!(i in o.nameToPath))throw Error("Undefined nameToPath for "+i);t(o.nameToPath[i])}e in r||(r[e]=!0,n.push(e))}}var e,n=[],r={},o=goog.dependencies_;for(e in goog.included_)o.written[e]||t(e);for(var i=0;i<n.length;i++)e=n[i],goog.dependencies_.written[e]=!0;var s=goog.moduleLoaderState_;for(goog.moduleLoaderState_=null,i=0;i<n.length;i++){if(!(e=n[i]))throw goog.moduleLoaderState_=s,Error("Undefined script input");o.pathIsModule[e]?goog.importModule_(goog.basePath+e):goog.importScript_(goog.basePath+e)}goog.moduleLoaderState_=s},goog.getPathFromDeps_=function(t){return t in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[t]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.normalizePath_=function(t){t=t.split("/");for(var e=0;e<t.length;)"."==t[e]?t.splice(e,1):e&&".."==t[e]&&t[e-1]&&".."!=t[e-1]?t.splice(--e,2):e++;return t.join("/")},goog.loadFileSync_=function(t){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(t);var e=new goog.global.XMLHttpRequest;return e.open("get",t,!1),e.send(),e.responseText},goog.retrieveAndExecModule_=function(t){if(!COMPILED){var e=t;t=goog.normalizePath_(t);var n=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,r=goog.loadFileSync_(t);if(null==r)throw Error("load of "+t+"failed");r=goog.wrapModule_(t,r),goog.IS_OLD_IE_?(goog.dependencies_.deferred[e]=r,goog.queuedModules_.push(e)):n(t,r)}},goog.typeOf=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e},goog.isNull=function(t){return null===t},goog.isDefAndNotNull=function(t){return null!=t},goog.isArray=function(t){return"array"==goog.typeOf(t)},goog.isArrayLike=function(t){var e=goog.typeOf(t);return"array"==e||"object"==e&&"number"==typeof t.length},goog.isDateLike=function(t){return goog.isObject(t)&&"function"==typeof t.getFullYear},goog.isString=function(t){return"string"==typeof t},goog.isBoolean=function(t){return"boolean"==typeof t},goog.isNumber=function(t){return"number"==typeof t},goog.isFunction=function(t){return"function"==goog.typeOf(t)},goog.isObject=function(t){var e=typeof t;return"object"==e&&null!=t||"function"==e},goog.getUid=function(t){return t[goog.UID_PROPERTY_]||(t[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(t){return!!t[goog.UID_PROPERTY_]},goog.removeUid=function(t){"removeAttribute"in t&&t.removeAttribute(goog.UID_PROPERTY_);try{delete t[goog.UID_PROPERTY_]}catch(t){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(t){if("object"==(n=goog.typeOf(t))||"array"==n){if(t.clone)return t.clone();var e,n="array"==n?[]:{};for(e in t)n[e]=goog.cloneObject(t[e]);return n}return t},goog.bindNative_=function(t,e,n){return t.call.apply(t.bind,arguments)},goog.bindJs_=function(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}},goog.bind=function(t,e,n){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}},goog.mixin=function(t,e){for(var n in e)t[n]=e[n]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(t){if(goog.global.execScript)goog.global.execScript(t,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),void 0!==goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(t);else{var e=goog.global.document,n=e.createElement("SCRIPT");n.type="text/javascript",n.defer=!1,n.appendChild(e.createTextNode(t)),e.body.appendChild(n),e.body.removeChild(n)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(t,e){var n=function(t){return goog.cssNameMapping_[t]||t},r=function(t){t=t.split("-");for(var e=[],r=0;r<t.length;r++)e.push(n(t[r]));return e.join("-")};r=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?n:r:function(t){return t};return e?t+"-"+r(e):r(t)},goog.setCssNameMapping=function(t,e){goog.cssNameMapping_=t,goog.cssNameMappingStyle_=e},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(t,e){return e&&(t=t.replace(/\{\$([^}]+)}/g,function(t,n){return n in e?e[n]:t})),t},goog.getMsgWithFallback=function(t,e){return t},goog.exportSymbol=function(t,e,n){goog.exportPath_(t,e,n)},goog.exportProperty=function(t,e,n){t[e]=n},goog.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.superClass_=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.base=function(t,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return e.prototype[n].apply(t,o)}},goog.base=function(t,e,n){var r=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!r)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(r.superClass_){for(var o=Array(arguments.length-1),i=1;i<arguments.length;i++)o[i-1]=arguments[i];return r.superClass_.constructor.apply(t,o)}for(o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];i=!1;for(var s=t.constructor;s;s=s.superClass_&&s.superClass_.constructor)if(s.prototype[e]===r)i=!0;else if(i)return s.prototype[e].apply(t,o);if(t[e]===r)return t.constructor.prototype[e].apply(t,o);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(t){t.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(t,e){var n=e.constructor,r=e.statics;return n&&n!=Object.prototype.constructor||(n=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),n=goog.defineClass.createSealingConstructor_(n,t),t&&goog.inherits(n,t),delete e.constructor,delete e.statics,goog.defineClass.applyProperties_(n.prototype,e),null!=r&&(r instanceof Function?r(n):goog.defineClass.applyProperties_(n,r)),n},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(t,e){if(goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function){if(e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_])return t;var n=function(){var e=t.apply(this,arguments)||this;return e[goog.UID_PROPERTY_]=e[goog.UID_PROPERTY_],this.constructor===n&&Object.seal(e),e};return n}return t},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);for(var r=0;r<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;r++)n=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[r],Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},goog.tagUnsealableClass=function(t){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.math={},goog.math.Long=function(t,e){this.low_=0|t,this.high_=0|e},goog.math.Long.IntCache_={},goog.math.Long.fromInt=function(t){if(-128<=t&&128>t){var e=goog.math.Long.IntCache_[t];if(e)return e}return e=new goog.math.Long(0|t,0>t?-1:0),-128<=t&&128>t&&(goog.math.Long.IntCache_[t]=e),e},goog.math.Long.fromNumber=function(t){return isNaN(t)||!isFinite(t)?goog.math.Long.getZero():t<=-goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.getMinValue():t+1>=goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.getMaxValue():0>t?goog.math.Long.fromNumber(-t).negate():new goog.math.Long(t%goog.math.Long.TWO_PWR_32_DBL_|0,t/goog.math.Long.TWO_PWR_32_DBL_|0)},goog.math.Long.fromBits=function(t,e){return new goog.math.Long(t,e)},goog.math.Long.fromString=function(t,e){if(0==t.length)throw Error("number format error: empty string");var n=e||10;if(2>n||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return goog.math.Long.fromString(t.substring(1),n).negate();if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character: '+t);for(var r=goog.math.Long.fromNumber(Math.pow(n,8)),o=goog.math.Long.getZero(),i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+s),n);8>s?(s=goog.math.Long.fromNumber(Math.pow(n,s)),o=o.multiply(s).add(goog.math.Long.fromNumber(c))):o=(o=o.multiply(r)).add(goog.math.Long.fromNumber(c))}return o},goog.math.Long.TWO_PWR_16_DBL_=65536,goog.math.Long.getTwoPwr24DBL_=16777216,goog.math.Long.TWO_PWR_32_DBL_=goog.math.Long.TWO_PWR_16_DBL_*goog.math.Long.TWO_PWR_16_DBL_,goog.math.Long.TWO_PWR_31_DBL_=goog.math.Long.TWO_PWR_32_DBL_/2,goog.math.Long.TWO_PWR_48_DBL_=goog.math.Long.TWO_PWR_32_DBL_*goog.math.Long.TWO_PWR_16_DBL_,goog.math.Long.TWO_PWR_64_DBL_=goog.math.Long.TWO_PWR_32_DBL_*goog.math.Long.TWO_PWR_32_DBL_,goog.math.Long.TWO_PWR_63_DBL_=goog.math.Long.TWO_PWR_64_DBL_/2,goog.math.Long.getZero=function(){return goog.math.Long.ZERO_||(goog.math.Long.ZERO_=goog.math.Long.fromInt(0)),goog.math.Long.ZERO_},goog.math.Long.getOne=function(){return goog.math.Long.ONE_||(goog.math.Long.ONE_=goog.math.Long.fromInt(1)),goog.math.Long.ONE_},goog.math.Long.getNegOne=function(){return goog.math.Long.NEG_ONE_||(goog.math.Long.NEG_ONE_=goog.math.Long.fromInt(-1)),goog.math.Long.NEG_ONE_},goog.math.Long.getMaxValue=function(){return goog.math.Long.MAX_VALUE_||(goog.math.Long.MAX_VALUE_=goog.math.Long.fromBits(-1,2147483647)),goog.math.Long.MAX_VALUE_},goog.math.Long.getMinValue=function(){return goog.math.Long.MIN_VALUE_||(goog.math.Long.MIN_VALUE_=goog.math.Long.fromBits(0,-2147483648)),goog.math.Long.MIN_VALUE_},goog.math.Long.getTwoPwr24=function(){return goog.math.Long.TWO_PWR_24_||(goog.math.Long.TWO_PWR_24_=goog.math.Long.fromInt(16777216)),goog.math.Long.TWO_PWR_24_},goog.math.Long.prototype.toInt=function(){return this.low_},goog.math.Long.prototype.toNumber=function(){return this.high_*goog.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},goog.math.Long.prototype.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(goog.math.Long.getMinValue())){var e=goog.math.Long.fromNumber(t);e=(n=this.div(e)).multiply(e).subtract(this);return n.toString(t)+e.toInt().toString(t)}return"-"+this.negate().toString(t)}for(var n=goog.math.Long.fromNumber(Math.pow(t,6)),r=(e=this,"");;){var o=e.div(n),i=e.subtract(o.multiply(n)).toInt().toString(t);if((e=o).isZero())return i+r;for(;6>i.length;)i="0"+i;r=""+i+r}},goog.math.Long.prototype.getHighBits=function(){return this.high_},goog.math.Long.prototype.getLowBits=function(){return this.low_},goog.math.Long.prototype.getLowBitsUnsigned=function(){return 0<=this.low_?this.low_:goog.math.Long.TWO_PWR_32_DBL_+this.low_},goog.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(goog.math.Long.getMinValue())?64:this.negate().getNumBitsAbs();for(var t=0!=this.high_?this.high_:this.low_,e=31;0<e&&0==(t&1<<e);e--);return 0!=this.high_?e+33:e+1},goog.math.Long.prototype.isZero=function(){return 0==this.high_&&0==this.low_},goog.math.Long.prototype.isNegative=function(){return 0>this.high_},goog.math.Long.prototype.isOdd=function(){return 1==(1&this.low_)},goog.math.Long.prototype.equals=function(t){return this.high_==t.high_&&this.low_==t.low_},goog.math.Long.prototype.notEquals=function(t){return this.high_!=t.high_||this.low_!=t.low_},goog.math.Long.prototype.lessThan=function(t){return 0>this.compare(t)},goog.math.Long.prototype.lessThanOrEqual=function(t){return 0>=this.compare(t)},goog.math.Long.prototype.greaterThan=function(t){return 0<this.compare(t)},goog.math.Long.prototype.greaterThanOrEqual=function(t){return 0<=this.compare(t)},goog.math.Long.prototype.compare=function(t){if(this.equals(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.subtract(t).isNegative()?-1:1},goog.math.Long.prototype.negate=function(){return this.equals(goog.math.Long.getMinValue())?goog.math.Long.getMinValue():this.not().add(goog.math.Long.getOne())},goog.math.Long.prototype.add=function(t){var e,n=this.high_>>>16,r=65535&this.high_,o=this.low_>>>16,i=t.high_>>>16,s=65535&t.high_,c=t.low_>>>16;return t=0+((e=(65535&this.low_)+(65535&t.low_)+0)>>>16),o=0+((t+=o+c)>>>16),r=(r=0+((o+=r+s)>>>16))+(n+i)&65535,goog.math.Long.fromBits((65535&t)<<16|65535&e,r<<16|65535&o)},goog.math.Long.prototype.subtract=function(t){return this.add(t.negate())},goog.math.Long.prototype.multiply=function(t){if(this.isZero()||t.isZero())return goog.math.Long.getZero();if(this.equals(goog.math.Long.getMinValue()))return t.isOdd()?goog.math.Long.getMinValue():goog.math.Long.getZero();if(t.equals(goog.math.Long.getMinValue()))return this.isOdd()?goog.math.Long.getMinValue():goog.math.Long.getZero();if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(goog.math.Long.getTwoPwr24())&&t.lessThan(goog.math.Long.getTwoPwr24()))return goog.math.Long.fromNumber(this.toNumber()*t.toNumber());var e,n,r,o,i=this.high_>>>16,s=65535&this.high_,c=this.low_>>>16,a=65535&this.low_,u=t.high_>>>16,g=65535&t.high_,h=t.low_>>>16;return r=0+((o=0+a*(t=65535&t.low_))>>>16),n=0+((r+=c*t)>>>16),n+=(r=(65535&r)+a*h)>>>16,r&=65535,e=0+((n+=s*t)>>>16),e+=(n=(65535&n)+c*h)>>>16,n&=65535,e+=(n+=a*g)>>>16,n&=65535,e=e+(i*t+s*h+c*g+a*u)&65535,goog.math.Long.fromBits(r<<16|65535&o,e<<16|n)},goog.math.Long.prototype.div=function(t){if(t.isZero())throw Error("division by zero");if(this.isZero())return goog.math.Long.getZero();if(this.equals(goog.math.Long.getMinValue())){if(t.equals(goog.math.Long.getOne())||t.equals(goog.math.Long.getNegOne()))return goog.math.Long.getMinValue();if(t.equals(goog.math.Long.getMinValue()))return goog.math.Long.getOne();if((r=this.shiftRight(1).div(t).shiftLeft(1)).equals(goog.math.Long.getZero()))return t.isNegative()?goog.math.Long.getOne():goog.math.Long.getNegOne();var e=this.subtract(t.multiply(r));return r.add(e.div(t))}if(t.equals(goog.math.Long.getMinValue()))return goog.math.Long.getZero();if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();var n=goog.math.Long.getZero();for(e=this;e.greaterThanOrEqual(t);){for(var r=Math.max(1,Math.floor(e.toNumber()/t.toNumber())),o=48>=(o=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,o-48),i=goog.math.Long.fromNumber(r),s=i.multiply(t);s.isNegative()||s.greaterThan(e);)r-=o,s=(i=goog.math.Long.fromNumber(r)).multiply(t);i.isZero()&&(i=goog.math.Long.getOne()),n=n.add(i),e=e.subtract(s)}return n},goog.math.Long.prototype.modulo=function(t){return this.subtract(this.div(t).multiply(t))},goog.math.Long.prototype.not=function(){return goog.math.Long.fromBits(~this.low_,~this.high_)},goog.math.Long.prototype.and=function(t){return goog.math.Long.fromBits(this.low_&t.low_,this.high_&t.high_)},goog.math.Long.prototype.or=function(t){return goog.math.Long.fromBits(this.low_|t.low_,this.high_|t.high_)},goog.math.Long.prototype.xor=function(t){return goog.math.Long.fromBits(this.low_^t.low_,this.high_^t.high_)},goog.math.Long.prototype.shiftLeft=function(t){if(0==(t&=63))return this;var e=this.low_;return 32>t?goog.math.Long.fromBits(e<<t,this.high_<<t|e>>>32-t):goog.math.Long.fromBits(0,e<<t-32)},goog.math.Long.prototype.shiftRight=function(t){if(0==(t&=63))return this;var e=this.high_;return 32>t?goog.math.Long.fromBits(this.low_>>>t|e<<32-t,e>>t):goog.math.Long.fromBits(e>>t-32,0<=e?0:-1)},goog.math.Long.prototype.shiftRightUnsigned=function(t){if(0==(t&=63))return this;var e=this.high_;return 32>t?goog.math.Long.fromBits(this.low_>>>t|e<<32-t,e>>>t):32==t?goog.math.Long.fromBits(e,0):goog.math.Long.fromBits(e>>>t-32,0)},goog.object={},goog.object.forEach=function(t,e,n){for(var r in t)e.call(n,t[r],r,t)},goog.object.filter=function(t,e,n){var r,o={};for(r in t)e.call(n,t[r],r,t)&&(o[r]=t[r]);return o},goog.object.map=function(t,e,n){var r,o={};for(r in t)o[r]=e.call(n,t[r],r,t);return o},goog.object.some=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return!0;return!1},goog.object.every=function(t,e,n){for(var r in t)if(!e.call(n,t[r],r,t))return!1;return!0},goog.object.getCount=function(t){var e,n=0;for(e in t)n++;return n},goog.object.getAnyKey=function(t){for(var e in t)return e},goog.object.getAnyValue=function(t){for(var e in t)return t[e]},goog.object.contains=function(t,e){return goog.object.containsValue(t,e)},goog.object.getValues=function(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n},goog.object.getKeys=function(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n},goog.object.getValueByKeys=function(t,e){for(var n=(r=goog.isArrayLike(e))?e:arguments,r=r?0:1;r<n.length&&(t=t[n[r]],goog.isDef(t));r++);return t},goog.object.containsKey=function(t,e){return e in t},goog.object.containsValue=function(t,e){for(var n in t)if(t[n]==e)return!0;return!1},goog.object.findKey=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},goog.object.findValue=function(t,e,n){return(e=goog.object.findKey(t,e,n))&&t[e]},goog.object.isEmpty=function(t){for(var e in t)return!1;return!0},goog.object.clear=function(t){for(var e in t)delete t[e]},goog.object.remove=function(t,e){var n;return(n=e in t)&&delete t[e],n},goog.object.add=function(t,e,n){if(e in t)throw Error('The object already contains the key "'+e+'"');goog.object.set(t,e,n)},goog.object.get=function(t,e,n){return e in t?t[e]:n},goog.object.set=function(t,e,n){t[e]=n},goog.object.setIfUndefined=function(t,e,n){return e in t?t[e]:t[e]=n},goog.object.setWithReturnValueIfNotSet=function(t,e,n){return e in t?t[e]:(n=n(),t[e]=n)},goog.object.equals=function(t,e){for(var n in t)if(!(n in e)||t[n]!==e[n])return!1;for(n in e)if(!(n in t))return!1;return!0},goog.object.clone=function(t){var e,n={};for(e in t)n[e]=t[e];return n},goog.object.unsafeClone=function(t){if("object"==(n=goog.typeOf(t))||"array"==n){if(t.clone)return t.clone();var e,n="array"==n?[]:{};for(e in t)n[e]=goog.object.unsafeClone(t[e]);return n}return t},goog.object.transpose=function(t){var e,n={};for(e in t)n[t[e]]=e;return n},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(t,e){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])t[n]=r[n];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)n=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}},goog.object.create=function(t){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(e%2)throw Error("Uneven number of arguments");for(var n={},r=0;r<e;r+=2)n[arguments[r]]=arguments[r+1];return n},goog.object.createSet=function(t){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var n={},r=0;r<e;r++)n[arguments[r]]=!0;return n},goog.object.createImmutableView=function(t){var e=t;return Object.isFrozen&&!Object.isFrozen(t)&&(e=Object.create(t),Object.freeze(e)),e},goog.object.isImmutableView=function(t){return!!Object.isFrozen&&Object.isFrozen(t)};var com={cognitect:{}};com.cognitect.transit={},com.cognitect.transit.delimiters={},com.cognitect.transit.delimiters.ESC="~",com.cognitect.transit.delimiters.TAG="#",com.cognitect.transit.delimiters.SUB="^",com.cognitect.transit.delimiters.RES="`",com.cognitect.transit.delimiters.ESC_TAG="~#",com.cognitect.transit.caching={},com.cognitect.transit.caching.MIN_SIZE_CACHEABLE=3,com.cognitect.transit.caching.BASE_CHAR_IDX=48,com.cognitect.transit.caching.CACHE_CODE_DIGITS=44,com.cognitect.transit.caching.MAX_CACHE_ENTRIES=com.cognitect.transit.caching.CACHE_CODE_DIGITS*com.cognitect.transit.caching.CACHE_CODE_DIGITS,com.cognitect.transit.caching.MAX_CACHE_SIZE=4096,com.cognitect.transit.caching.isCacheable=function(t,e){if(t.length>com.cognitect.transit.caching.MIN_SIZE_CACHEABLE){if(e)return!0;var n=t.charAt(0),r=t.charAt(1);return n===com.cognitect.transit.delimiters.ESC&&(":"===r||"$"===r||"#"===r)}return!1},com.cognitect.transit.caching.idxToCode=function(t){var e=Math.floor(t/com.cognitect.transit.caching.CACHE_CODE_DIGITS);return t=String.fromCharCode(t%com.cognitect.transit.caching.CACHE_CODE_DIGITS+com.cognitect.transit.caching.BASE_CHAR_IDX),0===e?com.cognitect.transit.delimiters.SUB+t:com.cognitect.transit.delimiters.SUB+String.fromCharCode(e+com.cognitect.transit.caching.BASE_CHAR_IDX)+t},com.cognitect.transit.caching.WriteCache=function(){this.cacheSize=this.gen=this.idx=0,this.cache={}},com.cognitect.transit.caching.WriteCache.prototype.write=function(t,e){if(com.cognitect.transit.caching.isCacheable(t,e)){this.cacheSize===com.cognitect.transit.caching.MAX_CACHE_SIZE?(this.clear(),this.gen=0,this.cache={}):this.idx===com.cognitect.transit.caching.MAX_CACHE_ENTRIES&&this.clear();var n=this.cache[t];return null==n?(this.cache[t]=[com.cognitect.transit.caching.idxToCode(this.idx),this.gen],this.idx++,t):n[1]!=this.gen?(n[1]=this.gen,n[0]=com.cognitect.transit.caching.idxToCode(this.idx),this.idx++,t):n[0]}return t},com.cognitect.transit.caching.WriteCache.prototype.clear=function(){this.idx=0,this.gen++},com.cognitect.transit.caching.writeCache=function(){return new com.cognitect.transit.caching.WriteCache},com.cognitect.transit.caching.isCacheCode=function(t){return t.charAt(0)===com.cognitect.transit.delimiters.SUB&&" "!==t.charAt(1)},com.cognitect.transit.caching.codeToIdx=function(t){return 2===t.length?t.charCodeAt(1)-com.cognitect.transit.caching.BASE_CHAR_IDX:(t.charCodeAt(1)-com.cognitect.transit.caching.BASE_CHAR_IDX)*com.cognitect.transit.caching.CACHE_CODE_DIGITS+(t=t.charCodeAt(2)-com.cognitect.transit.caching.BASE_CHAR_IDX)},com.cognitect.transit.caching.ReadCache=function(){this.idx=0,this.cache=[]},com.cognitect.transit.caching.ReadCache.prototype.write=function(t,e){return this.idx==com.cognitect.transit.caching.MAX_CACHE_ENTRIES&&(this.idx=0),this.cache[this.idx]=t,this.idx++,t},com.cognitect.transit.caching.ReadCache.prototype.read=function(t,e){return this.cache[com.cognitect.transit.caching.codeToIdx(t)]},com.cognitect.transit.caching.ReadCache.prototype.clear=function(){this.idx=0},com.cognitect.transit.caching.readCache=function(){return new com.cognitect.transit.caching.ReadCache},com.cognitect.transit.util={},com.cognitect.transit.util.objectKeys=void 0!==Object.keys?function(t){return Object.keys(t)}:function(t){return goog.object.getKeys(t)},com.cognitect.transit.util.isArray=void 0!==Array.isArray?function(t){return Array.isArray(t)}:function(t){return"array"===goog.typeOf(t)},com.cognitect.transit.util.chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",com.cognitect.transit.util.randInt=function(t){return Math.round(Math.random()*t)},com.cognitect.transit.util.randHex=function(){return com.cognitect.transit.util.randInt(15).toString(16)},com.cognitect.transit.util.randomUUID=function(){var t=(8|3&com.cognitect.transit.util.randInt(14)).toString(16);return com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-4"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+t+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()},com.cognitect.transit.util.btoa=function(t){if("undefined"!=typeof btoa)return btoa(t);t=String(t);for(var e,n,r=0,o=com.cognitect.transit.util.chars,i="";t.charAt(0|r)||(o="=",r%1);i+=o.charAt(63&e>>8-r%1*8)){if(255<(n=t.charCodeAt(r+=.75)))throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");e=e<<8|n}return i},com.cognitect.transit.util.atob=function(t){if("undefined"!=typeof atob)return atob(t);if(1==(t=String(t).replace(/=+$/,"")).length%4)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,n,r=0,o=0,i="";n=t.charAt(o++);~n&&(e=r%4?64*e+n:n,r++%4)?i+=String.fromCharCode(255&e>>(-2*r&6)):0)n=com.cognitect.transit.util.chars.indexOf(n);return i},com.cognitect.transit.util.Uint8ToBase64=function(t){for(var e=0,n=t.length,r="",o=null;e<n;)o=t.subarray(e,Math.min(e+32768,n)),r+=String.fromCharCode.apply(null,o),e+=32768;return com.cognitect.transit.util.btoa(r)},com.cognitect.transit.util.Base64ToUint8=function(t){for(var e=(t=com.cognitect.transit.util.atob(t)).length,n=new Uint8Array(e),r=0;r<e;r++){var o=t.charCodeAt(r);n[r]=o}return n},com.cognitect.transit.eq={},com.cognitect.transit.eq.hashCodeProperty="transit$hashCode$",com.cognitect.transit.eq.hashCodeCounter=1,com.cognitect.transit.eq.equals=function(t,e){if(null==t)return null==e;if(t===e)return!0;if("object"==typeof t){if(com.cognitect.transit.util.isArray(t)){if(com.cognitect.transit.util.isArray(e)&&t.length===e.length){for(var n=0;n<t.length;n++)if(!com.cognitect.transit.eq.equals(t[n],e[n]))return!1;return!0}return!1}if(t.com$cognitect$transit$equals)return t.com$cognitect$transit$equals(e);if(null!=e&&"object"==typeof e){if(e.com$cognitect$transit$equals)return e.com$cognitect$transit$equals(t);n=0;var r,o=com.cognitect.transit.util.objectKeys(e).length;for(r in t)if(t.hasOwnProperty(r)&&(n++,!e.hasOwnProperty(r)||!com.cognitect.transit.eq.equals(t[r],e[r])))return!1;return n===o}}return!1},com.cognitect.transit.eq.hashCombine=function(t,e){return t^e+2654435769+(t<<6)+(t>>2)},com.cognitect.transit.eq.stringCodeCache={},com.cognitect.transit.eq.stringCodeCacheSize=0,com.cognitect.transit.eq.STR_CACHE_MAX=256,com.cognitect.transit.eq.hashString=function(t){var e=com.cognitect.transit.eq.stringCodeCache[t];if(null!=e)return e;for(var n=e=0;n<t.length;++n)e=31*e+t.charCodeAt(n),e%=4294967296;return com.cognitect.transit.eq.stringCodeCacheSize++,com.cognitect.transit.eq.stringCodeCacheSize>=com.cognitect.transit.eq.STR_CACHE_MAX&&(com.cognitect.transit.eq.stringCodeCache={},com.cognitect.transit.eq.stringCodeCacheSize=1),com.cognitect.transit.eq.stringCodeCache[t]=e},com.cognitect.transit.eq.hashMapLike=function(t){var e=0;if(null!=t.forEach)t.forEach(function(t,n,r){e=(e+(com.cognitect.transit.eq.hashCode(n)^com.cognitect.transit.eq.hashCode(t)))%4503599627370496});else for(var n=com.cognitect.transit.util.objectKeys(t),r=0;r<n.length;r++){var o=n[r],i=t[o];e=(e+(com.cognitect.transit.eq.hashCode(o)^com.cognitect.transit.eq.hashCode(i)))%4503599627370496}return e},com.cognitect.transit.eq.hashArrayLike=function(t){var e=0;if(com.cognitect.transit.util.isArray(t))for(var n=0;n<t.length;n++)e=com.cognitect.transit.eq.hashCombine(e,com.cognitect.transit.eq.hashCode(t[n]));else t.forEach&&t.forEach(function(t,n){e=com.cognitect.transit.eq.hashCombine(e,com.cognitect.transit.eq.hashCode(t))});return e},com.cognitect.transit.eq.hashCode=function(t){if(null==t)return 0;switch(typeof t){case"number":return t;case"boolean":return!0===t?1:0;case"string":return com.cognitect.transit.eq.hashString(t);case"function":var e=t[com.cognitect.transit.eq.hashCodeProperty];return e||(e=com.cognitect.transit.eq.hashCodeCounter,void 0!==Object.defineProperty?Object.defineProperty(t,com.cognitect.transit.eq.hashCodeProperty,{value:e,enumerable:!1}):t[com.cognitect.transit.eq.hashCodeProperty]=e,com.cognitect.transit.eq.hashCodeCounter++),e;default:return t instanceof Date?t.valueOf():com.cognitect.transit.util.isArray(t)?com.cognitect.transit.eq.hashArrayLike(t):t.com$cognitect$transit$hashCode?t.com$cognitect$transit$hashCode():com.cognitect.transit.eq.hashMapLike(t)}},com.cognitect.transit.eq.extendToEQ=function(t,e){return t.com$cognitect$transit$hashCode=e.hashCode,t.com$cognitect$transit$equals=e.equals,t},com.cognitect.transit.types={},com.cognitect.transit.types.ITERATOR="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",com.cognitect.transit.types.TaggedValue=function(t,e){this.tag=t,this.rep=e,this.hashCode=-1},com.cognitect.transit.types.TaggedValue.prototype.toString=function(){return"[TaggedValue: "+this.tag+", "+this.rep+"]"},com.cognitect.transit.types.TaggedValue.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)},com.cognitect.transit.types.TaggedValue.prototype.equiv=com.cognitect.transit.types.TaggedValue.prototype.equiv,com.cognitect.transit.types.TaggedValue.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&(this.tag===t.tag&&com.cognitect.transit.eq.equals(this.rep,t.rep))},com.cognitect.transit.types.TaggedValue.prototype.com$cognitect$transit$hashCode=function(){return-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashCombine(com.cognitect.transit.eq.hashCode(this.tag),com.cognitect.transit.eq.hashCode(this.rep))),this.hashCode},com.cognitect.transit.types.taggedValue=function(t,e){return new com.cognitect.transit.types.TaggedValue(t,e)},com.cognitect.transit.types.isTaggedValue=function(t){return t instanceof com.cognitect.transit.types.TaggedValue},com.cognitect.transit.types.nullValue=function(){return null},com.cognitect.transit.types.boolValue=function(t){return"t"===t},com.cognitect.transit.types.MAX_INT=goog.math.Long.fromString("9007199254740991"),com.cognitect.transit.types.MIN_INT=goog.math.Long.fromString("-9007199254740991"),com.cognitect.transit.types.intValue=function(t){return"number"==typeof t||t instanceof goog.math.Long?t:(t=goog.math.Long.fromString(t,10)).greaterThan(com.cognitect.transit.types.MAX_INT)||t.lessThan(com.cognitect.transit.types.MIN_INT)?t:t.toNumber()},goog.math.Long.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)},goog.math.Long.prototype.equiv=goog.math.Long.prototype.equiv,goog.math.Long.prototype.com$cognitect$transit$equals=function(t){return t instanceof goog.math.Long&&this.equals(t)},goog.math.Long.prototype.com$cognitect$transit$hashCode=function(){return this.toInt()},com.cognitect.transit.types.isInteger=function(t){return t instanceof goog.math.Long||"number"==typeof t&&!isNaN(t)&&1/0!==t&&parseFloat(t)===parseInt(t,10)},com.cognitect.transit.types.floatValue=function(t){return parseFloat(t)},com.cognitect.transit.types.bigInteger=function(t){return com.cognitect.transit.types.taggedValue("n",t)},com.cognitect.transit.types.isBigInteger=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"n"===t.tag},com.cognitect.transit.types.bigDecimalValue=function(t){return com.cognitect.transit.types.taggedValue("f",t)},com.cognitect.transit.types.isBigDecimal=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"f"===t.tag},com.cognitect.transit.types.charValue=function(t){return t},com.cognitect.transit.types.Keyword=function(t){this._name=t,this.hashCode=-1},com.cognitect.transit.types.Keyword.prototype.toString=function(){return":"+this._name},com.cognitect.transit.types.Keyword.prototype.namespace=function(){var t=this._name.indexOf("/");return-1!=t?this._name.substring(0,t):null},com.cognitect.transit.types.Keyword.prototype.name=function(){var t=this._name.indexOf("/");return-1!=t?this._name.substring(t+1,this._name.length):this._name},com.cognitect.transit.types.Keyword.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)},com.cognitect.transit.types.Keyword.prototype.equiv=com.cognitect.transit.types.Keyword.prototype.equiv,com.cognitect.transit.types.Keyword.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.Keyword&&this._name==t._name},com.cognitect.transit.types.Keyword.prototype.com$cognitect$transit$hashCode=function(){return-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashCode(this._name)),this.hashCode},com.cognitect.transit.types.keyword=function(t){return new com.cognitect.transit.types.Keyword(t)},com.cognitect.transit.types.isKeyword=function(t){return t instanceof com.cognitect.transit.types.Keyword},com.cognitect.transit.types.Symbol=function(t){this._name=t,this.hashCode=-1},com.cognitect.transit.types.Symbol.prototype.namespace=function(){var t=this._name.indexOf("/");return-1!=t?this._name.substring(0,t):null},com.cognitect.transit.types.Symbol.prototype.name=function(){var t=this._name.indexOf("/");return-1!=t?this._name.substring(t+1,this._name.length):this._name},com.cognitect.transit.types.Symbol.prototype.toString=function(){return this._name},com.cognitect.transit.types.Symbol.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)},com.cognitect.transit.types.Symbol.prototype.equiv=com.cognitect.transit.types.Symbol.prototype.equiv,com.cognitect.transit.types.Symbol.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.Symbol&&this._name==t._name},com.cognitect.transit.types.Symbol.prototype.com$cognitect$transit$hashCode=function(){return-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashCode(this._name)),this.hashCode},com.cognitect.transit.types.symbol=function(t){return new com.cognitect.transit.types.Symbol(t)},com.cognitect.transit.types.isSymbol=function(t){return t instanceof com.cognitect.transit.types.Symbol},com.cognitect.transit.types.hexFor=function(t,e,n){var r="";n=n||e+1;for(var o=8*(7-e),i=goog.math.Long.fromInt(255).shiftLeft(o);e<n;e++,o-=8,i=i.shiftRightUnsigned(8)){var s=t.and(i).shiftRightUnsigned(o).toString(16);1==s.length&&(s="0"+s),r+=s}return r},com.cognitect.transit.types.UUID=function(t,e){this.high=t,this.low=e,this.hashCode=-1},com.cognitect.transit.types.UUID.prototype.getLeastSignificantBits=function(){return this.low},com.cognitect.transit.types.UUID.prototype.getMostSignificantBits=function(){return this.high},com.cognitect.transit.types.UUID.prototype.toString=function(){var t,e=this.high,n=this.low;return t=com.cognitect.transit.types.hexFor(e,0,4)+"-",t+=com.cognitect.transit.types.hexFor(e,4,6)+"-",t+=com.cognitect.transit.types.hexFor(e,6,8)+"-",(t+=com.cognitect.transit.types.hexFor(n,0,2)+"-")+com.cognitect.transit.types.hexFor(n,2,8)},com.cognitect.transit.types.UUID.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)},com.cognitect.transit.types.UUID.prototype.equiv=com.cognitect.transit.types.UUID.prototype.equiv,com.cognitect.transit.types.UUID.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.UUID&&this.high.equals(t.high)&&this.low.equals(t.low)},com.cognitect.transit.types.UUID.prototype.com$cognitect$transit$hashCode=function(){return-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashCode(this.toString())),this.hashCode},com.cognitect.transit.types.UUIDfromString=function(t){t=t.replace(/-/g,"");var e,n=null,r=n=0,o=24,i=0;for(i=n=0,o=24;8>i;i+=2,o-=8)n|=parseInt(t.substring(i,i+2),16)<<o;for(r=0,i=8,o=24;16>i;i+=2,o-=8)r|=parseInt(t.substring(i,i+2),16)<<o;for(e=goog.math.Long.fromBits(r,n),n=0,i=16,o=24;24>i;i+=2,o-=8)n|=parseInt(t.substring(i,i+2),16)<<o;for(r=0,o=i=24;32>i;i+=2,o-=8)r|=parseInt(t.substring(i,i+2),16)<<o;return n=goog.math.Long.fromBits(r,n),new com.cognitect.transit.types.UUID(e,n)},com.cognitect.transit.types.uuid=function(t){return com.cognitect.transit.types.UUIDfromString(t)},com.cognitect.transit.types.isUUID=function(t){return t instanceof com.cognitect.transit.types.UUID},com.cognitect.transit.types.date=function(t){return t="number"==typeof t?t:parseInt(t,10),new Date(t)},com.cognitect.transit.types.verboseDate=function(t){return new Date(t)},Date.prototype.com$cognitect$transit$equals=function(t){return t instanceof Date&&this.valueOf()===t.valueOf()},Date.prototype.com$cognitect$transit$hashCode=function(){return this.valueOf()},com.cognitect.transit.types.binary=function(t,e){return e&&!1===e.preferBuffers||void 0===Buffer?"undefined"!=typeof Uint8Array?com.cognitect.transit.util.Base64ToUint8(t):com.cognitect.transit.types.taggedValue("b",t):new Buffer(t,"base64")},com.cognitect.transit.types.isBinary=function(t){return void 0!==Buffer&&t instanceof Buffer||("undefined"!=typeof Uint8Array&&t instanceof Uint8Array||t instanceof com.cognitect.transit.types.TaggedValue&&"b"===t.tag)},com.cognitect.transit.types.uri=function(t){return com.cognitect.transit.types.taggedValue("r",t)},com.cognitect.transit.types.isURI=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"r"===t.tag},com.cognitect.transit.types.KEYS=0,com.cognitect.transit.types.VALUES=1,com.cognitect.transit.types.ENTRIES=2,com.cognitect.transit.types.TransitArrayMapIterator=function(t,e){this.entries=t,this.type=e||com.cognitect.transit.types.KEYS,this.idx=0},com.cognitect.transit.types.TransitArrayMapIterator.prototype.next=function(){if(this.idx<this.entries.length){var t=null;t={value:t=this.type===com.cognitect.transit.types.KEYS?this.entries[this.idx]:this.type===com.cognitect.transit.types.VALUES?this.entries[this.idx+1]:[this.entries[this.idx],this.entries[this.idx+1]],done:!1};return this.idx+=2,t}return{value:null,done:!0}},com.cognitect.transit.types.TransitArrayMapIterator.prototype.next=com.cognitect.transit.types.TransitArrayMapIterator.prototype.next,com.cognitect.transit.types.TransitArrayMapIterator.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this},com.cognitect.transit.types.TransitMapIterator=function(t,e){this.map=t,this.type=e||com.cognitect.transit.types.KEYS,this.keys=this.map.getKeys(),this.idx=0,this.bucket=null,this.bucketIdx=0},com.cognitect.transit.types.TransitMapIterator.prototype.next=function(){if(this.idx<this.map.size){null!=this.bucket&&this.bucketIdx<this.bucket.length||(this.bucket=this.map.map[this.keys[this.idx]],this.bucketIdx=0);var t=null;t={value:t=this.type===com.cognitect.transit.types.KEYS?this.bucket[this.bucketIdx]:this.type===com.cognitect.transit.types.VALUES?this.bucket[this.bucketIdx+1]:[this.bucket[this.bucketIdx],this.bucket[this.bucketIdx+1]],done:!1};return this.idx++,this.bucketIdx+=2,t}return{value:null,done:!0}},com.cognitect.transit.types.TransitMapIterator.prototype.next=com.cognitect.transit.types.TransitMapIterator.prototype.next,com.cognitect.transit.types.TransitMapIterator.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this},com.cognitect.transit.types.mapEquals=function(t,e){if(t instanceof com.cognitect.transit.types.TransitMap&&com.cognitect.transit.types.isMap(e)){if(t.size!==e.size)return!1;for(var n in t.map)for(var r=t.map[n],o=0;o<r.length;o+=2)if(!com.cognitect.transit.eq.equals(r[o+1],e.get(r[o])))return!1;return!0}if(t instanceof com.cognitect.transit.types.TransitArrayMap&&com.cognitect.transit.types.isMap(e)){if(t.size!==e.size)return!1;for(n=t._entries,o=0;o<n.length;o+=2)if(!com.cognitect.transit.eq.equals(n[o+1],e.get(n[o])))return!1;return!0}if(null!=e&&"object"==typeof e&&(n=(o=com.cognitect.transit.util.objectKeys(e)).length,t.size===n)){for(r=0;r<n;r++){var i=o[r];if(!t.has(i)||!com.cognitect.transit.eq.equals(e[i],t.get(i)))return!1}return!0}return!1},com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD=8,com.cognitect.transit.types.ARRAY_MAP_THRESHOLD=32,com.cognitect.transit.types.ARRAY_MAP_ACCESS_THRESHOLD=32,com.cognitect.transit.types.print=function(t){return null==t?"null":goog.isArray(t)?"["+t.toString()+"]":goog.isString(t)?'"'+t+'"':t.toString()},com.cognitect.transit.types.printMap=function(t){var e=0,n="TransitMap {";return t.forEach(function(r,o){n+=com.cognitect.transit.types.print(o)+" => "+com.cognitect.transit.types.print(r),e<t.size-1&&(n+=", "),e++}),n+"}"},com.cognitect.transit.types.printSet=function(t){var e=0,n="TransitSet {";return t.forEach(function(r){n+=com.cognitect.transit.types.print(r),e<t.size-1&&(n+=", "),e++}),n+"}"},com.cognitect.transit.types.TransitArrayMap=function(t){this._entries=t,this.backingMap=null,this.hashCode=-1,this.size=t.length/2,this.accesses=0},com.cognitect.transit.types.TransitArrayMap.prototype.toString=function(){return com.cognitect.transit.types.printMap(this)},com.cognitect.transit.types.TransitArrayMap.prototype.inspect=function(){return this.toString()},com.cognitect.transit.types.TransitArrayMap.prototype.convert=function(){if(this.backingMap)throw Error("Invalid operation, already converted");return!(this.size<com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD)&&(this.accesses++,this.accesses>com.cognitect.transit.types.ARRAY_MAP_ACCESS_THRESHOLD&&(this.backingMap=com.cognitect.transit.types.map(this._entries,!1,!0),this._entries=[],!0))},com.cognitect.transit.types.TransitArrayMap.prototype.clear=function(){this.hashCode=-1,this.backingMap?this.backingMap.clear():this._entries=[],this.size=0},com.cognitect.transit.types.TransitArrayMap.prototype.clear=com.cognitect.transit.types.TransitArrayMap.prototype.clear,com.cognitect.transit.types.TransitArrayMap.prototype.keys=function(){return this.backingMap?this.backingMap.keys():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.KEYS)},com.cognitect.transit.types.TransitArrayMap.prototype.keys=com.cognitect.transit.types.TransitArrayMap.prototype.keys,com.cognitect.transit.types.TransitArrayMap.prototype.keySet=function(){if(this.backingMap)return this.backingMap.keySet();for(var t=[],e=0,n=0;n<this._entries.length;e++,n+=2)t[e]=this._entries[n];return t},com.cognitect.transit.types.TransitArrayMap.prototype.keySet=com.cognitect.transit.types.TransitArrayMap.prototype.keySet,com.cognitect.transit.types.TransitArrayMap.prototype.entries=function(){return this.backingMap?this.backingMap.entries():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.ENTRIES)},com.cognitect.transit.types.TransitArrayMap.prototype.entries=com.cognitect.transit.types.TransitArrayMap.prototype.entries,com.cognitect.transit.types.TransitArrayMap.prototype.values=function(){return this.backingMap?this.backingMap.values():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.VALUES)},com.cognitect.transit.types.TransitArrayMap.prototype.values=com.cognitect.transit.types.TransitArrayMap.prototype.values,com.cognitect.transit.types.TransitArrayMap.prototype.forEach=function(t){if(this.backingMap)this.backingMap.forEach(t);else for(var e=0;e<this._entries.length;e+=2)t(this._entries[e+1],this._entries[e])},com.cognitect.transit.types.TransitArrayMap.prototype.forEach=com.cognitect.transit.types.TransitArrayMap.prototype.forEach,com.cognitect.transit.types.TransitArrayMap.prototype.get=function(t,e){if(this.backingMap)return this.backingMap.get(t);if(this.convert())return this.get(t);for(var n=0;n<this._entries.length;n+=2)if(com.cognitect.transit.eq.equals(this._entries[n],t))return this._entries[n+1];return e},com.cognitect.transit.types.TransitArrayMap.prototype.get=com.cognitect.transit.types.TransitArrayMap.prototype.get,com.cognitect.transit.types.TransitArrayMap.prototype.has=function(t){if(this.backingMap)return this.backingMap.has(t);if(this.convert())return this.has(t);for(var e=0;e<this._entries.length;e+=2)if(com.cognitect.transit.eq.equals(this._entries[e],t))return!0;return!1},com.cognitect.transit.types.TransitArrayMap.prototype.has=com.cognitect.transit.types.TransitArrayMap.prototype.has,com.cognitect.transit.types.TransitArrayMap.prototype.set=function(t,e){if(this.hashCode=-1,this.backingMap)this.backingMap.set(t,e),this.size=this.backingMap.size;else{for(var n=0;n<this._entries.length;n+=2)if(com.cognitect.transit.eq.equals(this._entries[n],t))return void(this._entries[n+1]=e);this._entries.push(t),this._entries.push(e),this.size++,this.size>com.cognitect.transit.types.ARRAY_MAP_THRESHOLD&&(this.backingMap=com.cognitect.transit.types.map(this._entries,!1,!0),this._entries=null)}},com.cognitect.transit.types.TransitArrayMap.prototype.set=com.cognitect.transit.types.TransitArrayMap.prototype.set,com.cognitect.transit.types.TransitArrayMap.prototype.delete=function(t){if(this.hashCode=-1,this.backingMap)return t=this.backingMap.delete(t),this.size=this.backingMap.size,t;for(var e=0;e<this._entries.length;e+=2)if(com.cognitect.transit.eq.equals(this._entries[e],t))return t=this._entries[e+1],this._entries.splice(e,2),this.size--,t},com.cognitect.transit.types.TransitArrayMap.prototype.clone=function(){var t=com.cognitect.transit.types.map();return this.forEach(function(e,n){t.set(n,e)}),t},com.cognitect.transit.types.TransitArrayMap.prototype.clone=com.cognitect.transit.types.TransitArrayMap.prototype.clone,com.cognitect.transit.types.TransitArrayMap.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.entries()},com.cognitect.transit.types.TransitArrayMap.prototype.com$cognitect$transit$hashCode=function(){return this.backingMap?this.backingMap.com$cognitect$transit$hashCode():(-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashMapLike(this)),this.hashCode)},com.cognitect.transit.types.TransitArrayMap.prototype.com$cognitect$transit$equals=function(t){return this.backingMap?com.cognitect.transit.types.mapEquals(this.backingMap,t):com.cognitect.transit.types.mapEquals(this,t)},com.cognitect.transit.types.TransitMap=function(t,e,n){this.map=e||{},this._keys=t||[],this.size=n||0,this.hashCode=-1},com.cognitect.transit.types.TransitMap.prototype.toString=function(){return com.cognitect.transit.types.printMap(this)},com.cognitect.transit.types.TransitMap.prototype.inspect=function(){return this.toString()},com.cognitect.transit.types.TransitMap.prototype.clear=function(){this.hashCode=-1,this.map={},this._keys=[],this.size=0},com.cognitect.transit.types.TransitMap.prototype.clear=com.cognitect.transit.types.TransitMap.prototype.clear,com.cognitect.transit.types.TransitMap.prototype.getKeys=function(){return null!=this._keys?this._keys:com.cognitect.transit.util.objectKeys(this.map)},com.cognitect.transit.types.TransitMap.prototype.delete=function(t){this.hashCode=-1,this._keys=null;for(var e=com.cognitect.transit.eq.hashCode(t),n=this.map[e],r=0;r<n.length;r+=2)if(com.cognitect.transit.eq.equals(t,n[r]))return t=n[r+1],n.splice(r,2),0===n.length&&delete this.map[e],this.size--,t},com.cognitect.transit.types.TransitMap.prototype.entries=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.ENTRIES)},com.cognitect.transit.types.TransitMap.prototype.entries=com.cognitect.transit.types.TransitMap.prototype.entries,com.cognitect.transit.types.TransitMap.prototype.forEach=function(t){for(var e=this.getKeys(),n=0;n<e.length;n++)for(var r=this.map[e[n]],o=0;o<r.length;o+=2)t(r[o+1],r[o],this)},com.cognitect.transit.types.TransitMap.prototype.forEach=com.cognitect.transit.types.TransitMap.prototype.forEach,com.cognitect.transit.types.TransitMap.prototype.get=function(t,e){var n=com.cognitect.transit.eq.hashCode(t);if(null==(n=this.map[n]))return e;for(var r=0;r<n.length;r+=2)if(com.cognitect.transit.eq.equals(t,n[r]))return n[r+1]},com.cognitect.transit.types.TransitMap.prototype.get=com.cognitect.transit.types.TransitMap.prototype.get,com.cognitect.transit.types.TransitMap.prototype.has=function(t){var e=com.cognitect.transit.eq.hashCode(t);if(null!=(e=this.map[e]))for(var n=0;n<e.length;n+=2)if(com.cognitect.transit.eq.equals(t,e[n]))return!0;return!1},com.cognitect.transit.types.TransitMap.prototype.has=com.cognitect.transit.types.TransitMap.prototype.has,com.cognitect.transit.types.TransitMap.prototype.keys=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.KEYS)},com.cognitect.transit.types.TransitMap.prototype.keys=com.cognitect.transit.types.TransitMap.prototype.keys,com.cognitect.transit.types.TransitMap.prototype.keySet=function(){for(var t=this.getKeys(),e=[],n=0;n<t.length;n++)for(var r=this.map[t[n]],o=0;o<r.length;o+=2)e.push(r[o]);return e},com.cognitect.transit.types.TransitMap.prototype.keySet=com.cognitect.transit.types.TransitMap.prototype.keySet,com.cognitect.transit.types.TransitMap.prototype.set=function(t,e){this.hashCode=-1;var n=com.cognitect.transit.eq.hashCode(t),r=this.map[n];if(null==r)this._keys&&this._keys.push(n),this.map[n]=[t,e],this.size++;else{n=!0;for(var o=0;o<r.length;o+=2)if(com.cognitect.transit.eq.equals(e,r[o])){n=!1,r[o]=e;break}n&&(r.push(t),r.push(e),this.size++)}},com.cognitect.transit.types.TransitMap.prototype.set=com.cognitect.transit.types.TransitMap.prototype.set,com.cognitect.transit.types.TransitMap.prototype.values=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.VALUES)},com.cognitect.transit.types.TransitMap.prototype.values=com.cognitect.transit.types.TransitMap.prototype.values,com.cognitect.transit.types.TransitMap.prototype.clone=function(){var t=com.cognitect.transit.types.map();return this.forEach(function(e,n){t.set(n,e)}),t},com.cognitect.transit.types.TransitMap.prototype.clone=com.cognitect.transit.types.TransitMap.prototype.clone,com.cognitect.transit.types.TransitMap.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.entries()},com.cognitect.transit.types.TransitMap.prototype.com$cognitect$transit$hashCode=function(){return-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashMapLike(this)),this.hashCode},com.cognitect.transit.types.TransitMap.prototype.com$cognitect$transit$equals=function(t){return com.cognitect.transit.types.mapEquals(this,t)},com.cognitect.transit.types.map=function(t,e,n){if(t=t||[],e=!1!==e||e,(!0!==n||!n)&&t.length<=2*com.cognitect.transit.types.ARRAY_MAP_THRESHOLD){if(e){var r=t;for(t=[],e=0;e<r.length;e+=2){var o=!1;for(n=0;n<t.length;n+=2)if(com.cognitect.transit.eq.equals(t[n],r[e])){t[n+1]=r[e+1],o=!0;break}o||(t.push(r[e]),t.push(r[e+1]))}}return new com.cognitect.transit.types.TransitArrayMap(t)}r={},o=[];var i=0;for(e=0;e<t.length;e+=2){var s=r[n=com.cognitect.transit.eq.hashCode(t[e])];if(null==s)o.push(n),r[n]=[t[e],t[e+1]],i++;else{var c=!0;for(n=0;n<s.length;n+=2)if(com.cognitect.transit.eq.equals(s[n],t[e])){s[n+1]=t[e+1],c=!1;break}c&&(s.push(t[e]),s.push(t[e+1]),i++)}}return new com.cognitect.transit.types.TransitMap(o,r,i)},com.cognitect.transit.types.isArrayMap=function(t){return t instanceof com.cognitect.transit.types.TransitArrayMap},com.cognitect.transit.types.isMap=function(t){return t instanceof com.cognitect.transit.types.TransitArrayMap||t instanceof com.cognitect.transit.types.TransitMap},com.cognitect.transit.types.TransitSet=function(t){this.map=t,this.size=t.size},com.cognitect.transit.types.TransitSet.prototype.toString=function(){return com.cognitect.transit.types.printSet(this)},com.cognitect.transit.types.TransitSet.prototype.inspect=function(){return this.toString()},com.cognitect.transit.types.TransitSet.prototype.add=function(t){this.map.set(t,t),this.size=this.map.size},com.cognitect.transit.types.TransitSet.prototype.add=com.cognitect.transit.types.TransitSet.prototype.add,com.cognitect.transit.types.TransitSet.prototype.clear=function(){this.map=new com.cognitect.transit.types.TransitMap,this.size=0},com.cognitect.transit.types.TransitSet.prototype.clear=com.cognitect.transit.types.TransitSet.prototype.clear,com.cognitect.transit.types.TransitSet.prototype.delete=function(t){return t=this.map.delete(t),this.size=this.map.size,t},com.cognitect.transit.types.TransitSet.prototype.entries=function(){return this.map.entries()},com.cognitect.transit.types.TransitSet.prototype.entries=com.cognitect.transit.types.TransitSet.prototype.entries,com.cognitect.transit.types.TransitSet.prototype.forEach=function(t,e){var n=this;this.map.forEach(function(e,r,o){t(r,n)})},com.cognitect.transit.types.TransitSet.prototype.forEach=com.cognitect.transit.types.TransitSet.prototype.forEach,com.cognitect.transit.types.TransitSet.prototype.has=function(t){return this.map.has(t)},com.cognitect.transit.types.TransitSet.prototype.has=com.cognitect.transit.types.TransitSet.prototype.has,com.cognitect.transit.types.TransitSet.prototype.keys=function(){return this.map.keys()},com.cognitect.transit.types.TransitSet.prototype.keys=com.cognitect.transit.types.TransitSet.prototype.keys,com.cognitect.transit.types.TransitSet.prototype.keySet=function(){return this.map.keySet()},com.cognitect.transit.types.TransitSet.prototype.keySet=com.cognitect.transit.types.TransitSet.prototype.keySet,com.cognitect.transit.types.TransitSet.prototype.values=function(){return this.map.values()},com.cognitect.transit.types.TransitSet.prototype.values=com.cognitect.transit.types.TransitSet.prototype.values,com.cognitect.transit.types.TransitSet.prototype.clone=function(){var t=com.cognitect.transit.types.set();return this.forEach(function(e){t.add(e)}),t},com.cognitect.transit.types.TransitSet.prototype.clone=com.cognitect.transit.types.TransitSet.prototype.clone,com.cognitect.transit.types.TransitSet.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.values()},com.cognitect.transit.types.TransitSet.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.TransitSet&&(this.size===t.size?com.cognitect.transit.eq.equals(this.map,t.map):void 0)},com.cognitect.transit.types.TransitSet.prototype.com$cognitect$transit$hashCode=function(t){return com.cognitect.transit.eq.hashCode(this.map)},com.cognitect.transit.types.set=function(t){t=t||[];for(var e={},n=[],r=0,o=0;o<t.length;o++){var i=e[s=com.cognitect.transit.eq.hashCode(t[o])];if(null==i)n.push(s),e[s]=[t[o],t[o]],r++;else{for(var s=!0,c=0;c<i.length;c+=2)if(com.cognitect.transit.eq.equals(i[c],t[o])){s=!1;break}s&&(i.push(t[o]),i.push(t[o]),r++)}}return new com.cognitect.transit.types.TransitSet(new com.cognitect.transit.types.TransitMap(n,e,r))},com.cognitect.transit.types.isSet=function(t){return t instanceof com.cognitect.transit.types.TransitSet},com.cognitect.transit.types.quoted=function(t){return com.cognitect.transit.types.taggedValue("'",t)},com.cognitect.transit.types.isQuoted=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"'"===t.tag},com.cognitect.transit.types.list=function(t){return com.cognitect.transit.types.taggedValue("list",t)},com.cognitect.transit.types.isList=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"list"===t.tag},com.cognitect.transit.types.link=function(t){return com.cognitect.transit.types.taggedValue("link",t)},com.cognitect.transit.types.isLink=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"link"===t.tag},com.cognitect.transit.types.specialDouble=function(t){switch(t){case"-INF":return-1/0;case"INF":return 1/0;case"NaN":return NaN;default:throw Error("Invalid special double value "+t)}},com.cognitect.transit.handlers={},com.cognitect.transit.handlers.ctorGuid=0,com.cognitect.transit.handlers.ctorGuidProperty="transit$guid$"+com.cognitect.transit.util.randomUUID(),com.cognitect.transit.handlers.typeTag=function(t){if(null==t)return"null";if(t===String)return"string";if(t===Boolean)return"boolean";if(t===Number)return"number";if(t===Array)return"array";if(t===Object)return"map";var e=t[com.cognitect.transit.handlers.ctorGuidProperty];return null==e&&(void 0!==Object.defineProperty?(e=++com.cognitect.transit.handlers.ctorGuid,Object.defineProperty(t,com.cognitect.transit.handlers.ctorGuidProperty,{value:e,enumerable:!1})):t[com.cognitect.transit.handlers.ctorGuidProperty]=e=++com.cognitect.transit.handlers.ctorGuid),e},com.cognitect.transit.handlers.constructor=function(t){return null==t?null:t.constructor},com.cognitect.transit.handlers.padZeros=function(t,e){for(var n=t.toString(),r=n.length;r<e;r++)n="0"+n;return n},com.cognitect.transit.handlers.stringableKeys=function(t){t=com.cognitect.transit.util.objectKeys(t);for(var e=0;e<t.length;e++);return!0},com.cognitect.transit.handlers.NilHandler=function(){},com.cognitect.transit.handlers.NilHandler.prototype.tag=function(t){return"_"},com.cognitect.transit.handlers.NilHandler.prototype.rep=function(t){return null},com.cognitect.transit.handlers.NilHandler.prototype.stringRep=function(t){return"null"},com.cognitect.transit.handlers.StringHandler=function(){},com.cognitect.transit.handlers.StringHandler.prototype.tag=function(t){return"s"},com.cognitect.transit.handlers.StringHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.StringHandler.prototype.stringRep=function(t){return t},com.cognitect.transit.handlers.NumberHandler=function(){},com.cognitect.transit.handlers.NumberHandler.prototype.tag=function(t){return"i"},com.cognitect.transit.handlers.NumberHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.NumberHandler.prototype.stringRep=function(t){return t.toString()},com.cognitect.transit.handlers.IntegerHandler=function(){},com.cognitect.transit.handlers.IntegerHandler.prototype.tag=function(t){return"i"},com.cognitect.transit.handlers.IntegerHandler.prototype.rep=function(t){return t.toString()},com.cognitect.transit.handlers.IntegerHandler.prototype.stringRep=function(t){return t.toString()},com.cognitect.transit.handlers.BooleanHandler=function(){},com.cognitect.transit.handlers.BooleanHandler.prototype.tag=function(t){return"?"},com.cognitect.transit.handlers.BooleanHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.BooleanHandler.prototype.stringRep=function(t){return t.toString()},com.cognitect.transit.handlers.ArrayHandler=function(){},com.cognitect.transit.handlers.ArrayHandler.prototype.tag=function(t){return"array"},com.cognitect.transit.handlers.ArrayHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.ArrayHandler.prototype.stringRep=function(t){return null},com.cognitect.transit.handlers.MapHandler=function(){},com.cognitect.transit.handlers.MapHandler.prototype.tag=function(t){return"map"},com.cognitect.transit.handlers.MapHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.MapHandler.prototype.stringRep=function(t){return null},com.cognitect.transit.handlers.VerboseDateHandler=function(){},com.cognitect.transit.handlers.VerboseDateHandler.prototype.tag=function(t){return"t"},com.cognitect.transit.handlers.VerboseDateHandler.prototype.rep=function(t){return t.getUTCFullYear()+"-"+com.cognitect.transit.handlers.padZeros(t.getUTCMonth()+1,2)+"-"+com.cognitect.transit.handlers.padZeros(t.getUTCDate(),2)+"T"+com.cognitect.transit.handlers.padZeros(t.getUTCHours(),2)+":"+com.cognitect.transit.handlers.padZeros(t.getUTCMinutes(),2)+":"+com.cognitect.transit.handlers.padZeros(t.getUTCSeconds(),2)+"."+com.cognitect.transit.handlers.padZeros(t.getUTCMilliseconds(),3)+"Z"},com.cognitect.transit.handlers.VerboseDateHandler.prototype.stringRep=function(t,e){return e.rep(t)},com.cognitect.transit.handlers.DateHandler=function(){},com.cognitect.transit.handlers.DateHandler.prototype.tag=function(t){return"m"},com.cognitect.transit.handlers.DateHandler.prototype.rep=function(t){return t.valueOf()},com.cognitect.transit.handlers.DateHandler.prototype.stringRep=function(t){return t.valueOf().toString()},com.cognitect.transit.handlers.DateHandler.prototype.getVerboseHandler=function(t){return new com.cognitect.transit.handlers.VerboseDateHandler},com.cognitect.transit.handlers.UUIDHandler=function(){},com.cognitect.transit.handlers.UUIDHandler.prototype.tag=function(t){return"u"},com.cognitect.transit.handlers.UUIDHandler.prototype.rep=function(t){return t.toString()},com.cognitect.transit.handlers.UUIDHandler.prototype.stringRep=function(t){return t.toString()},com.cognitect.transit.handlers.KeywordHandler=function(){},com.cognitect.transit.handlers.KeywordHandler.prototype.tag=function(t){return":"},com.cognitect.transit.handlers.KeywordHandler.prototype.rep=function(t){return t._name},com.cognitect.transit.handlers.KeywordHandler.prototype.stringRep=function(t,e){return e.rep(t)},com.cognitect.transit.handlers.SymbolHandler=function(){},com.cognitect.transit.handlers.SymbolHandler.prototype.tag=function(t){return"$"},com.cognitect.transit.handlers.SymbolHandler.prototype.rep=function(t){return t._name},com.cognitect.transit.handlers.SymbolHandler.prototype.stringRep=function(t,e){return e.rep(t)},com.cognitect.transit.handlers.TaggedHandler=function(){},com.cognitect.transit.handlers.TaggedHandler.prototype.tag=function(t){return t.tag},com.cognitect.transit.handlers.TaggedHandler.prototype.rep=function(t){return t.rep},com.cognitect.transit.handlers.TaggedHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.TransitSetHandler=function(){},com.cognitect.transit.handlers.TransitSetHandler.prototype.tag=function(t){return"set"},com.cognitect.transit.handlers.TransitSetHandler.prototype.rep=function(t){var e=[];return t.forEach(function(t,n){e.push(t)}),com.cognitect.transit.types.taggedValue("array",e)},com.cognitect.transit.handlers.TransitSetHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.TransitArrayMapHandler=function(){},com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.tag=function(t){return"map"},com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.TransitMapHandler=function(){},com.cognitect.transit.handlers.TransitMapHandler.prototype.tag=function(t){return"map"},com.cognitect.transit.handlers.TransitMapHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.TransitMapHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.BufferHandler=function(){},com.cognitect.transit.handlers.BufferHandler.prototype.tag=function(t){return"b"},com.cognitect.transit.handlers.BufferHandler.prototype.rep=function(t){return t.toString("base64")},com.cognitect.transit.handlers.BufferHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.Uint8ArrayHandler=function(){},com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.tag=function(t){return"b"},com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.rep=function(t){return com.cognitect.transit.util.Uint8ToBase64(t)},com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.defaultHandlers=function(t){return t.set(null,new com.cognitect.transit.handlers.NilHandler),t.set(String,new com.cognitect.transit.handlers.StringHandler),t.set(Number,new com.cognitect.transit.handlers.NumberHandler),t.set(goog.math.Long,new com.cognitect.transit.handlers.IntegerHandler),t.set(Boolean,new com.cognitect.transit.handlers.BooleanHandler),t.set(Array,new com.cognitect.transit.handlers.ArrayHandler),t.set(Object,new com.cognitect.transit.handlers.MapHandler),t.set(Date,new com.cognitect.transit.handlers.DateHandler),t.set(com.cognitect.transit.types.UUID,new com.cognitect.transit.handlers.UUIDHandler),t.set(com.cognitect.transit.types.Keyword,new com.cognitect.transit.handlers.KeywordHandler),t.set(com.cognitect.transit.types.Symbol,new com.cognitect.transit.handlers.SymbolHandler),t.set(com.cognitect.transit.types.TaggedValue,new com.cognitect.transit.handlers.TaggedHandler),t.set(com.cognitect.transit.types.TransitSet,new com.cognitect.transit.handlers.TransitSetHandler),t.set(com.cognitect.transit.types.TransitArrayMap,new com.cognitect.transit.handlers.TransitArrayMapHandler),t.set(com.cognitect.transit.types.TransitMap,new com.cognitect.transit.handlers.TransitMapHandler),void 0!==Buffer&&t.set(Buffer,new com.cognitect.transit.handlers.BufferHandler),"undefined"!=typeof Uint8Array&&t.set(Uint8Array,new com.cognitect.transit.handlers.Uint8ArrayHandler),t},com.cognitect.transit.handlers.Handlers=function(){this.handlers={},com.cognitect.transit.handlers.defaultHandlers(this)},com.cognitect.transit.handlers.Handlers.prototype.get=function(t){var e=null;return null!=(e="string"==typeof t?this.handlers[t]:this.handlers[com.cognitect.transit.handlers.typeTag(t)])?e:this.handlers.default},com.cognitect.transit.handlers.Handlers.prototype.get=com.cognitect.transit.handlers.Handlers.prototype.get,com.cognitect.transit.handlers.validTag=function(t){switch(t){case"null":case"string":case"boolean":case"number":case"array":case"map":return!1}return!0},com.cognitect.transit.handlers.Handlers.prototype.set=function(t,e){"string"==typeof t&&com.cognitect.transit.handlers.validTag(t)?this.handlers[t]=e:this.handlers[com.cognitect.transit.handlers.typeTag(t)]=e},com.cognitect.transit.impl={},com.cognitect.transit.impl.decoder={},com.cognitect.transit.impl.decoder.Tag=function(t){this.str=t},com.cognitect.transit.impl.decoder.tag=function(t){return new com.cognitect.transit.impl.decoder.Tag(t)},com.cognitect.transit.impl.decoder.isTag=function(t){return t&&t instanceof com.cognitect.transit.impl.decoder.Tag},com.cognitect.transit.impl.decoder.isGroundHandler=function(t){switch(t){case"_":case"s":case"?":case"i":case"d":case"b":case"'":case"array":case"map":return!0}return!1},com.cognitect.transit.impl.decoder.Decoder=function(t){for(var e in this.options=t||{},this.handlers={},this.defaults.handlers)this.handlers[e]=this.defaults.handlers[e];for(e in this.options.handlers){if(com.cognitect.transit.impl.decoder.isGroundHandler(e))throw Error('Cannot override handler for ground type "'+e+'"');this.handlers[e]=this.options.handlers[e]}this.preferStrings=null!=this.options.preferStrings?this.options.preferStrings:this.defaults.preferStrings,this.preferBuffers=null!=this.options.preferBuffers?this.options.preferBuffers:this.defaults.preferBuffers,this.defaultHandler=this.options.defaultHandler||this.defaults.defaultHandler,this.mapBuilder=this.options.mapBuilder,this.arrayBuilder=this.options.arrayBuilder},com.cognitect.transit.impl.decoder.Decoder.prototype.defaults={handlers:{_:function(t,e){return com.cognitect.transit.types.nullValue()},"?":function(t,e){return com.cognitect.transit.types.boolValue(t)},b:function(t,e){return com.cognitect.transit.types.binary(t,e)},i:function(t,e){return com.cognitect.transit.types.intValue(t)},n:function(t,e){return com.cognitect.transit.types.bigInteger(t)},d:function(t,e){return com.cognitect.transit.types.floatValue(t)},f:function(t,e){return com.cognitect.transit.types.bigDecimalValue(t)},c:function(t,e){return com.cognitect.transit.types.charValue(t)},":":function(t,e){return com.cognitect.transit.types.keyword(t)},$:function(t,e){return com.cognitect.transit.types.symbol(t)},r:function(t,e){return com.cognitect.transit.types.uri(t)},z:function(t,e){return com.cognitect.transit.types.specialDouble(t)},"'":function(t,e){return t},m:function(t,e){return com.cognitect.transit.types.date(t)},t:function(t,e){return com.cognitect.transit.types.verboseDate(t)},u:function(t,e){return com.cognitect.transit.types.uuid(t)},set:function(t,e){return com.cognitect.transit.types.set(t)},list:function(t,e){return com.cognitect.transit.types.list(t)},link:function(t,e){return com.cognitect.transit.types.link(t)},cmap:function(t,e){return com.cognitect.transit.types.map(t,!1)}},defaultHandler:function(t,e){return com.cognitect.transit.types.taggedValue(t,e)},preferStrings:!0,preferBuffers:!0},com.cognitect.transit.impl.decoder.Decoder.prototype.decode=function(t,e,n,r){if(null==t)return null;switch(typeof t){case"string":return this.decodeString(t,e,n,r);case"object":return com.cognitect.transit.util.isArray(t)?"^ "===t[0]?this.decodeArrayHash(t,e,n,r):this.decodeArray(t,e,n,r):this.decodeHash(t,e,n,r)}return t},com.cognitect.transit.impl.decoder.Decoder.prototype.decode=com.cognitect.transit.impl.decoder.Decoder.prototype.decode,com.cognitect.transit.impl.decoder.Decoder.prototype.decodeString=function(t,e,n,r){return com.cognitect.transit.caching.isCacheable(t,n)?(t=this.parseString(t,e,!1),e&&e.write(t,n),t):com.cognitect.transit.caching.isCacheCode(t)?e.read(t,n):this.parseString(t,e,n)},com.cognitect.transit.impl.decoder.Decoder.prototype.decodeHash=function(t,e,n,r){var o=(n=com.cognitect.transit.util.objectKeys(t))[0];if(r=1==n.length?this.decode(o,e,!1,!1):null,com.cognitect.transit.impl.decoder.isTag(r))return t=t[o],null!=(n=this.handlers[r.str])?n(this.decode(t,e,!1,!0),this):com.cognitect.transit.types.taggedValue(r.str,this.decode(t,e,!1,!1));if(this.mapBuilder){if(n.length<2*com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD&&this.mapBuilder.fromArray){var i=[];for(r=0;r<n.length;r++)o=n[r],i.push(this.decode(o,e,!0,!1)),i.push(this.decode(t[o],e,!1,!1));return this.mapBuilder.fromArray(i,t)}for(i=this.mapBuilder.init(t),r=0;r<n.length;r++)o=n[r],i=this.mapBuilder.add(i,this.decode(o,e,!0,!1),this.decode(t[o],e,!1,!1),t);return this.mapBuilder.finalize(i,t)}for(i=[],r=0;r<n.length;r++)o=n[r],i.push(this.decode(o,e,!0,!1)),i.push(this.decode(t[o],e,!1,!1));return com.cognitect.transit.types.map(i,!1)},com.cognitect.transit.impl.decoder.Decoder.prototype.decodeArrayHash=function(t,e,n,r){if(this.mapBuilder){if(t.length<2*com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD+1&&this.mapBuilder.fromArray){for(r=[],n=1;n<t.length;n+=2)r.push(this.decode(t[n],e,!0,!1)),r.push(this.decode(t[n+1],e,!1,!1));return this.mapBuilder.fromArray(r,t)}for(r=this.mapBuilder.init(t),n=1;n<t.length;n+=2)r=this.mapBuilder.add(r,this.decode(t[n],e,!0,!1),this.decode(t[n+1],e,!1,!1),t);return this.mapBuilder.finalize(r,t)}for(r=[],n=1;n<t.length;n+=2)r.push(this.decode(t[n],e,!0,!1)),r.push(this.decode(t[n+1],e,!1,!1));return com.cognitect.transit.types.map(r,!1)},com.cognitect.transit.impl.decoder.Decoder.prototype.decodeArray=function(t,e,n,r){if(r){var o=[];for(r=0;r<t.length;r++)o.push(this.decode(t[r],e,n,!1));return o}if(o=e&&e.idx,2===t.length&&"string"==typeof t[0]&&(r=this.decode(t[0],e,!1,!1),com.cognitect.transit.impl.decoder.isTag(r)))return t=t[1],null!=(o=this.handlers[r.str])?o=o(this.decode(t,e,n,!0),this):com.cognitect.transit.types.taggedValue(r.str,this.decode(t,e,n,!1));if(e&&o!=e.idx&&(e.idx=o),this.arrayBuilder){if(32>=t.length&&this.arrayBuilder.fromArray){for(o=[],r=0;r<t.length;r++)o.push(this.decode(t[r],e,n,!1));return this.arrayBuilder.fromArray(o,t)}for(o=this.arrayBuilder.init(t),r=0;r<t.length;r++)o=this.arrayBuilder.add(o,this.decode(t[r],e,n,!1),t);return this.arrayBuilder.finalize(o,t)}for(o=[],r=0;r<t.length;r++)o.push(this.decode(t[r],e,n,!1));return o},com.cognitect.transit.impl.decoder.Decoder.prototype.parseString=function(t,e,n){return t.charAt(0)===com.cognitect.transit.delimiters.ESC?(e=t.charAt(1))===com.cognitect.transit.delimiters.ESC||e===com.cognitect.transit.delimiters.SUB||e===com.cognitect.transit.delimiters.RES?t.substring(1):e===com.cognitect.transit.delimiters.TAG?com.cognitect.transit.impl.decoder.tag(t.substring(2)):null==(n=this.handlers[e])?this.defaultHandler(e,t.substring(2)):n(t.substring(2),this):t},com.cognitect.transit.impl.decoder.decoder=function(t){return new com.cognitect.transit.impl.decoder.Decoder(t)},com.cognitect.transit.impl.reader={},com.cognitect.transit.impl.reader.JSONUnmarshaller=function(t){this.decoder=new com.cognitect.transit.impl.decoder.Decoder(t)},com.cognitect.transit.impl.reader.JSONUnmarshaller.prototype.unmarshal=function(t,e){return this.decoder.decode(JSON.parse(t),e)},com.cognitect.transit.impl.reader.Reader=function(t,e){this.unmarshaller=t,this.options=e||{},this.cache=this.options.cache?this.options.cache:new com.cognitect.transit.caching.ReadCache},com.cognitect.transit.impl.reader.Reader.prototype.read=function(t){return t=this.unmarshaller.unmarshal(t,this.cache),this.cache.clear(),t},com.cognitect.transit.impl.reader.Reader.prototype.read=com.cognitect.transit.impl.reader.Reader.prototype.read,com.cognitect.transit.impl.writer={},com.cognitect.transit.impl.writer.escape=function(t){if(0<t.length){var e=t.charAt(0);return e===com.cognitect.transit.delimiters.ESC||e===com.cognitect.transit.delimiters.SUB||e===com.cognitect.transit.delimiters.RES?com.cognitect.transit.delimiters.ESC+t:t}return t},com.cognitect.transit.impl.writer.JSONMarshaller=function(t){if(this.opts=t||{},this.preferStrings=null==this.opts.preferStrings||this.opts.preferStrings,this.objectBuilder=this.opts.objectBuilder||null,this.handlers=new com.cognitect.transit.handlers.Handlers,t=this.opts.handlers){if(com.cognitect.transit.util.isArray(t)||!t.forEach)throw Error('transit writer "handlers" option must be a map');var e=this;t.forEach(function(t,n){if(void 0===n)throw Error("Cannot create handler for JavaScript undefined");e.handlers.set(n,t)})}this.handlerForForeign=this.opts.handlerForForeign,this.unpack=this.opts.unpack||function(t){return!(!com.cognitect.transit.types.isArrayMap(t)||null!==t.backingMap)&&t._entries},this.verbose=this.opts&&this.opts.verbose||!1},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.handler=function(t){var e=this.handlers.get(com.cognitect.transit.handlers.constructor(t));return null!=e?e:(t=t&&t.transitTag)?this.handlers.get(t):null},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.registerHandler=function(t,e){this.handlers.set(t,e)},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitNil=function(t,e){return t?this.emitString(com.cognitect.transit.delimiters.ESC,"_","",t,e):null},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitString=function(t,e,n,r,o){return t=t+e+n,o?o.write(t,r):t},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitBoolean=function(t,e,n){return e?this.emitString(com.cognitect.transit.delimiters.ESC,"?",t.toString()[0],e,n):t},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitInteger=function(t,e,n){return 1/0===t?this.emitString(com.cognitect.transit.delimiters.ESC,"z","INF",e,n):-1/0===t?this.emitString(com.cognitect.transit.delimiters.ESC,"z","-INF",e,n):isNaN(t)?this.emitString(com.cognitect.transit.delimiters.ESC,"z","NaN",e,n):e||"string"==typeof t||t instanceof goog.math.Long?this.emitString(com.cognitect.transit.delimiters.ESC,"i",t.toString(),e,n):t},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitDouble=function(t,e,n){return e?this.emitString(t.ESC,"d",t,e,n):t},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitBinary=function(t,e,n){return this.emitString(com.cognitect.transit.delimiters.ESC,"b",t,e,n)},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitQuoted=function(t,e,n){return t.verbose?((t={})[this.emitString(com.cognitect.transit.delimiters.ESC_TAG,"'","",!0,n)]=com.cognitect.transit.impl.writer.marshal(this,e,!1,n),t):[this.emitString(com.cognitect.transit.delimiters.ESC_TAG,"'","",!0,n),com.cognitect.transit.impl.writer.marshal(this,e,!1,n)]},com.cognitect.transit.impl.writer.emitObjects=function(t,e,n){var r=[];if(com.cognitect.transit.util.isArray(e))for(var o=0;o<e.length;o++)r.push(com.cognitect.transit.impl.writer.marshal(t,e[o],!1,n));else e.forEach(function(e,o){r.push(com.cognitect.transit.impl.writer.marshal(t,e,!1,n))});return r},com.cognitect.transit.impl.writer.emitArray=function(t,e,n,r){return com.cognitect.transit.impl.writer.emitObjects(t,e,r)},com.cognitect.transit.impl.writer.isStringableKey=function(t,e){if("string"!=typeof e){var n=t.handler(e);return n&&1===n.tag(e).length}return!0},com.cognitect.transit.impl.writer.stringableKeys=function(t,e){var n=t.unpack(e),r=!0;if(n){for(var o=0;o<n.length&&(r=com.cognitect.transit.impl.writer.isStringableKey(t,n[o]));o+=2);return r}if(e.keys&&(o=null,(n=e.keys()).next)){for(o=n.next();!o.done&&(r=com.cognitect.transit.impl.writer.isStringableKey(t,o.value));)o=n.next();return r}if(e.forEach)return e.forEach(function(e,n){r=r&&com.cognitect.transit.impl.writer.isStringableKey(t,n)}),r;throw Error("Cannot walk keys of object type "+com.cognitect.transit.handlers.constructor(e).name)},com.cognitect.transit.impl.writer.isForeignObject=function(t){if(t.constructor.transit$isObject)return!0;var e=(e=(e=t.constructor.toString()).substr(9)).substr(0,e.indexOf("("));return isObject="Object"==e,void 0!==Object.defineProperty?Object.defineProperty(t.constructor,"transit$isObject",{value:isObject,enumerable:!1}):t.constructor.transit$isObject=isObject,isObject},com.cognitect.transit.impl.writer.emitMap=function(t,e,n,r){var o=null,i=null,s=null;o=null;if(n=0,e.constructor===Object||null!=e.forEach||t.handlerForForeign&&com.cognitect.transit.impl.writer.isForeignObject(e)){if(t.verbose){if(null!=e.forEach)if(com.cognitect.transit.impl.writer.stringableKeys(t,e)){var c={};e.forEach(function(e,n){c[com.cognitect.transit.impl.writer.marshal(t,n,!0,!1)]=com.cognitect.transit.impl.writer.marshal(t,e,!1,r)})}else{if(o=t.unpack(e),i=[],s=t.emitString(com.cognitect.transit.delimiters.ESC_TAG,"cmap","",!0,r),o)for(;n<o.length;n+=2)i.push(com.cognitect.transit.impl.writer.marshal(t,o[n],!1,!1)),i.push(com.cognitect.transit.impl.writer.marshal(t,o[n+1],!1,r));else e.forEach(function(e,n){i.push(com.cognitect.transit.impl.writer.marshal(t,n,!1,!1)),i.push(com.cognitect.transit.impl.writer.marshal(t,e,!1,r))});(c={})[s]=i}else for(o=com.cognitect.transit.util.objectKeys(e),c={};n<o.length;n++)c[com.cognitect.transit.impl.writer.marshal(t,o[n],!0,!1)]=com.cognitect.transit.impl.writer.marshal(t,e[o[n]],!1,r);return c}if(null!=e.forEach){if(com.cognitect.transit.impl.writer.stringableKeys(t,e)){if(o=t.unpack(e),c=["^ "],o)for(;n<o.length;n+=2)c.push(com.cognitect.transit.impl.writer.marshal(t,o[n],!0,r)),c.push(com.cognitect.transit.impl.writer.marshal(t,o[n+1],!1,r));else e.forEach(function(e,n){c.push(com.cognitect.transit.impl.writer.marshal(t,n,!0,r)),c.push(com.cognitect.transit.impl.writer.marshal(t,e,!1,r))});return c}if(o=t.unpack(e),i=[],s=t.emitString(com.cognitect.transit.delimiters.ESC_TAG,"cmap","",!0,r),o)for(;n<o.length;n+=2)i.push(com.cognitect.transit.impl.writer.marshal(t,o[n],!1,r)),i.push(com.cognitect.transit.impl.writer.marshal(t,o[n+1],!1,r));else e.forEach(function(e,n){i.push(com.cognitect.transit.impl.writer.marshal(t,n,!1,r)),i.push(com.cognitect.transit.impl.writer.marshal(t,e,!1,r))});return[s,i]}for(c=["^ "],o=com.cognitect.transit.util.objectKeys(e);n<o.length;n++)c.push(com.cognitect.transit.impl.writer.marshal(t,o[n],!0,r)),c.push(com.cognitect.transit.impl.writer.marshal(t,e[o[n]],!1,r));return c}if(null!=t.objectBuilder)return t.objectBuilder(e,function(e){return com.cognitect.transit.impl.writer.marshal(t,e,!0,r)},function(e){return com.cognitect.transit.impl.writer.marshal(t,e,!1,r)});throw n=com.cognitect.transit.handlers.constructor(e).name,(o=Error("Cannot write "+n)).data={obj:e,type:n},o},com.cognitect.transit.impl.writer.emitTaggedMap=function(t,e,n,r,o){return t.verbose?((r={})[t.emitString(com.cognitect.transit.delimiters.ESC_TAG,e,"",!0,o)]=com.cognitect.transit.impl.writer.marshal(t,n,!1,o),r):[t.emitString(com.cognitect.transit.delimiters.ESC_TAG,e,"",!0,o),com.cognitect.transit.impl.writer.marshal(t,n,!1,o)]},com.cognitect.transit.impl.writer.emitEncoded=function(t,e,n,r,o,i,s){if(1===n.length){if("string"==typeof r)return t.emitString(com.cognitect.transit.delimiters.ESC,n,r,i,s);if(i||t.preferStrings){if((r=t.verbose&&e.getVerboseHandler())?(n=r.tag(o),r=r.stringRep(o,r)):r=e.stringRep(o,e),null!==r)return t.emitString(com.cognitect.transit.delimiters.ESC,n,r,i,s);throw(t=Error('Tag "'+n+'" cannot be encoded as string')).data={tag:n,rep:r,obj:o},t}}return com.cognitect.transit.impl.writer.emitTaggedMap(t,n,r,i,s)},com.cognitect.transit.impl.writer.marshal=function(t,e,n,r){var o=t.handler(e)||(t.handlerForForeign?t.handlerForForeign(e,t.handlers):null),i=o?o.tag(e):null,s=o?o.rep(e):null;if(null==o||null==i)throw t=com.cognitect.transit.handlers.constructor(e).name,(n=Error("Cannot write "+t)).data={obj:e,type:t},n;switch(i){case"_":return t.emitNil(n,r);case"s":return t.emitString("","",com.cognitect.transit.impl.writer.escape(s),n,r);case"?":return t.emitBoolean(s,n,r);case"i":return t.emitInteger(s,n,r);case"d":return t.emitDouble(s,n,r);case"b":return t.emitBinary(s,n,r);case"'":return t.emitQuoted(t,s,r);case"array":return com.cognitect.transit.impl.writer.emitArray(t,s,n,r);case"map":return com.cognitect.transit.impl.writer.emitMap(t,s,n,r);default:return com.cognitect.transit.impl.writer.emitEncoded(t,o,i,s,e,n,r)}},com.cognitect.transit.impl.writer.maybeQuoted=function(t,e){if(null!=(n=t.handler(e)||(t.handlerForForeign?t.handlerForForeign(e,t.handlers):null)))return 1===n.tag(e).length?com.cognitect.transit.types.quoted(e):e;var n=com.cognitect.transit.handlers.constructor(e).name,r=Error("Cannot write "+n);throw r.data={obj:e,type:n},r},com.cognitect.transit.impl.writer.marshalTop=function(t,e,n,r){return JSON.stringify(com.cognitect.transit.impl.writer.marshal(t,com.cognitect.transit.impl.writer.maybeQuoted(t,e),n,r))},com.cognitect.transit.impl.writer.Writer=function(t,e){this._marshaller=t,this.options=e||{},this.cache=!1===this.options.cache?null:this.options.cache?this.options.cache:new com.cognitect.transit.caching.WriteCache},com.cognitect.transit.impl.writer.Writer.prototype.marshaller=function(){return this._marshaller},com.cognitect.transit.impl.writer.Writer.prototype.marshaller=com.cognitect.transit.impl.writer.Writer.prototype.marshaller,com.cognitect.transit.impl.writer.Writer.prototype.write=function(t,e){var n=null,r=(n=e||{}).asMapKey||!1,o=!this._marshaller.verbose&&this.cache;n=!1===n.marshalTop?com.cognitect.transit.impl.writer.marshal(this._marshaller,t,r,o):com.cognitect.transit.impl.writer.marshalTop(this._marshaller,t,r,o);return null!=this.cache&&this.cache.clear(),n},com.cognitect.transit.impl.writer.Writer.prototype.write=com.cognitect.transit.impl.writer.Writer.prototype.write,com.cognitect.transit.impl.writer.Writer.prototype.register=function(t,e){this._marshaller.registerHandler(t,e)},com.cognitect.transit.impl.writer.Writer.prototype.register=com.cognitect.transit.impl.writer.Writer.prototype.register;var TRANSIT_DEV=!0,TRANSIT_NODE_TARGET=!0,TRANSIT_BROWSER_TARGET=!1,TRANSIT_BROWSER_AMD_TARGET=!1;com.cognitect.transit.reader=function(t,e){if("json"===t||"json-verbose"===t||null==t){var n=new com.cognitect.transit.impl.reader.JSONUnmarshaller(e);return new com.cognitect.transit.impl.reader.Reader(n,e)}throw Error("Cannot create reader of type "+t)},com.cognitect.transit.writer=function(t,e){if("json"===t||"json-verbose"===t||null==t){"json-verbose"===t&&(null==e&&(e={}),e.verbose=!0);var n=new com.cognitect.transit.impl.writer.JSONMarshaller(e);return new com.cognitect.transit.impl.writer.Writer(n,e)}throw(n=Error('Type must be "json"')).data={type:t},n},com.cognitect.transit.makeWriteHandler=function(t){var e=function(){};return e.prototype.tag=t.tag,e.prototype.rep=t.rep,e.prototype.stringRep=t.stringRep,e.prototype.getVerboseHandler=t.getVerboseHandler,new e},com.cognitect.transit.makeBuilder=function(t){var e=function(){};return e.prototype.init=t.init,e.prototype.add=t.add,e.prototype.finalize=t.finalize,e.prototype.fromArray=t.fromArray,new e},com.cognitect.transit.date=com.cognitect.transit.types.date,com.cognitect.transit.integer=com.cognitect.transit.types.intValue,com.cognitect.transit.isInteger=com.cognitect.transit.types.isInteger,com.cognitect.transit.uuid=com.cognitect.transit.types.uuid,com.cognitect.transit.isUUID=com.cognitect.transit.types.isUUID,com.cognitect.transit.bigInt=com.cognitect.transit.types.bigInteger,com.cognitect.transit.isBigInt=com.cognitect.transit.types.isBigInteger,com.cognitect.transit.bigDec=com.cognitect.transit.types.bigDecimalValue,com.cognitect.transit.isBigDec=com.cognitect.transit.types.isBigDecimal,com.cognitect.transit.keyword=com.cognitect.transit.types.keyword,com.cognitect.transit.isKeyword=com.cognitect.transit.types.isKeyword,com.cognitect.transit.symbol=com.cognitect.transit.types.symbol,com.cognitect.transit.isSymbol=com.cognitect.transit.types.isSymbol,com.cognitect.transit.binary=com.cognitect.transit.types.binary,com.cognitect.transit.isBinary=com.cognitect.transit.types.isBinary,com.cognitect.transit.uri=com.cognitect.transit.types.uri,com.cognitect.transit.isURI=com.cognitect.transit.types.isURI,com.cognitect.transit.map=com.cognitect.transit.types.map,com.cognitect.transit.isMap=com.cognitect.transit.types.isMap,com.cognitect.transit.set=com.cognitect.transit.types.set,com.cognitect.transit.isSet=com.cognitect.transit.types.isSet,com.cognitect.transit.list=com.cognitect.transit.types.list,com.cognitect.transit.isList=com.cognitect.transit.types.isList,com.cognitect.transit.quoted=com.cognitect.transit.types.quoted,com.cognitect.transit.isQuoted=com.cognitect.transit.types.isQuoted,com.cognitect.transit.tagged=com.cognitect.transit.types.taggedValue,com.cognitect.transit.isTaggedValue=com.cognitect.transit.types.isTaggedValue,com.cognitect.transit.link=com.cognitect.transit.types.link,com.cognitect.transit.isLink=com.cognitect.transit.types.isLink,com.cognitect.transit.hash=com.cognitect.transit.eq.hashCode,com.cognitect.transit.hashMapLike=com.cognitect.transit.eq.hashMapLike,com.cognitect.transit.hashArrayLike=com.cognitect.transit.eq.hashArrayLike,com.cognitect.transit.equals=com.cognitect.transit.eq.equals,com.cognitect.transit.extendToEQ=com.cognitect.transit.eq.extendToEQ,com.cognitect.transit.mapToObject=function(t){var e={};return t.forEach(function(t,n){if("string"!=typeof n)throw Error("Cannot convert map with non-string keys");e[n]=t}),e},com.cognitect.transit.objectToMap=function(t){var e,n=com.cognitect.transit.map();for(e in t)t.hasOwnProperty(e)&&n.set(e,t[e]);return n},com.cognitect.transit.decoder=com.cognitect.transit.impl.decoder.decoder,com.cognitect.transit.readCache=com.cognitect.transit.caching.readCache,com.cognitect.transit.writeCache=com.cognitect.transit.caching.writeCache,com.cognitect.transit.UUIDfromString=com.cognitect.transit.types.UUIDfromString,com.cognitect.transit.randomUUID=com.cognitect.transit.util.randomUUID,com.cognitect.transit.stringableKeys=com.cognitect.transit.impl.writer.stringableKeys,TRANSIT_BROWSER_TARGET&&(goog.exportSymbol("transit.reader",com.cognitect.transit.reader),goog.exportSymbol("transit.writer",com.cognitect.transit.writer),goog.exportSymbol("transit.makeBuilder",com.cognitect.transit.makeBuilder),goog.exportSymbol("transit.makeWriteHandler",com.cognitect.transit.makeWriteHandler),goog.exportSymbol("transit.date",com.cognitect.transit.types.date),goog.exportSymbol("transit.integer",com.cognitect.transit.types.intValue),goog.exportSymbol("transit.isInteger",com.cognitect.transit.types.isInteger),goog.exportSymbol("transit.uuid",com.cognitect.transit.types.uuid),goog.exportSymbol("transit.isUUID",com.cognitect.transit.types.isUUID),goog.exportSymbol("transit.bigInt",com.cognitect.transit.types.bigInteger),goog.exportSymbol("transit.isBigInt",com.cognitect.transit.types.isBigInteger),goog.exportSymbol("transit.bigDec",com.cognitect.transit.types.bigDecimalValue),goog.exportSymbol("transit.isBigDec",com.cognitect.transit.types.isBigDecimal),goog.exportSymbol("transit.keyword",com.cognitect.transit.types.keyword),goog.exportSymbol("transit.isKeyword",com.cognitect.transit.types.isKeyword),goog.exportSymbol("transit.symbol",com.cognitect.transit.types.symbol),goog.exportSymbol("transit.isSymbol",com.cognitect.transit.types.isSymbol),goog.exportSymbol("transit.binary",com.cognitect.transit.types.binary),goog.exportSymbol("transit.isBinary",com.cognitect.transit.types.isBinary),goog.exportSymbol("transit.uri",com.cognitect.transit.types.uri),goog.exportSymbol("transit.isURI",com.cognitect.transit.types.isURI),goog.exportSymbol("transit.map",com.cognitect.transit.types.map),goog.exportSymbol("transit.isMap",com.cognitect.transit.types.isMap),goog.exportSymbol("transit.set",com.cognitect.transit.types.set),goog.exportSymbol("transit.isSet",com.cognitect.transit.types.isSet),goog.exportSymbol("transit.list",com.cognitect.transit.types.list),goog.exportSymbol("transit.isList",com.cognitect.transit.types.isList),goog.exportSymbol("transit.quoted",com.cognitect.transit.types.quoted),goog.exportSymbol("transit.isQuoted",com.cognitect.transit.types.isQuoted),goog.exportSymbol("transit.tagged",com.cognitect.transit.types.taggedValue),goog.exportSymbol("transit.isTaggedValue",com.cognitect.transit.types.isTaggedValue),goog.exportSymbol("transit.link",com.cognitect.transit.types.link),goog.exportSymbol("transit.isLink",com.cognitect.transit.types.isLink),goog.exportSymbol("transit.hash",com.cognitect.transit.eq.hashCode),goog.exportSymbol("transit.hashMapLike",com.cognitect.transit.eq.hashMapLike),goog.exportSymbol("transit.hashArrayLike",com.cognitect.transit.eq.hashArrayLike),goog.exportSymbol("transit.equals",com.cognitect.transit.eq.equals),goog.exportSymbol("transit.extendToEQ",com.cognitect.transit.eq.extendToEQ),goog.exportSymbol("transit.mapToObject",com.cognitect.transit.mapToObject),goog.exportSymbol("transit.objectToMap",com.cognitect.transit.objectToMap),goog.exportSymbol("transit.decoder",com.cognitect.transit.impl.decoder.decoder),goog.exportSymbol("transit.UUIDfromString",com.cognitect.transit.types.UUIDfromString),goog.exportSymbol("transit.randomUUID",com.cognitect.transit.util.randomUUID),goog.exportSymbol("transit.stringableKeys",com.cognitect.transit.impl.writer.stringableKeys),goog.exportSymbol("transit.readCache",com.cognitect.transit.caching.readCache),goog.exportSymbol("transit.writeCache",com.cognitect.transit.caching.writeCache)),TRANSIT_NODE_TARGET&&(module.exports={reader:com.cognitect.transit.reader,writer:com.cognitect.transit.writer,makeBuilder:com.cognitect.transit.makeBuilder,makeWriteHandler:com.cognitect.transit.makeWriteHandler,date:com.cognitect.transit.types.date,integer:com.cognitect.transit.types.intValue,isInteger:com.cognitect.transit.types.isInteger,uuid:com.cognitect.transit.types.uuid,isUUID:com.cognitect.transit.types.isUUID,bigInt:com.cognitect.transit.types.bigInteger,isBigInt:com.cognitect.transit.types.isBigInteger,bigDec:com.cognitect.transit.types.bigDecimalValue,isBigDec:com.cognitect.transit.types.isBigDecimal,keyword:com.cognitect.transit.types.keyword,isKeyword:com.cognitect.transit.types.isKeyword,symbol:com.cognitect.transit.types.symbol,isSymbol:com.cognitect.transit.types.isSymbol,binary:com.cognitect.transit.types.binary,isBinary:com.cognitect.transit.types.isBinary,uri:com.cognitect.transit.types.uri,isURI:com.cognitect.transit.types.isURI,map:com.cognitect.transit.types.map,isMap:com.cognitect.transit.types.isMap,set:com.cognitect.transit.types.set,isSet:com.cognitect.transit.types.isSet,list:com.cognitect.transit.types.list,isList:com.cognitect.transit.types.isList,quoted:com.cognitect.transit.types.quoted,isQuoted:com.cognitect.transit.types.isQuoted,tagged:com.cognitect.transit.types.taggedValue,isTaggedValue:com.cognitect.transit.types.isTaggedValue,link:com.cognitect.transit.types.link,isLink:com.cognitect.transit.types.isLink,hash:com.cognitect.transit.eq.hashCode,hashArrayLike:com.cognitect.transit.eq.hashArrayLike,hashMapLike:com.cognitect.transit.eq.hashMapLike,equals:com.cognitect.transit.eq.equals,extendToEQ:com.cognitect.transit.eq.extendToEQ,mapToObject:com.cognitect.transit.mapToObject,objectToMap:com.cognitect.transit.objectToMap,decoder:com.cognitect.transit.impl.decoder.decoder,UUIDfromString:com.cognitect.transit.types.UUIDfromString,randomUUID:com.cognitect.transit.util.randomUUID,stringableKeys:com.cognitect.transit.impl.writer.stringableKeys,readCache:com.cognitect.transit.caching.readCache,writeCache:com.cognitect.transit.caching.writeCache})}).call(this,__webpack_require__(15).Buffer)},function(t,e,n){var r=n(16),o=n(0);function i(t,e,n){function i(t){var e=0;n&&(t=t.filter(n));var r=new Array(2*t.size);return t.forEach(function(t,n){r[e++]=n,r[e++]=t}),r}var s=r.map([o.Map,r.makeWriteHandler({tag:function(){return"iM"},rep:i}),o.OrderedMap,r.makeWriteHandler({tag:function(){return"iOM"},rep:i}),o.List,r.makeWriteHandler({tag:function(){return"iL"},rep:function(t){return n&&(t=t.filter(n)),t.toArray()}}),o.Set,r.makeWriteHandler({tag:function(){return"iS"},rep:function(t){return n&&(t=t.filter(n)),t.toArray()}}),o.OrderedSet,r.makeWriteHandler({tag:function(){return"iOS"},rep:function(t){return n&&(t=t.filter(n)),t.toArray()}}),Function,r.makeWriteHandler({tag:function(){return"_"},rep:function(){return null}}),"default",r.makeWriteHandler({tag:function(){return"iM"},rep:function(t){if(!("toMap"in t)){var e="Error serializing unrecognized object "+t.toString();throw new Error(e)}return i(t.toMap())}})]);return Object.keys(e).forEach(function(t){s.set(e[t],function(t){return r.makeWriteHandler({tag:function(){return"iR"},rep:function(e){return{n:t,v:e.toObject()}}})}(t))}),t.forEach(function(t){s.set(t.class,r.makeWriteHandler({tag:function(){return t.tag},rep:t.write}))}),s}function s(t,e){var n=JSON.stringify(t);throw new Error(e.replace("%j",n))}function c(t){throw new Error("Tried to deserialize Record type named `"+t+"`, but no type with that name was passed to withRecords()")}function a(t){var e=t.records||{},n=t.filter||!1,r=t.missingRecordHandler||c,u=t.extras||[];return{read:function(t,e,n){var r={iM:function(t){for(var e=o.Map().asMutable(),n=0;n<t.length;n+=2)e=e.set(t[n],t[n+1]);return e.asImmutable()},iOM:function(t){for(var e=o.OrderedMap().asMutable(),n=0;n<t.length;n+=2)e=e.set(t[n],t[n+1]);return e.asImmutable()},iL:function(t){return o.List(t)},iS:function(t){return o.Set(t)},iOS:function(t){return o.OrderedSet(t)},iR:function(t){var r=e[t.n];return r?new r(t.v):n(t.n,t.v)}};return t.forEach(function(t){r[t.tag]=t.read}),r}(u,e,r),write:i(u,e,n),withExtraHandlers:function(t){return function(t){Array.isArray(t)||s(t,"Expected array of handlers, got %j"),t.forEach(function(t){"string"!=typeof t.tag&&s(t,"Expected %j to have property 'tag' which is a string"),"function"!=typeof t.class&&s(t,"Expected %j to have property 'class' which is a constructor function"),"function"!=typeof t.write&&s(t,"Expected %j to have property 'write' which is a function"),"function"!=typeof t.read&&s(t,"Expected %j to have property 'write' which is a function")})}(t),a({extras:u.concat(t),records:e,filter:n,missingRecordHandler:r})},withFilter:function(t){return a({extras:u,records:e,filter:t,missingRecordHandler:r})},withRecords:function(t,e){var r=function(t){var e={};return t.forEach(function(t){var n,r=new t({}),o=(n=r)._name||n.constructor.name||"Record";if(!o||"Record"===o)throw new Error("Cannot (de)serialize Record() without a name");if(e[o])throw new Error("There's already a constructor for a Record named "+o);e[o]=t}),e}(t);return a({extras:u,records:r,filter:n,missingRecordHandler:e})}}}t.exports=function t(e){var n=function(t){return r.reader("json",{mapBuilder:{init:function(){return{}},add:function(t,e,n){return t[e]=n,t},finalize:function(t){return t}},handlers:t})}(e.read),o=function(t){return r.writer("json",{handlers:t})}(e.write);return{toJSON:function(t){return o.write(t)},fromJSON:function(t){return n.read(t)},withExtraHandlers:function(n){return t(e.withExtraHandlers(n))},withFilter:function(n){return t(e.withFilter(n))},withRecords:function(n,r){return t(e.withRecords(n,r))}}}(a({})),t.exports.handlers=a({})},function(t,e,n){const{List:r,fromJS:o}=n(0),i=n(1);function s(t){throw new TypeError("You tried to "+t+", but this list is read-only. Please use Automerge.change() to get a writable version.")}const c={get(t,e){const{context:n,objectId:r}=t;if(!n.state.hasIn(["opSet","byObject",r]))throw"Target object does not exist: "+r;return"_inspect"===e?JSON.parse(JSON.stringify(u(n,r))):"_type"===e?"map":"_objectId"===e?r:"_state"===e?n.state:"_actorId"===e?n.state.get("actorId"):"_conflicts"===e?i.getObjectConflicts(n.state.get("opSet"),r,n).toJS():"_change"===e?n:i.getObjectField(n.state.get("opSet"),r,e,n)},set(t,e,n){const{context:r,objectId:o}=t;if(!r.mutable)throw new TypeError("You tried to set property "+JSON.stringify(e)+" to "+JSON.stringify(n)+", but this object is read-only. Please use Automerge.change() to get a writable version.");return r.state=r.setField(r.state,o,e,n),!0},deleteProperty(t,e){const{context:n,objectId:r}=t;if(!n.mutable)throw new TypeError("You tried to delete the property "+JSON.stringify(e)+", but this object is read-only. Please use Automerge.change() to get a writable version.");return n.state=n.deleteField(n.state,r,e),!0},has:(t,e)=>"_type"===e||"_state"===e||"_actorId"===e||"_conflicts"===e||i.getObjectFields(t.context.state.get("opSet"),t.objectId).has(e),getOwnPropertyDescriptor(t,e){if(i.getObjectFields(t.context.state.get("opSet"),t.objectId).has(e))return{configurable:!0,enumerable:!0}},ownKeys:t=>i.getObjectFields(t.context.state.get("opSet"),t.objectId).toJS()},a={get(t,e){const[n,r]=t;if(!n.state.hasIn(["opSet","byObject",r]))throw"Target object does not exist: "+r;return e===Symbol.iterator?()=>i.listIterator(n.state.get("opSet"),r,"values",n):"_inspect"===e?JSON.parse(JSON.stringify(g(n,r))):"_type"===e?"list":"_objectId"===e?r:"_state"===e?n.state:"_actorId"===e?n.state.get("actorId"):"_change"===e?n:"length"===e?i.listLength(n.state.get("opSet"),r):"string"==typeof e&&/^[0-9]+$/.test(e)?i.listElemByIndex(n.state.get("opSet"),r,parseInt(e),n):function(t,e){const n={deleteAt(n,r){return t.mutable||s("delete the list element at index "+n),t.state=t.splice(t.state,e,n,r||1,[]),this},fill(n,r,o){t.mutable||s("fill a list with a value");for(let[s,c]of i.listIterator(t.state.get("opSet"),e,"elems",t)){if(o&&s>=o)break;s>=(r||0)&&(t.state=t.setField(t.state,e,c,n))}return this},insertAt(n,...r){return t.mutable||s("insert a list element at index "+n),t.state=t.splice(t.state,e,n,0,r),this},pop(){t.mutable||s("pop the last element off a list");const n=i.listLength(t.state.get("opSet"),e);if(0==n)return;const r=i.listElemByIndex(t.state.get("opSet"),e,n-1,t);return t.state=t.splice(t.state,e,n-1,1,[]),r},push(...n){t.mutable||s("push a new list element "+JSON.stringify(n[0]));const r=i.listLength(t.state.get("opSet"),e);return t.state=t.splice(t.state,e,r,0,n),i.listLength(t.state.get("opSet"),e)},shift(){t.mutable||s("shift the first element off a list");const n=i.listElemByIndex(t.state.get("opSet"),e,0,t);return t.state=t.splice(t.state,e,0,1,[]),n},splice(n,r,...o){t.mutable||s("splice a list"),void 0===r&&(r=i.listLength(t.state.get("opSet"),e)-n);const c=[];for(let o=0;o<r;o++)c.push(i.listElemByIndex(t.state.get("opSet"),e,n+o,t));return t.state=t.splice(t.state,e,n,r,o),c},unshift:(...n)=>(t.mutable||s("unshift a new list element "+JSON.stringify(n[0])),t.state=t.splice(t.state,e,0,0,n),i.listLength(t.state.get("opSet"),e))};for(let r of["entries","keys","values"])n[r]=(()=>i.listIterator(t.state.get("opSet"),e,r,t));for(let r of["concat","every","filter","find","findIndex","forEach","includes","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toLocaleString","toString"])n[r]=((...n)=>{const o=[...i.listIterator(t.state.get("opSet"),e,"values",t)];return o[r].call(o,...n)});return n}(n,r)[e]},set(t,e,n){const[r,o]=t;if(!r.mutable)throw new TypeError("You tried to set index "+e+" to "+JSON.stringify(n)+", but this list is read-only. Please use Automerge.change() to get a writable version.");return r.state=r.setListIndex(r.state,o,e,n),!0},deleteProperty(t,e){const[n,r]=t;if(!n.mutable)throw new TypeError("You tried to delete the list index "+e+", but this list is read-only. Please use Automerge.change() to get a writable version.");return n.state=n.deleteField(n.state,r,e),!0},has(t,e){const[n,r]=t;return"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e)<i.listLength(n.state.get("opSet"),r):"length"===e||"_type"===e||"_objectId"===e||"_state"===e||"_actorId"===e},getOwnPropertyDescriptor(t,e){const[n,r]=t;return"length"===e?{}:("_objectId"===e||"string"==typeof e&&/^[0-9]+$/.test(e))&&parseInt(e)<i.listLength(n.state.get("opSet"),r)?{configurable:!0,enumerable:!0}:void 0},ownKeys(t){const[e,n]=t,r=i.listLength(e.state.get("opSet"),n);let o=["length","_objectId"];for(let t=0;t<r;t++)o.push(t.toString());return o}};function u(t,e){return new Proxy({context:t,objectId:e},c)}function g(t,e){return new Proxy([t,e],a)}function h(t,e){const n=t.getIn(["byObject",e,"_init","action"]);if("makeMap"===n)return u(this,e);if("makeList"===n||"makeText"===n)return g(this,e);throw"Unknown object type: "+n}t.exports={rootObjectProxy:function(t){return t.instantiateObject=h,u(t,"00000000-0000-0000-0000-000000000000")}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return o[t[r++]]+o[t[r++]]+o[t[r++]]+o[t[r++]]+"-"+o[t[r++]]+o[t[r++]]+"-"+o[t[r++]]+o[t[r++]]+"-"+o[t[r++]]+o[t[r++]]+"-"+o[t[r++]]+o[t[r++]]+o[t[r++]]+o[t[r++]]+o[t[r++]]+o[t[r++]]}},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e,n){const{Map:r,List:o,fromJS:i}=n(0),s=n(7),{rootObjectProxy:c}=n(18),a=n(1),{isObject:u,checkTarget:g,makeChange:h,merge:l,applyChanges:p}=n(5),f=n(3),m=n(4),{Text:d}=n(2),y=n(17);function _(t,e){const n=t.get("opSet"),r=t.get("actorId"),o=i(e);let[s,c]=a.addLocalOp(n,o,r);return t.set("opSet",s)}function v(t,e,n){if(!t.hasIn(["opSet","byObject",e]))throw"List object does not exist";if(!t.hasIn(["opSet","byObject",e,n])&&"_head"!==n)throw"Preceding list element does not exist";const r=t.getIn(["opSet","byObject",e,"_maxElem"],0)+1;return[t=_(t,{action:"ins",obj:e,key:n,elem:r}),t.get("actorId")+":"+r]}function b(t,e,n,r){if("string"!=typeof n)throw new TypeError("The key of a map entry must be a string, but "+JSON.stringify(n)+" is a "+typeof n);if(""===n)throw new TypeError("The key of a map entry must not be an empty string");if(n.startsWith("_"))throw new TypeError("Map entries starting with underscore are not allowed: "+n);if(void 0===r)return I(t,e,n);if(u(r)){const[o,i]=function(t,e){if("string"==typeof e._objectId)return[t,e._objectId];const n=s();if(e instanceof d){if(t=_(t,{action:"makeText",obj:n}),e.length>0)throw"assigning non-empty text is not yet supported"}else if(Array.isArray(e)){t=_(t,{action:"makeList",obj:n});let r="_head";for(let o=0;o<e.length;o++)[t,r]=v(t,n,r),t=b(t,n,r,e[o])}else{t=_(t,{action:"makeMap",obj:n});for(let r of Object.keys(e))t=b(t,n,r,e[r])}return[t,n]}(t,r);return _(o,{action:"link",obj:e,key:n,value:i})}return _(t,{action:"set",obj:e,key:n,value:r})}function w(t,e,n,r,o){let i=t.getIn(["opSet","byObject",e,"_elemIds"]);for(let o=0;o<r;o++){let r=i.keyOf(n);r&&(i=(t=_(t,{action:"del",obj:e,key:r})).getIn(["opSet","byObject",e,"_elemIds"]))}let s=0===n?"_head":i.keyOf(n-1);if(!s&&o.length>0)throw new RangeError("Cannot insert at index "+n+", which is past the end of the list");for(let n of o)[t,s]=v(t,e,s),t=b(t,e,s,n);return t}function S(t,e,n,r){const o=t.getIn(["opSet","byObject",e,"_elemIds"]).keyOf(E(n));return o?b(t,e,o,r):w(t,e,n,0,[r])}function I(t,e,n){const r=t.getIn(["opSet","byObject",e,"_init","action"]);if("makeList"===r||"makeText"===r)return w(t,e,E(n),1,[]);if(!t.hasIn(["opSet","byObject",e,n]))throw new RangeError("Field name does not exist: "+n);return _(t,{action:"del",obj:e,key:n})}function E(t){if("string"==typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t)),"number"!=typeof t)throw new TypeError("A list index must be a number, but you passed "+JSON.stringify(t));if(t<0||isNaN(t)||t===1/0||t===-1/0)throw new RangeError("A list index must be positive, but you passed "+t);return t}function O(t,e){return t.keySeq().concat(e.keySeq()).reduce((n,r)=>n&&t.get(r,0)<=e.get(r,0),!0)}t.exports={init:function(t){return f.init(t||s())},change:function(t,e,n){if(g("change",t),"00000000-0000-0000-0000-000000000000"!==t._objectId)throw new TypeError("The first argument to Automerge.change must be the document root");if(t._change&&t._change.mutable)throw new TypeError("Calls to Automerge.change cannot be nested");"function"==typeof e&&void 0===n&&([e,n]=[n,e]);const r={state:t._state,mutable:!0,setField:b,splice:w,setListIndex:S,deleteField:I};return n(c(r)),h(t,r.state,e)},merge:l,diff:function(t,e){g("diff",t);const n=t._state.getIn(["opSet","clock"]);if(!O(n,e._state.getIn(["opSet","clock"])))throw new RangeError("Cannot diff two states that have diverged");let r=t._state.get("opSet").set("diff",o());const i=a.getMissingChanges(e._state.get("opSet"),n);let s,c=[];for(let t of i)[r,s]=a.addChange(r,t),c.push(...s);return c},assign:function(t,e){if(g("assign",t,!0),!u(e))throw new TypeError("The second argument to Automerge.assign must be an object, but you passed "+JSON.stringify(e));let n=t._state;for(let r of Object.keys(e))n="list"===t._type?S(n,t._objectId,r,e[r]):b(n,t._objectId,r,e[r]);t._change.state=n},load:function(t,e){return f.applyChanges(f.init(e||s()),y.fromJSON(t),!1)},save:function(t){return g("save",t),y.toJSON(t._state.getIn(["opSet","history"]))},equals:function t(e,n){if(!u(e)||!u(n))return e===n;const r=Object.keys(e).sort(),o=Object.keys(n).sort();if(r.length!==o.length)return!1;for(let i=0;i<r.length;i++){if(r[i]!==o[i])return!1;if(!t(e[r[i]],n[o[i]]))return!1}return!0},inspect:function(t){return g("inspect",t),JSON.parse(JSON.stringify(t))},getHistory:function(t){g("inspect",t);const e=t._state.getIn(["opSet","history"]);return e.map((n,r)=>({get change(){return n.toJS()},get snapshot(){const n=f.init(t._state.get("actorId"));return f.applyChanges(n,e.slice(0,r+1),!1)}})).toArray()},initImmutable:function(t){return m.init(t||s())},loadImmutable:function(t,e){return m.applyChanges(m.init(e||s()),y.fromJSON(t),!1)},getConflicts:function(t,e){g("getConflicts",t);const n=t._state.get("opSet"),r=e._objectId;if(!r||"makeList"!==n.getIn(["byObject",r,"_init","action"]))throw new TypeError("The second argument to Automerge.getConflicts must be a list object");const i={cache:{},instantiateObject:(t,e)=>t.getIn(["cache",e])};return o(a.listIterator(n,r,"conflicts",i))},getChanges:function(t,e){g("getChanges",t);const n=t._state.getIn(["opSet","clock"]);if(!O(n,e._state.getIn(["opSet","clock"])))throw new RangeError("Cannot diff two states that have diverged");return a.getMissingChanges(e._state.get("opSet"),n).toJS()},getChangesForActor:function(t,e){return g("getChanges",t),a.getChangesForActor(t._state.get("opSet"),e).toJS()},applyChanges:p,getMissingDeps:function(t){return g("getMissingDeps",t),a.getMissingDeps(t._state.get("opSet"))},Text:d,DocSet:n(10),WatchableDoc:n(9),Connection:n(8)}}]);