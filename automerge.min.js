!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Automerge=e():t.Automerge=e()}(this,function(){return function(r){var n={};function o(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}return o.m=r,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s="./src/automerge.js")}({"./node_modules/immutable/dist/immutable.js":function(t,e,r){t.exports=function(){"use strict";var n=Array.prototype.slice;function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function c(t){return g(t)?t:W(t)}function s(t){return l(t)?t:J(t)}function u(t){return p(t)?t:G(t)}function o(t){return g(t)&&!h(t)?t:Y(t)}function g(t){return!(!t||!t[e])}function l(t){return!(!t||!t[r])}function p(t){return!(!t||!t[i])}function h(t){return l(t)||p(t)}function f(t){return!(!t||!t[a])}t(s,c),t(u,c),t(o,c),c.isIterable=g,c.isKeyed=l,c.isIndexed=p,c.isAssociative=h,c.isOrdered=f,c.Keyed=s,c.Indexed=u,c.Set=o;var e="@@__IMMUTABLE_ITERABLE__@@",r="@@__IMMUTABLE_KEYED__@@",i="@@__IMMUTABLE_INDEXED__@@",a="@@__IMMUTABLE_ORDERED__@@",m="delete",S=5,w=1<<S,v=w-1,_={},d={value:!1},y={value:!1};function b(t){return t.value=!1,t}function E(t){t&&(t.value=!0)}function I(){}function O(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),o=0;o<r;o++)n[o]=t[o+e];return n}function j(t){return void 0===t.size&&(t.size=t.__iterate(A)),t.size}function T(t,e){if("number"!=typeof e){var r=e>>>0;if(""+r!==e||4294967295===r)return NaN;e=r}return e<0?j(t)+e:e}function A(){return!0}function C(t,e,r){return(0===t||void 0!==r&&t<=-r)&&(void 0===e||void 0!==r&&r<=e)}function M(t,e){return x(t,e,0)}function L(t,e){return x(t,e,e)}function x(t,e,r){return void 0===t?r:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var k=0,D=1,R=2,N="function"==typeof Symbol&&Symbol.iterator,q="@@iterator",U=N||q;function P(t){this.next=t}function z(t,e,r,n){var o=0===t?e:1===t?r:[e,r];return n?n.value=o:n={value:o,done:!1},n}function H(){return{value:void 0,done:!0}}function B(t){return!!V(t)}function $(t){return t&&"function"==typeof t.next}function F(t){var e=V(t);return e&&e.call(t)}function V(t){var e=t&&(N&&t[N]||t[q]);if("function"==typeof e)return e}function K(t){return t&&"number"==typeof t.length}function W(t){return null==t?at():g(t)?t.toSeq():function(t){var e=ut(t)||"object"==typeof t&&new rt(t);if(e)return e;throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t)}(t)}function J(t){return null==t?at().toKeyedSeq():g(t)?l(t)?t.toSeq():t.fromEntrySeq():st(t)}function G(t){return null==t?at():g(t)?l(t)?t.entrySeq():t.toIndexedSeq():ct(t)}function Y(t){return(null==t?at():g(t)?l(t)?t.entrySeq():t:ct(t)).toSetSeq()}P.prototype.toString=function(){return"[Iterator]"},P.KEYS=k,P.VALUES=D,P.ENTRIES=R,P.prototype.inspect=P.prototype.toSource=function(){return this.toString()},P.prototype[U]=function(){return this},t(W,c),W.of=function(){return W(arguments)},W.prototype.toSeq=function(){return this},W.prototype.toString=function(){return this.__toString("Seq {","}")},W.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},W.prototype.__iterate=function(t,e){return gt(this,t,e,!0)},W.prototype.__iterator=function(t,e){return lt(this,t,e,!0)},t(J,W),J.prototype.toKeyedSeq=function(){return this},t(G,W),G.of=function(){return G(arguments)},G.prototype.toIndexedSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq [","]")},G.prototype.__iterate=function(t,e){return gt(this,t,e,!1)},G.prototype.__iterator=function(t,e){return lt(this,t,e,!1)},t(Y,W),Y.of=function(){return Y(arguments)},Y.prototype.toSetSeq=function(){return this},W.isSeq=it,W.Keyed=J,W.Set=Y,W.Indexed=G;var Z,X,Q,tt="@@__IMMUTABLE_SEQ__@@";function et(t){this._array=t,this.size=t.length}function rt(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function nt(t){this._iterable=t,this.size=t.length||t.size}function ot(t){this._iterator=t,this._iteratorCache=[]}function it(t){return!(!t||!t[tt])}function at(){return Z||(Z=new et([]))}function st(t){var e=Array.isArray(t)?new et(t).fromEntrySeq():$(t)?new ot(t).fromEntrySeq():B(t)?new nt(t).fromEntrySeq():"object"==typeof t?new rt(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function ct(t){var e=ut(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function ut(t){return K(t)?new et(t):$(t)?new ot(t):B(t)?new nt(t):void 0}function gt(t,e,r,n){var o=t._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[r?i-a:a];if(!1===e(s[1],n?s[0]:a,t))return a+1}return a}return t.__iterateUncached(e,r)}function lt(t,e,r,n){var o=t._cache;if(o){var i=o.length-1,a=0;return new P(function(){var t=o[r?i-a:a];return a++>i?{value:void 0,done:!0}:z(e,n?t[0]:a-1,t[1])})}return t.__iteratorUncached(e,r)}function pt(t,e){return e?function r(n,o,t,e){return Array.isArray(o)?n.call(e,t,G(o).map(function(t,e){return r(n,t,e,o)})):ft(o)?n.call(e,t,J(o).map(function(t,e){return r(n,t,e,o)})):o}(e,t,"",{"":t}):ht(t)}function ht(t){return Array.isArray(t)?G(t).map(ht).toList():ft(t)?J(t).map(ht).toMap():t}function ft(t){return t&&(t.constructor===Object||void 0===t.constructor)}function mt(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function dt(r,t){if(r===t)return!0;if(!g(t)||void 0!==r.size&&void 0!==t.size&&r.size!==t.size||void 0!==r.__hash&&void 0!==t.__hash&&r.__hash!==t.__hash||l(r)!==l(t)||p(r)!==p(t)||f(r)!==f(t))return!1;if(0===r.size&&0===t.size)return!0;var n=!h(r);if(f(r)){var o=r.entries();return t.every(function(t,e){var r=o.next().value;return r&&mt(r[1],t)&&(n||mt(r[0],e))})&&o.next().done}var i=!1;if(void 0===r.size)if(void 0===t.size)"function"==typeof r.cacheResult&&r.cacheResult();else{i=!0;var e=r;r=t,t=e}var a=!0,s=t.__iterate(function(t,e){if(n?!r.has(t):i?!mt(t,r.get(e,_)):!mt(r.get(e,_),t))return a=!1});return a&&r.size===s}function yt(t,e){if(!(this instanceof yt))return new yt(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(X)return X;X=this}}function _t(t,e){if(!t)throw new Error(e)}function vt(t,e,r){if(!(this instanceof vt))return new vt(t,e,r);if(_t(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),r=void 0===r?1:Math.abs(r),e<t&&(r=-r),this._start=t,this._end=e,this._step=r,this.size=Math.max(0,Math.ceil((e-t)/r-1)+1),0===this.size){if(Q)return Q;Q=this}}function bt(){throw TypeError("Abstract")}function St(){}function wt(){}function Et(){}W.prototype[tt]=!0,t(et,G),et.prototype.get=function(t,e){return this.has(t)?this._array[T(this,t)]:e},et.prototype.__iterate=function(t,e){for(var r=this._array,n=r.length-1,o=0;o<=n;o++)if(!1===t(r[e?n-o:o],o,this))return o+1;return o},et.prototype.__iterator=function(t,e){var r=this._array,n=r.length-1,o=0;return new P(function(){return n<o?{value:void 0,done:!0}:z(t,o,r[e?n-o++:o++])})},t(rt,J),rt.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},rt.prototype.has=function(t){return this._object.hasOwnProperty(t)},rt.prototype.__iterate=function(t,e){for(var r=this._object,n=this._keys,o=n.length-1,i=0;i<=o;i++){var a=n[e?o-i:i];if(!1===t(r[a],a,this))return i+1}return i},rt.prototype.__iterator=function(e,r){var n=this._object,o=this._keys,i=o.length-1,a=0;return new P(function(){var t=o[r?i-a:a];return a++>i?{value:void 0,done:!0}:z(e,t,n[t])})},rt.prototype[a]=!0,t(nt,G),nt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=this._iterable,n=F(r),o=0;if($(n))for(var i;!(i=n.next()).done&&!1!==t(i.value,o++,this););return o},nt.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=this._iterable,n=F(r);if(!$(n))return new P(H);var o=0;return new P(function(){var t=n.next();return t.done?t:z(e,o++,t.value)})},t(ot,G),ot.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var r,n=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===t(o[i],i++,this))return i;for(;!(r=n.next()).done;){var a=r.value;if(o[i]=a,!1===t(a,i++,this))break}return i},ot.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=this._iterator,n=this._iteratorCache,o=0;return new P(function(){if(o>=n.length){var t=r.next();if(t.done)return t;n[o]=t.value}return z(e,o,n[o++])})},t(yt,G),yt.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},yt.prototype.get=function(t,e){return this.has(t)?this._value:e},yt.prototype.includes=function(t){return mt(this._value,t)},yt.prototype.slice=function(t,e){var r=this.size;return C(t,e,r)?this:new yt(this._value,L(e,r)-M(t,r))},yt.prototype.reverse=function(){return this},yt.prototype.indexOf=function(t){return mt(this._value,t)?0:-1},yt.prototype.lastIndexOf=function(t){return mt(this._value,t)?this.size:-1},yt.prototype.__iterate=function(t,e){for(var r=0;r<this.size;r++)if(!1===t(this._value,r,this))return r+1;return r},yt.prototype.__iterator=function(t,e){var r=this,n=0;return new P(function(){return n<r.size?z(t,n++,r._value):{value:void 0,done:!0}})},yt.prototype.equals=function(t){return t instanceof yt?mt(this._value,t._value):dt(t)},t(vt,G),vt.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},vt.prototype.get=function(t,e){return this.has(t)?this._start+T(this,t)*this._step:e},vt.prototype.includes=function(t){var e=(t-this._start)/this._step;return 0<=e&&e<this.size&&e===Math.floor(e)},vt.prototype.slice=function(t,e){return C(t,e,this.size)?this:(t=M(t,this.size),(e=L(e,this.size))<=t?new vt(0,0):new vt(this.get(t,this._end),this.get(e,this._end),this._step))},vt.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var r=e/this._step;if(0<=r&&r<this.size)return r}return-1},vt.prototype.lastIndexOf=function(t){return this.indexOf(t)},vt.prototype.__iterate=function(t,e){for(var r=this.size-1,n=this._step,o=e?this._start+r*n:this._start,i=0;i<=r;i++){if(!1===t(o,i,this))return i+1;o+=e?-n:n}return i},vt.prototype.__iterator=function(e,r){var n=this.size-1,o=this._step,i=r?this._start+n*o:this._start,a=0;return new P(function(){var t=i;return i+=r?-o:o,n<a?{value:void 0,done:!0}:z(e,a++,t)})},vt.prototype.equals=function(t){return t instanceof vt?this._start===t._start&&this._end===t._end&&this._step===t._step:dt(this,t)},t(bt,c),t(St,bt),t(wt,bt),t(Et,bt),bt.Keyed=St,bt.Indexed=wt,bt.Set=Et;var It="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var r=65535&(t|=0),n=65535&(e|=0);return r*n+((t>>>16)*n+r*(e>>>16)<<16>>>0)|0};function Ot(t){return t>>>1&1073741824|3221225471&t}function jt(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e,r,n=typeof t;if("number"===n){if(t!=t||t===1/0)return 0;var o=0|t;for(o!==t&&(o^=4294967295*t);4294967295<t;)o^=t/=4294967295;return Ot(o)}if("string"===n)return t.length>Dt?(void 0===(r=qt[e=t])&&(r=Tt(e),Nt===Rt&&(Nt=0,qt={}),Nt++,qt[e]=r),r):Tt(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===n)return function(t){var e;if(Lt&&void 0!==(e=At.get(t)))return e;if(void 0!==(e=t[kt]))return e;if(!Mt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[kt]))return e;if(void 0!==(e=function(t){if(t&&0<t.nodeType)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=++xt,1073741824&xt&&(xt=0),Lt)At.set(t,e);else{if(void 0!==Ct&&!1===Ct(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Mt)Object.defineProperty(t,kt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[kt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[kt]=e}}return e}(t);if("function"==typeof t.toString)return Tt(t.toString());throw new Error("Value type "+n+" cannot be hashed.")}function Tt(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return Ot(e)}var At,Ct=Object.isExtensible,Mt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),Lt="function"==typeof WeakMap;Lt&&(At=new WeakMap);var xt=0,kt="__immutablehash__";"function"==typeof Symbol&&(kt=Symbol(kt));var Dt=16,Rt=255,Nt=0,qt={};function Ut(t){_t(t!==1/0,"Cannot perform this action with an infinite size.")}function Pt(e){return null==e?Qt():zt(e)&&!f(e)?e:Qt().withMutations(function(r){var t=s(e);Ut(t.size),t.forEach(function(t,e){return r.set(e,t)})})}function zt(t){return!(!t||!t[Bt])}t(Pt,St),Pt.of=function(){var r=n.call(arguments,0);return Qt().withMutations(function(t){for(var e=0;e<r.length;e+=2){if(e+1>=r.length)throw new Error("Missing value for key: "+r[e]);t.set(r[e],r[e+1])}})},Pt.prototype.toString=function(){return this.__toString("Map {","}")},Pt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Pt.prototype.set=function(t,e){return te(this,t,e)},Pt.prototype.setIn=function(t,e){return this.updateIn(t,_,function(){return e})},Pt.prototype.remove=function(t){return te(this,t,_)},Pt.prototype.deleteIn=function(t){return this.updateIn(t,function(){return _})},Pt.prototype.update=function(t,e,r){return 1===arguments.length?t(this):this.updateIn([t],e,r)},Pt.prototype.updateIn=function(t,e,r){r||(r=e,e=void 0);var n=function t(e,r,n,o){var i=e===_,a=r.next();if(a.done){var s=i?n:e,c=o(s);return c===s?e:c}_t(i||e&&e.set,"invalid keyPath");var u=a.value,g=i?_:e.get(u,_),l=t(g,r,n,o);return l===g?e:l===_?e.remove(u):(i?Qt():e).set(u,l)}(this,nr(t),e,r);return n===_?void 0:n},Pt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Qt()},Pt.prototype.merge=function(){return oe(this,void 0,arguments)},Pt.prototype.mergeWith=function(t){var e=n.call(arguments,1);return oe(this,t,e)},Pt.prototype.mergeIn=function(t){var e=n.call(arguments,1);return this.updateIn(t,Qt(),function(t){return"function"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},Pt.prototype.mergeDeep=function(){return oe(this,ie,arguments)},Pt.prototype.mergeDeepWith=function(t){var e=n.call(arguments,1);return oe(this,ae(t),e)},Pt.prototype.mergeDeepIn=function(t){var e=n.call(arguments,1);return this.updateIn(t,Qt(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},Pt.prototype.sort=function(t){return Me(Ke(this,t))},Pt.prototype.sortBy=function(t,e){return Me(Ke(this,e,t))},Pt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Pt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new I)},Pt.prototype.asImmutable=function(){return this.__ensureOwner()},Pt.prototype.wasAltered=function(){return this.__altered},Pt.prototype.__iterator=function(t,e){return new Gt(this,t,e)},Pt.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate(function(t){return n++,e(t[1],t[0],r)},t),n},Pt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Xt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Pt.isMap=zt;var Ht,Bt="@@__IMMUTABLE_MAP__@@",$t=Pt.prototype;function Ft(t,e){this.ownerID=t,this.entries=e}function Vt(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r}function Kt(t,e,r){this.ownerID=t,this.count=e,this.nodes=r}function Wt(t,e,r){this.ownerID=t,this.keyHash=e,this.entries=r}function Jt(t,e,r){this.ownerID=t,this.keyHash=e,this.entry=r}function Gt(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&Zt(t._root)}function Yt(t,e){return z(t,e[0],e[1])}function Zt(t,e){return{node:t,index:0,__prev:e}}function Xt(t,e,r,n){var o=Object.create($t);return o.size=t,o._root=e,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function Qt(){return Ht||(Ht=Xt(0))}function te(t,e,r){var n,o;if(t._root){var i=b(d),a=b(y);if(n=ee(t._root,t.__ownerID,0,void 0,e,r,i,a),!a.value)return t;o=t.size+(i.value?r===_?-1:1:0)}else{if(r===_)return t;o=1,n=new Ft(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=o,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?Xt(o,n):Qt()}function ee(t,e,r,n,o,i,a,s){return t?t.update(e,r,n,o,i,a,s):i===_?t:(E(s),E(a),new Jt(e,n,[o,i]))}function re(t){return t.constructor===Jt||t.constructor===Wt}function ne(t,e,r,n,o){if(t.keyHash===n)return new Wt(e,n,[t.entry,o]);var i,a=(0===r?t.keyHash:t.keyHash>>>r)&v,s=(0===r?n:n>>>r)&v,c=a===s?[ne(t,e,r+S,n,o)]:(i=new Jt(e,n,o),a<s?[t,i]:[i,t]);return new Vt(e,1<<a|1<<s,c)}function oe(t,e,r){for(var n=[],o=0;o<r.length;o++){var i=r[o],a=s(i);g(i)||(a=a.map(function(t){return pt(t)})),n.push(a)}return se(t,e,n)}function ie(t,e,r){return t&&t.mergeDeep&&g(e)?t.mergeDeep(e):mt(t,e)?t:e}function ae(o){return function(t,e,r){if(t&&t.mergeDeepWith&&g(e))return t.mergeDeepWith(o,e);var n=o(t,e,r);return mt(t,n)?t:n}}function se(t,o,r){return 0===(r=r.filter(function(t){return 0!==t.size})).length?t:0!==t.size||t.__ownerID||1!==r.length?t.withMutations(function(n){for(var t=o?function(e,r){n.update(r,_,function(t){return t===_?e:o(t,e,r)})}:function(t,e){n.set(e,t)},e=0;e<r.length;e++)r[e].forEach(t)}):t.constructor(r[0])}function ce(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function ue(t,e,r,n){var o=n?t:O(t);return o[e]=r,o}$t[Bt]=!0,$t[m]=$t.remove,$t.removeIn=$t.deleteIn,Ft.prototype.get=function(t,e,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(mt(r,o[i][0]))return o[i][1];return n},Ft.prototype.update=function(t,e,r,n,o,i,a){for(var s=o===_,c=this.entries,u=0,g=c.length;u<g&&!mt(n,c[u][0]);u++);var l=u<g;if(l?c[u][1]===o:s)return this;if(E(a),(s||!l)&&E(i),!s||1!==c.length){if(!l&&!s&&c.length>=ge)return function(t,e,r,n){t||(t=new I);for(var o=new Jt(t,jt(r),[r,n]),i=0;i<e.length;i++){var a=e[i];o=o.update(t,0,void 0,a[0],a[1])}return o}(t,c,n,o);var p=t&&t===this.ownerID,h=p?c:O(c);return l?s?u===g-1?h.pop():h[u]=h.pop():h[u]=[n,o]:h.push([n,o]),p?(this.entries=h,this):new Ft(t,h)}},Vt.prototype.get=function(t,e,r,n){void 0===e&&(e=jt(r));var o=1<<((0===t?e:e>>>t)&v),i=this.bitmap;return 0==(i&o)?n:this.nodes[ce(i&o-1)].get(t+S,e,r,n)},Vt.prototype.update=function(t,e,r,n,o,i,a){void 0===r&&(r=jt(n));var s=(0===e?r:r>>>e)&v,c=1<<s,u=this.bitmap,g=0!=(u&c);if(!g&&o===_)return this;var l=ce(u&c-1),p=this.nodes,h=g?p[l]:void 0,f=ee(h,t,e+S,r,n,o,i,a);if(f===h)return this;if(!g&&f&&p.length>=le)return function(t,e,r,n,o){for(var i=0,a=new Array(w),s=0;0!==r;s++,r>>>=1)a[s]=1&r?e[i++]:void 0;return a[n]=o,new Kt(t,i+1,a)}(t,p,u,s,f);if(g&&!f&&2===p.length&&re(p[1^l]))return p[1^l];if(g&&f&&1===p.length&&re(f))return f;var m=t&&t===this.ownerID,d=g?f?u:u^c:u|c,y=g?f?ue(p,l,f,m):function(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var o=new Array(n),i=0,a=0;a<n;a++)a===e&&(i=1),o[a]=t[a+i];return o}(p,l,m):function(t,e,r,n){var o=t.length+1;if(n&&e+1===o)return t[e]=r,t;for(var i=new Array(o),a=0,s=0;s<o;s++)s===e?(i[s]=r,a=-1):i[s]=t[s+a];return i}(p,l,f,m);return m?(this.bitmap=d,this.nodes=y,this):new Vt(t,d,y)},Kt.prototype.get=function(t,e,r,n){void 0===e&&(e=jt(r));var o=(0===t?e:e>>>t)&v,i=this.nodes[o];return i?i.get(t+S,e,r,n):n},Kt.prototype.update=function(t,e,r,n,o,i,a){void 0===r&&(r=jt(n));var s=(0===e?r:r>>>e)&v,c=o===_,u=this.nodes,g=u[s];if(c&&!g)return this;var l=ee(g,t,e+S,r,n,o,i,a);if(l===g)return this;var p=this.count;if(g){if(!l&&--p<pe)return function(t,e,r,n){for(var o=0,i=0,a=new Array(r),s=0,c=1,u=e.length;s<u;s++,c<<=1){var g=e[s];void 0!==g&&s!==n&&(o|=c,a[i++]=g)}return new Vt(t,o,a)}(t,u,p,s)}else p++;var h=t&&t===this.ownerID,f=ue(u,s,l,h);return h?(this.count=p,this.nodes=f,this):new Kt(t,p,f)},Wt.prototype.get=function(t,e,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(mt(r,o[i][0]))return o[i][1];return n},Wt.prototype.update=function(t,e,r,n,o,i,a){void 0===r&&(r=jt(n));var s=o===_;if(r!==this.keyHash)return s?this:(E(a),E(i),ne(this,t,e,r,[n,o]));for(var c=this.entries,u=0,g=c.length;u<g&&!mt(n,c[u][0]);u++);var l=u<g;if(l?c[u][1]===o:s)return this;if(E(a),(s||!l)&&E(i),s&&2===g)return new Jt(t,this.keyHash,c[1^u]);var p=t&&t===this.ownerID,h=p?c:O(c);return l?s?u===g-1?h.pop():h[u]=h.pop():h[u]=[n,o]:h.push([n,o]),p?(this.entries=h,this):new Wt(t,this.keyHash,h)},Jt.prototype.get=function(t,e,r,n){return mt(r,this.entry[0])?this.entry[1]:n},Jt.prototype.update=function(t,e,r,n,o,i,a){var s=o===_,c=mt(n,this.entry[0]);return(c?o===this.entry[1]:s)?this:(E(a),s?void E(i):c?t&&t===this.ownerID?(this.entry[1]=o,this):new Jt(t,this.keyHash,[n,o]):(E(i),ne(this,t,e,jt(n),[n,o])))},Ft.prototype.iterate=Wt.prototype.iterate=function(t,e){for(var r=this.entries,n=0,o=r.length-1;n<=o;n++)if(!1===t(r[e?o-n:n]))return!1},Vt.prototype.iterate=Kt.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,o=r.length-1;n<=o;n++){var i=r[e?o-n:n];if(i&&!1===i.iterate(t,e))return!1}},Jt.prototype.iterate=function(t,e){return t(this.entry)},t(Gt,P),Gt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var r,n=e.node,o=e.index++;if(n.entry){if(0===o)return Yt(t,n.entry)}else if(n.entries){if(r=n.entries.length-1,o<=r)return Yt(t,n.entries[this._reverse?r-o:o])}else if(r=n.nodes.length-1,o<=r){var i=n.nodes[this._reverse?r-o:o];if(i){if(i.entry)return Yt(t,i.entry);e=this._stack=Zt(i,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ge=w/4,le=w/2,pe=w/4;function he(t){var e=Ee();if(null==t)return e;if(fe(t))return t;var n=u(t),o=n.size;return 0===o?e:(Ut(o),0<o&&o<w?we(0,o,S,null,new ye(n.toArray())):e.withMutations(function(r){r.setSize(o),n.forEach(function(t,e){return r.set(e,t)})}))}function fe(t){return!(!t||!t[me])}t(he,wt),he.of=function(){return this(arguments)},he.prototype.toString=function(){return this.__toString("List [","]")},he.prototype.get=function(t,e){if(0<=(t=T(this,t))&&t<this.size){var r=je(this,t+=this._origin);return r&&r.array[t&v]}return e},he.prototype.set=function(t,e){return function(t,e,r){if((e=T(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?Te(t,e).set(0,r):Te(t,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,o=t._root,i=b(y);return e>=Ce(t._capacity)?n=Ie(n,t.__ownerID,0,e,r,i):o=Ie(o,t.__ownerID,t._level,e,r,i),i.value?t.__ownerID?(t._root=o,t._tail=n,t.__hash=void 0,t.__altered=!0,t):we(t._origin,t._capacity,t._level,o,n):t}(this,t,e)},he.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},he.prototype.insert=function(t,e){return this.splice(t,0,e)},he.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=S,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Ee()},he.prototype.push=function(){var r=arguments,n=this.size;return this.withMutations(function(t){Te(t,0,n+r.length);for(var e=0;e<r.length;e++)t.set(n+e,r[e])})},he.prototype.pop=function(){return Te(this,0,-1)},he.prototype.unshift=function(){var r=arguments;return this.withMutations(function(t){Te(t,-r.length);for(var e=0;e<r.length;e++)t.set(e,r[e])})},he.prototype.shift=function(){return Te(this,1)},he.prototype.merge=function(){return Ae(this,void 0,arguments)},he.prototype.mergeWith=function(t){var e=n.call(arguments,1);return Ae(this,t,e)},he.prototype.mergeDeep=function(){return Ae(this,ie,arguments)},he.prototype.mergeDeepWith=function(t){var e=n.call(arguments,1);return Ae(this,ae(t),e)},he.prototype.setSize=function(t){return Te(this,0,t)},he.prototype.slice=function(t,e){var r=this.size;return C(t,e,r)?this:Te(this,M(t,r),L(e,r))},he.prototype.__iterator=function(e,t){var r=0,n=Se(this,t);return new P(function(){var t=n();return t===be?{value:void 0,done:!0}:z(e,r++,t)})},he.prototype.__iterate=function(t,e){for(var r,n=0,o=Se(this,e);(r=o())!==be&&!1!==t(r,n++,this););return n},he.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?we(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},he.isList=fe;var me="@@__IMMUTABLE_LIST__@@",de=he.prototype;function ye(t,e){this.array=t,this.ownerID=e}de[me]=!0,de[m]=de.remove,de.setIn=$t.setIn,de.deleteIn=de.removeIn=$t.removeIn,de.update=$t.update,de.updateIn=$t.updateIn,de.mergeIn=$t.mergeIn,de.mergeDeepIn=$t.mergeDeepIn,de.withMutations=$t.withMutations,de.asMutable=$t.asMutable,de.asImmutable=$t.asImmutable,de.wasAltered=$t.wasAltered,ye.prototype.removeBefore=function(t,e,r){if(r===e?1<<e:0===this.array.length)return this;var n=r>>>e&v;if(n>=this.array.length)return new ye([],t);var o,i=0===n;if(0<e){var a=this.array[n];if((o=a&&a.removeBefore(t,e-S,r))===a&&i)return this}if(i&&!o)return this;var s=Oe(this,t);if(!i)for(var c=0;c<n;c++)s.array[c]=void 0;return o&&(s.array[n]=o),s},ye.prototype.removeAfter=function(t,e,r){if(r===(e?1<<e:0)||0===this.array.length)return this;var n,o=r-1>>>e&v;if(o>=this.array.length)return this;if(0<e){var i=this.array[o];if((n=i&&i.removeAfter(t,e-S,r))===i&&o===this.array.length-1)return this}var a=Oe(this,t);return a.array.splice(o+1),n&&(a.array[o]=n),a};var _e,ve,be={};function Se(t,m){var d=t._origin,y=t._capacity,_=Ce(y),v=t._tail;return b(t._root,t._level,0);function b(t,e,r){return 0===e?(g=t,p=(l=r)===_?v&&v.array:g&&g.array,h=d<l?0:d-l,w<(f=y-l)&&(f=w),function(){if(h===f)return be;var t=m?--f:h++;return p&&p[t]}):(o=e,i=r,s=(n=t)&&n.array,c=d<i?0:d-i>>o,w<(u=1+(y-i>>o))&&(u=w),function(){for(;;){if(a){var t=a();if(t!==be)return t;a=null}if(c===u)return be;var e=m?--u:c++;a=b(s&&s[e],o-S,i+(e<<o))}});var n,o,i,a,s,c,u,g,l,p,h,f}}function we(t,e,r,n,o,i,a){var s=Object.create(de);return s.size=e-t,s._origin=t,s._capacity=e,s._level=r,s._root=n,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function Ee(){return _e||(_e=we(0,0,S))}function Ie(t,e,r,n,o,i){var a,s=n>>>r&v,c=t&&s<t.array.length;if(!c&&void 0===o)return t;if(0<r){var u=t&&t.array[s],g=Ie(u,e,r-S,n,o,i);return g===u?t:((a=Oe(t,e)).array[s]=g,a)}return c&&t.array[s]===o?t:(E(i),a=Oe(t,e),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function Oe(t,e){return e&&t&&e===t.ownerID?t:new ye(t?t.array.slice():[],e)}function je(t,e){if(e>=Ce(t._capacity))return t._tail;if(e<1<<t._level+S){for(var r=t._root,n=t._level;r&&0<n;)r=r.array[e>>>n&v],n-=S;return r}}function Te(t,e,r){void 0!==e&&(e|=0),void 0!==r&&(r|=0);var n=t.__ownerID||new I,o=t._origin,i=t._capacity,a=o+e,s=void 0===r?i:r<0?i+r:o+r;if(a===o&&s===i)return t;if(s<=a)return t.clear();for(var c=t._level,u=t._root,g=0;a+g<0;)u=new ye(u&&u.array.length?[void 0,u]:[],n),g+=1<<(c+=S);g&&(a+=g,o+=g,s+=g,i+=g);for(var l=Ce(i),p=Ce(s);1<<c+S<=p;)u=new ye(u&&u.array.length?[u]:[],n),c+=S;var h=t._tail,f=p<l?je(t,s-1):l<p?new ye([],n):h;if(h&&l<p&&a<i&&h.array.length){for(var m=u=Oe(u,n),d=c;S<d;d-=S){var y=l>>>d&v;m=m.array[y]=Oe(m.array[y],n)}m.array[l>>>S&v]=h}if(s<i&&(f=f&&f.removeAfter(n,0,s)),p<=a)a-=p,s-=p,c=S,u=null,f=f&&f.removeBefore(n,0,a);else if(o<a||p<l){for(g=0;u;){var _=a>>>c&v;if(_!==p>>>c&v)break;_&&(g+=(1<<c)*_),c-=S,u=u.array[_]}u&&o<a&&(u=u.removeBefore(n,c,a-g)),u&&p<l&&(u=u.removeAfter(n,c,p-g)),g&&(a-=g,s-=g)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=c,t._root=u,t._tail=f,t.__hash=void 0,t.__altered=!0,t):we(a,s,c,u,f)}function Ae(t,e,r){for(var n=[],o=0,i=0;i<r.length;i++){var a=r[i],s=u(a);s.size>o&&(o=s.size),g(a)||(s=s.map(function(t){return pt(t)})),n.push(s)}return o>t.size&&(t=t.setSize(o)),se(t,e,n)}function Ce(t){return t<w?0:t-1>>>S<<S}function Me(e){return null==e?ke():Le(e)?e:ke().withMutations(function(r){var t=s(e);Ut(t.size),t.forEach(function(t,e){return r.set(e,t)})})}function Le(t){return zt(t)&&f(t)}function xe(t,e,r,n){var o=Object.create(Me.prototype);return o.size=t?t.size:0,o._map=t,o._list=e,o.__ownerID=r,o.__hash=n,o}function ke(){return ve||(ve=xe(Qt(),Ee()))}function De(t,e,r){var n,o,i=t._map,a=t._list,s=i.get(e),c=void 0!==s;if(r===_){if(!c)return t;a.size>=w&&a.size>=2*i.size?(o=a.filter(function(t,e){return void 0!==t&&s!==e}),n=o.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(n.__ownerID=o.__ownerID=t.__ownerID)):(n=i.remove(e),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(r===a.get(s)[1])return t;n=i,o=a.set(s,[e,r])}else n=i.set(e,a.size),o=a.set(a.size,[e,r]);return t.__ownerID?(t.size=n.size,t._map=n,t._list=o,t.__hash=void 0,t):xe(n,o)}function Re(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Ne(t){this._iter=t,this.size=t.size}function qe(t){this._iter=t,this.size=t.size}function Ue(t){this._iter=t,this.size=t.size}function Pe(o){var t=tr(o);return t._iter=o,t.size=o.size,t.flip=function(){return o},t.reverse=function(){var t=o.reverse.apply(this);return t.flip=function(){return o.reverse()},t},t.has=function(t){return o.includes(t)},t.includes=function(t){return o.has(t)},t.cacheResult=er,t.__iterateUncached=function(r,t){var n=this;return o.__iterate(function(t,e){return!1!==r(e,t,n)},t)},t.__iteratorUncached=function(t,e){if(t!==R)return o.__iterator(t===D?k:D,e);var r=o.__iterator(t,e);return new P(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})},t}function ze(i,a,s){var t=tr(i);return t.size=i.size,t.has=function(t){return i.has(t)},t.get=function(t,e){var r=i.get(t,_);return r===_?e:a.call(s,r,t,i)},t.__iterateUncached=function(n,t){var o=this;return i.__iterate(function(t,e,r){return!1!==n(a.call(s,t,e,r),e,o)},t)},t.__iteratorUncached=function(n,t){var o=i.__iterator(R,t);return new P(function(){var t=o.next();if(t.done)return t;var e=t.value,r=e[0];return z(n,r,a.call(s,e[1],r,i),t)})},t}function He(o,r){var t=tr(o);return t._iter=o,t.size=o.size,t.reverse=function(){return o},o.flip&&(t.flip=function(){var t=Pe(o);return t.reverse=function(){return o.flip()},t}),t.get=function(t,e){return o.get(r?t:-1-t,e)},t.has=function(t){return o.has(r?t:-1-t)},t.includes=function(t){return o.includes(t)},t.cacheResult=er,t.__iterate=function(r,t){var n=this;return o.__iterate(function(t,e){return r(t,e,n)},!t)},t.__iterator=function(t,e){return o.__iterator(t,!e)},t}function Be(s,c,u,g){var t=tr(s);return g&&(t.has=function(t){var e=s.get(t,_);return e!==_&&!!c.call(u,e,t,s)},t.get=function(t,e){var r=s.get(t,_);return r!==_&&c.call(u,r,t,s)?r:e}),t.__iterateUncached=function(n,t){var o=this,i=0;return s.__iterate(function(t,e,r){if(c.call(u,t,e,r))return i++,n(t,g?e:i-1,o)},t),i},t.__iteratorUncached=function(o,t){var i=s.__iterator(R,t),a=0;return new P(function(){for(;;){var t=i.next();if(t.done)return t;var e=t.value,r=e[0],n=e[1];if(c.call(u,n,r,s))return z(o,g?r:a++,n,t)}})},t}function $e(s,t,e,c){var r=s.size;if(void 0!==t&&(t|=0),void 0!==e&&(e===1/0?e=r:e|=0),C(t,e,r))return s;var u=M(t,r),n=L(e,r);if(u!=u||n!=n)return $e(s.toSeq().cacheResult(),t,e,c);var g,o=n-u;o==o&&(g=o<0?0:o);var i=tr(s);return i.size=0===g?g:s.size&&g||void 0,!c&&it(s)&&0<=g&&(i.get=function(t,e){return 0<=(t=T(this,t))&&t<g?s.get(t+u,e):e}),i.__iterateUncached=function(r,t){var n=this;if(0===g)return 0;if(t)return this.cacheResult().__iterate(r,t);var o=0,i=!0,a=0;return s.__iterate(function(t,e){if(!i||!(i=o++<u))return a++,!1!==r(t,c?e:a-1,n)&&a!==g}),a},i.__iteratorUncached=function(e,t){if(0!==g&&t)return this.cacheResult().__iterator(e,t);var r=0!==g&&s.__iterator(e,t),n=0,o=0;return new P(function(){for(;n++<u;)r.next();if(++o>g)return{value:void 0,done:!0};var t=r.next();return c||e===D?t:z(e,o-1,e===k?void 0:t.value[1],t)})},i}function Fe(e,u,g,l){var t=tr(e);return t.__iterateUncached=function(n,t){var o=this;if(t)return this.cacheResult().__iterate(n,t);var i=!0,a=0;return e.__iterate(function(t,e,r){if(!i||!(i=u.call(g,t,e,r)))return a++,n(t,l?e:a-1,o)}),a},t.__iteratorUncached=function(o,t){var i=this;if(t)return this.cacheResult().__iterator(o,t);var a=e.__iterator(R,t),s=!0,c=0;return new P(function(){var t,e,r;do{if((t=a.next()).done)return l||o===D?t:z(o,c++,o===k?void 0:t.value[1],t);var n=t.value;e=n[0],r=n[1],s&&(s=u.call(g,r,e,i))}while(s);return o===R?t:z(o,e,r,t)})},t}function Ve(t,c,u){var e=tr(t);return e.__iterateUncached=function(i,e){var a=0,s=!1;return function r(t,n){var o=this;t.__iterate(function(t,e){return(!c||n<c)&&g(t)?r(t,n+1):!1===i(t,u?e:a++,o)&&(s=!0),!s},e)}(t,0),a},e.__iteratorUncached=function(r,n){var o=t.__iterator(r,n),i=[],a=0;return new P(function(){for(;o;){var t=o.next();if(!1===t.done){var e=t.value;if(r===R&&(e=e[1]),c&&!(i.length<c)||!g(e))return u?t:z(r,a++,e,t);i.push(o),o=e.__iterator(r,n)}else o=i.pop()}return{value:void 0,done:!0}})},e}function Ke(r,n,o){n||(n=rr);var t=l(r),i=0,a=r.toSeq().map(function(t,e){return[e,t,i++,o?o(t,e,r):t]}).toArray();return a.sort(function(t,e){return n(t[3],e[3])||t[2]-e[2]}).forEach(t?function(t,e){a[e].length=2}:function(t,e){a[e]=t[1]}),t?J(a):p(r)?G(a):Y(a)}function We(r,n,o){if(n||(n=rr),o){var t=r.toSeq().map(function(t,e){return[t,o(t,e,r)]}).reduce(function(t,e){return Je(n,t[1],e[1])?e:t});return t&&t[0]}return r.reduce(function(t,e){return Je(n,t,e)?e:t})}function Je(t,e,r){var n=t(r,e);return 0===n&&r!==e&&(null==r||r!=r)||0<n}function Ge(t,a,s){var e=tr(t);return e.size=new et(s).map(function(t){return t.size}).min(),e.__iterate=function(t,e){for(var r,n=this.__iterator(D,e),o=0;!(r=n.next()).done&&!1!==t(r.value,o++,this););return o},e.__iteratorUncached=function(e,r){var n=s.map(function(t){return t=c(t),F(r?t.reverse():t)}),o=0,i=!1;return new P(function(){var t;return i||(t=n.map(function(t){return t.next()}),i=t.some(function(t){return t.done})),i?{value:void 0,done:!0}:z(e,o++,a.apply(null,t.map(function(t){return t.value})))})},e}function Ye(t,e){return it(t)?e:t.constructor(e)}function Ze(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Xe(t){return Ut(t.size),j(t)}function Qe(t){return l(t)?s:p(t)?u:o}function tr(t){return Object.create((l(t)?J:p(t)?G:Y).prototype)}function er(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):W.prototype.cacheResult.call(this)}function rr(t,e){return e<t?1:t<e?-1:0}function nr(t){var e=F(t);if(!e){if(!K(t))throw new TypeError("Expected iterable or array-like: "+t);e=F(c(t))}return e}function or(r,n){var o,i=function(t){if(t instanceof i)return t;if(!(this instanceof i))return new i(t);if(!o){o=!0;var e=Object.keys(r);!function(t,e){try{e.forEach(function(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){_t(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}.bind(void 0,t))}catch(t){}}(a,e),a.size=e.length,a._name=n,a._keys=e,a._defaultValues=r}this._map=Pt(t)},a=i.prototype=Object.create(ir);return a.constructor=i}t(Me,Pt),Me.of=function(){return this(arguments)},Me.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Me.prototype.get=function(t,e){var r=this._map.get(t);return void 0!==r?this._list.get(r)[1]:e},Me.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ke()},Me.prototype.set=function(t,e){return De(this,t,e)},Me.prototype.remove=function(t){return De(this,t,_)},Me.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Me.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],r)},t)},Me.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Me.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?xe(e,r,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=r,this)},Me.isOrderedMap=Le,Me.prototype[a]=!0,Me.prototype[m]=Me.prototype.remove,t(Re,J),Re.prototype.get=function(t,e){return this._iter.get(t,e)},Re.prototype.has=function(t){return this._iter.has(t)},Re.prototype.valueSeq=function(){return this._iter.valueSeq()},Re.prototype.reverse=function(){var t=this,e=He(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},Re.prototype.map=function(t,e){var r=this,n=ze(this,t,e);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(t,e)}),n},Re.prototype.__iterate=function(r,e){var n,o=this;return this._iter.__iterate(this._useKeys?function(t,e){return r(t,e,o)}:(n=e?Xe(this):0,function(t){return r(t,e?--n:n++,o)}),e)},Re.prototype.__iterator=function(e,r){if(this._useKeys)return this._iter.__iterator(e,r);var n=this._iter.__iterator(D,r),o=r?Xe(this):0;return new P(function(){var t=n.next();return t.done?t:z(e,r?--o:o++,t.value,t)})},Re.prototype[a]=!0,t(Ne,G),Ne.prototype.includes=function(t){return this._iter.includes(t)},Ne.prototype.__iterate=function(e,t){var r=this,n=0;return this._iter.__iterate(function(t){return e(t,n++,r)},t)},Ne.prototype.__iterator=function(e,t){var r=this._iter.__iterator(D,t),n=0;return new P(function(){var t=r.next();return t.done?t:z(e,n++,t.value,t)})},t(qe,Y),qe.prototype.has=function(t){return this._iter.includes(t)},qe.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate(function(t){return e(t,t,r)},t)},qe.prototype.__iterator=function(e,t){var r=this._iter.__iterator(D,t);return new P(function(){var t=r.next();return t.done?t:z(e,t.value,t.value,t)})},t(Ue,J),Ue.prototype.entrySeq=function(){return this._iter.toSeq()},Ue.prototype.__iterate=function(r,t){var n=this;return this._iter.__iterate(function(t){if(t){Ze(t);var e=g(t);return r(e?t.get(1):t[1],e?t.get(0):t[0],n)}},t)},Ue.prototype.__iterator=function(n,t){var o=this._iter.__iterator(D,t);return new P(function(){for(;;){var t=o.next();if(t.done)return t;var e=t.value;if(e){Ze(e);var r=g(e);return z(n,r?e.get(0):e[0],r?e.get(1):e[1],t)}}})},Ne.prototype.cacheResult=Re.prototype.cacheResult=qe.prototype.cacheResult=Ue.prototype.cacheResult=er,t(or,St),or.prototype.toString=function(){return this.__toString(sr(this)+" {","}")},or.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},or.prototype.get=function(t,e){if(!this.has(t))return e;var r=this._defaultValues[t];return this._map?this._map.get(t,r):r},or.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=ar(this,Qt()))},or.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+sr(this));if(this._map&&!this._map.has(t)){var r=this._defaultValues[t];if(e===r)return this}var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:ar(this,n)},or.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:ar(this,e)},or.prototype.wasAltered=function(){return this._map.wasAltered()},or.prototype.__iterator=function(t,e){var r=this;return s(this._defaultValues).map(function(t,e){return r.get(e)}).__iterator(t,e)},or.prototype.__iterate=function(t,e){var r=this;return s(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},or.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?ar(this,e,t):(this.__ownerID=t,this._map=e,this)};var ir=or.prototype;function ar(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._map=e,n.__ownerID=r,n}function sr(t){return t._name||t.constructor.name||"Record"}function cr(r){return null==r?mr():ur(r)&&!f(r)?r:mr().withMutations(function(e){var t=o(r);Ut(t.size),t.forEach(function(t){return e.add(t)})})}function ur(t){return!(!t||!t[lr])}ir[m]=ir.remove,ir.deleteIn=ir.removeIn=$t.removeIn,ir.merge=$t.merge,ir.mergeWith=$t.mergeWith,ir.mergeIn=$t.mergeIn,ir.mergeDeep=$t.mergeDeep,ir.mergeDeepWith=$t.mergeDeepWith,ir.mergeDeepIn=$t.mergeDeepIn,ir.setIn=$t.setIn,ir.update=$t.update,ir.updateIn=$t.updateIn,ir.withMutations=$t.withMutations,ir.asMutable=$t.asMutable,ir.asImmutable=$t.asImmutable,t(cr,Et),cr.of=function(){return this(arguments)},cr.fromKeys=function(t){return this(s(t).keySeq())},cr.prototype.toString=function(){return this.__toString("Set {","}")},cr.prototype.has=function(t){return this._map.has(t)},cr.prototype.add=function(t){return hr(this,this._map.set(t,!0))},cr.prototype.remove=function(t){return hr(this,this._map.remove(t))},cr.prototype.clear=function(){return hr(this,this._map.clear())},cr.prototype.union=function(){var r=n.call(arguments,0);return 0===(r=r.filter(function(t){return 0!==t.size})).length?this:0!==this.size||this.__ownerID||1!==r.length?this.withMutations(function(e){for(var t=0;t<r.length;t++)o(r[t]).forEach(function(t){return e.add(t)})}):this.constructor(r[0])},cr.prototype.intersect=function(){var r=n.call(arguments,0);if(0===r.length)return this;r=r.map(function(t){return o(t)});var e=this;return this.withMutations(function(t){e.forEach(function(e){r.every(function(t){return t.includes(e)})||t.remove(e)})})},cr.prototype.subtract=function(){var r=n.call(arguments,0);if(0===r.length)return this;r=r.map(function(t){return o(t)});var e=this;return this.withMutations(function(t){e.forEach(function(e){r.some(function(t){return t.includes(e)})&&t.remove(e)})})},cr.prototype.merge=function(){return this.union.apply(this,arguments)},cr.prototype.mergeWith=function(t){var e=n.call(arguments,1);return this.union.apply(this,e)},cr.prototype.sort=function(t){return dr(Ke(this,t))},cr.prototype.sortBy=function(t,e){return dr(Ke(this,e,t))},cr.prototype.wasAltered=function(){return this._map.wasAltered()},cr.prototype.__iterate=function(r,t){var n=this;return this._map.__iterate(function(t,e){return r(e,e,n)},t)},cr.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},cr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},cr.isSet=ur;var gr,lr="@@__IMMUTABLE_SET__@@",pr=cr.prototype;function hr(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function fr(t,e){var r=Object.create(pr);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function mr(){return gr||(gr=fr(Qt()))}function dr(r){return null==r?Sr():yr(r)?r:Sr().withMutations(function(e){var t=o(r);Ut(t.size),t.forEach(function(t){return e.add(t)})})}function yr(t){return ur(t)&&f(t)}pr[lr]=!0,pr[m]=pr.remove,pr.mergeDeep=pr.merge,pr.mergeDeepWith=pr.mergeWith,pr.withMutations=$t.withMutations,pr.asMutable=$t.asMutable,pr.asImmutable=$t.asImmutable,pr.__empty=mr,pr.__make=fr,t(dr,cr),dr.of=function(){return this(arguments)},dr.fromKeys=function(t){return this(s(t).keySeq())},dr.prototype.toString=function(){return this.__toString("OrderedSet {","}")},dr.isOrderedSet=yr;var _r,vr=dr.prototype;function br(t,e){var r=Object.create(vr);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function Sr(){return _r||(_r=br(ke()))}function wr(t){return null==t?Ar():Er(t)?t:Ar().unshiftAll(t)}function Er(t){return!(!t||!t[Or])}vr[a]=!0,vr.__empty=Sr,vr.__make=br,t(wr,wt),wr.of=function(){return this(arguments)},wr.prototype.toString=function(){return this.__toString("Stack [","]")},wr.prototype.get=function(t,e){var r=this._head;for(t=T(this,t);r&&t--;)r=r.next;return r?r.value:e},wr.prototype.peek=function(){return this._head&&this._head.value},wr.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,r=arguments.length-1;0<=r;r--)e={value:arguments[r],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Tr(t,e)},wr.prototype.pushAll=function(t){if(0===(t=u(t)).size)return this;Ut(t.size);var e=this.size,r=this._head;return t.reverse().forEach(function(t){e++,r={value:t,next:r}}),this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):Tr(e,r)},wr.prototype.pop=function(){return this.slice(1)},wr.prototype.unshift=function(){return this.push.apply(this,arguments)},wr.prototype.unshiftAll=function(t){return this.pushAll(t)},wr.prototype.shift=function(){return this.pop.apply(this,arguments)},wr.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ar()},wr.prototype.slice=function(t,e){if(C(t,e,this.size))return this;var r=M(t,this.size),n=L(e,this.size);if(n!==this.size)return wt.prototype.slice.call(this,t,e);for(var o=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):Tr(o,i)},wr.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Tr(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},wr.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var r=0,n=this._head;n&&!1!==t(n.value,r++,this);)n=n.next;return r},wr.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var r=0,n=this._head;return new P(function(){if(n){var t=n.value;return n=n.next,z(e,r++,t)}return{value:void 0,done:!0}})},wr.isStack=Er;var Ir,Or="@@__IMMUTABLE_STACK__@@",jr=wr.prototype;function Tr(t,e,r,n){var o=Object.create(jr);return o.size=t,o._head=e,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function Ar(){return Ir||(Ir=Tr(0))}function Cr(e,r){var t=function(t){e.prototype[t]=r[t]};return Object.keys(r).forEach(t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(r).forEach(t),e}jr[Or]=!0,jr.withMutations=$t.withMutations,jr.asMutable=$t.asMutable,jr.asImmutable=$t.asImmutable,jr.wasAltered=$t.wasAltered,c.Iterator=P,Cr(c,{toArray:function(){Ut(this.size);var r=new Array(this.size||0);return this.valueSeq().__iterate(function(t,e){r[e]=t}),r},toIndexedSeq:function(){return new Ne(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new Re(this,!0)},toMap:function(){return Pt(this.toKeyedSeq())},toObject:function(){Ut(this.size);var r={};return this.__iterate(function(t,e){r[e]=t}),r},toOrderedMap:function(){return Me(this.toKeyedSeq())},toOrderedSet:function(){return dr(l(this)?this.valueSeq():this)},toSet:function(){return cr(l(this)?this.valueSeq():this)},toSetSeq:function(){return new qe(this)},toSeq:function(){return p(this)?this.toIndexedSeq():l(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return wr(l(this)?this.valueSeq():this)},toList:function(){return he(l(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var t=n.call(arguments,0);return Ye(this,function(t,e){var r=l(t),n=[t].concat(e).map(function(t){return g(t)?r&&(t=s(t)):t=r?st(t):ct(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===n.length)return t;if(1===n.length){var o=n[0];if(o===t||r&&l(o)||p(t)&&p(o))return o}var i=new et(n);return r?i=i.toKeyedSeq():p(t)||(i=i.toSetSeq()),(i=i.flatten(!0)).size=n.reduce(function(t,e){if(void 0!==t){var r=e.size;if(void 0!==r)return t+r}},0),i}(this,t))},includes:function(e){return this.some(function(t){return mt(t,e)})},entries:function(){return this.__iterator(R)},every:function(n,o){Ut(this.size);var i=!0;return this.__iterate(function(t,e,r){if(!n.call(o,t,e,r))return i=!1}),i},filter:function(t,e){return Ye(this,Be(this,t,e,!0))},find:function(t,e,r){var n=this.findEntry(t,e);return n?n[1]:r},forEach:function(t,e){return Ut(this.size),this.__iterate(e?t.bind(e):t)},join:function(e){Ut(this.size),e=void 0!==e?""+e:",";var r="",n=!0;return this.__iterate(function(t){n?n=!1:r+=e,r+=null!=t?t.toString():""}),r},keys:function(){return this.__iterator(k)},map:function(t,e){return Ye(this,ze(this,t,e))},reduce:function(n,t,o){var i,a;return Ut(this.size),arguments.length<2?a=!0:i=t,this.__iterate(function(t,e,r){i=a?(a=!1,t):n.call(o,i,t,e,r)}),i},reduceRight:function(t,e,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return Ye(this,He(this,!0))},slice:function(t,e){return Ye(this,$e(this,t,e,!0))},some:function(t,e){return!this.every(Dr(t),e)},sort:function(t){return Ye(this,Ke(this,t))},values:function(){return this.__iterator(D)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return j(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return r=this,n=t,o=e,i=Pt().asMutable(),r.__iterate(function(t,e){i.update(n.call(o,t,e,r),0,function(t){return t+1})}),i.asImmutable();var r,n,o,i},equals:function(t){return dt(this,t)},entrySeq:function(){var t=this;if(t._cache)return new et(t._cache);var e=t.toSeq().map(kr).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Dr(t),e)},findEntry:function(n,o,t){var i=t;return this.__iterate(function(t,e,r){if(n.call(o,t,e,r))return!(i=[e,t])}),i},findKey:function(t,e){var r=this.findEntry(t,e);return r&&r[0]},findLast:function(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},findLastEntry:function(t,e,r){return this.toKeyedSeq().reverse().findEntry(t,e,r)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(A)},flatMap:function(t,e){return Ye(this,(n=t,o=e,i=Qe(r=this),r.toSeq().map(function(t,e){return i(n.call(o,t,e,r))}).flatten(!0)));var r,n,o,i},flatten:function(t){return Ye(this,Ve(this,t,!0))},fromEntrySeq:function(){return new Ue(this)},get:function(r,t){return this.find(function(t,e){return mt(e,r)},void 0,t)},getIn:function(t,e){for(var r,n=this,o=nr(t);!(r=o.next()).done;){var i=r.value;if((n=n&&n.get?n.get(i,_):_)===_)return e}return n},groupBy:function(t,e){return function(n,t,o){var i=l(n),a=(f(n)?Me():Pt()).asMutable();n.__iterate(function(e,r){a.update(t.call(o,e,r,n),function(t){return(t=t||[]).push(i?[r,e]:e),t})});var e=Qe(n);return a.map(function(t){return Ye(n,e(t))})}(this,t,e)},has:function(t){return this.get(t,_)!==_},hasIn:function(t){return this.getIn(t,_)!==_},isSubset:function(e){return e="function"==typeof e.includes?e:c(e),this.every(function(t){return e.includes(t)})},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:c(t)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return mt(t,e)})},keySeq:function(){return this.toSeq().map(xr).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return We(this,t)},maxBy:function(t,e){return We(this,e,t)},min:function(t){return We(this,t?Rr(t):Ur)},minBy:function(t,e){return We(this,e?Rr(e):Ur,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Ye(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Ye(this,Fe(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Dr(t),e)},sortBy:function(t,e){return Ye(this,Ke(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Ye(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Ye(this,(c=t,u=e,(n=tr(r=this)).__iterateUncached=function(n,t){var o=this;if(t)return this.cacheResult().__iterate(n,t);var i=0;return r.__iterate(function(t,e,r){return c.call(u,t,e,r)&&++i&&n(t,e,o)}),i},n.__iteratorUncached=function(o,t){var i=this;if(t)return this.cacheResult().__iterator(o,t);var a=r.__iterator(R,t),s=!0;return new P(function(){if(!s)return{value:void 0,done:!0};var t=a.next();if(t.done)return t;var e=t.value,r=e[0],n=e[1];return c.call(u,n,r,i)?o===R?t:z(o,r,n,t):{value:void 0,done:!(s=!1)}})},n));var r,c,u,n},takeUntil:function(t,e){return this.takeWhile(Dr(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e,r,n=f(t),o=l(t),i=n?1:0;return e=t.__iterate(o?n?function(t,e){i=31*i+Pr(jt(t),jt(e))|0}:function(t,e){i=i+Pr(jt(t),jt(e))|0}:n?function(t){i=31*i+jt(t)|0}:function(t){i=i+jt(t)|0}),r=It(r=i,3432918353),r=It(r<<15|r>>>-15,461845907),r=It(r<<13|r>>>-13,5),r=It((r=(r+3864292196|0)^e)^r>>>16,2246822507),r=Ot((r=It(r^r>>>13,3266489909))^r>>>16)}(this))}});var Mr=c.prototype;Mr[e]=!0,Mr[U]=Mr.values,Mr.__toJS=Mr.toArray,Mr.__toStringMapper=Nr,Mr.inspect=Mr.toSource=function(){return this.toString()},Mr.chain=Mr.flatMap,Mr.contains=Mr.includes,Cr(s,{flip:function(){return Ye(this,Pe(this))},mapEntries:function(r,n){var o=this,i=0;return Ye(this,this.toSeq().map(function(t,e){return r.call(n,[e,t],i++,o)}).fromEntrySeq())},mapKeys:function(r,n){var o=this;return Ye(this,this.toSeq().flip().map(function(t,e){return r.call(n,t,e,o)}).flip())}});var Lr=s.prototype;function xr(t,e){return e}function kr(t,e){return[e,t]}function Dr(t){return function(){return!t.apply(this,arguments)}}function Rr(t){return function(){return-t.apply(this,arguments)}}function Nr(t){return"string"==typeof t?JSON.stringify(t):String(t)}function qr(){return O(arguments)}function Ur(t,e){return t<e?1:e<t?-1:0}function Pr(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return Lr[r]=!0,Lr[U]=Mr.entries,Lr.__toJS=Mr.toObject,Lr.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+Nr(t)},Cr(u,{toKeyedSeq:function(){return new Re(this,!1)},filter:function(t,e){return Ye(this,Be(this,t,e,!1))},findIndex:function(t,e){var r=this.findEntry(t,e);return r?r[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Ye(this,He(this,!1))},slice:function(t,e){return Ye(this,$e(this,t,e,!1))},splice:function(t,e){var r=arguments.length;if(e=Math.max(0|e,0),0===r||2===r&&!e)return this;t=M(t,t<0?this.count():this.size);var n=this.slice(0,t);return Ye(this,1===r?n:n.concat(O(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var r=this.findLastEntry(t,e);return r?r[0]:-1},first:function(){return this.get(0)},flatten:function(t){return Ye(this,Ve(this,t,!1))},get:function(r,t){return(r=T(this,r))<0||this.size===1/0||void 0!==this.size&&r>this.size?t:this.find(function(t,e){return e===r},void 0,t)},has:function(t){return 0<=(t=T(this,t))&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Ye(this,(a=t,(e=tr(i=this)).size=i.size&&2*i.size-1,e.__iterateUncached=function(r,t){var n=this,o=0;return i.__iterate(function(t,e){return(!o||!1!==r(a,o++,n))&&!1!==r(t,o++,n)},t),o},e.__iteratorUncached=function(t,e){var r,n=i.__iterator(D,e),o=0;return new P(function(){return(!r||o%2)&&(r=n.next()).done?r:o%2?z(t,o++,a):z(t,o++,r.value,r)})},e));var i,a,e},interleave:function(){var t=[this].concat(O(arguments)),e=Ge(this.toSeq(),G.of,t),r=e.flatten(!0);return e.size&&(r.size=e.size*t.length),Ye(this,r)},keySeq:function(){return vt(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Ye(this,Fe(this,t,e,!1))},zip:function(){return Ye(this,Ge(this,qr,[this].concat(O(arguments))))},zipWith:function(t){var e=O(arguments);return Ye(e[0]=this,Ge(this,t,e))}}),u.prototype[i]=!0,u.prototype[a]=!0,Cr(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Mr.includes,o.prototype.contains=o.prototype.includes,Cr(J,s.prototype),Cr(G,u.prototype),Cr(Y,o.prototype),Cr(St,s.prototype),Cr(wt,u.prototype),Cr(Et,o.prototype),{Iterable:c,Seq:W,Collection:bt,Map:Pt,OrderedMap:Me,List:he,Stack:wr,Set:cr,OrderedSet:dr,Record:or,Range:vt,Repeat:yt,is:mt,fromJS:pt}}()},"./node_modules/transit-immutable-js/index.js":function(t,e,r){var a=r("./node_modules/transit-js/transit.js"),u=r("./node_modules/immutable/dist/immutable.js");function g(t,r,e){function n(t){var r=0;e&&(t=t.filter(e));var n=new Array(2*t.size);return t.forEach(function(t,e){n[r++]=e,n[r++]=t}),n}var o=a.map([u.Map,a.makeWriteHandler({tag:function(){return"iM"},rep:n}),u.OrderedMap,a.makeWriteHandler({tag:function(){return"iOM"},rep:n}),u.List,a.makeWriteHandler({tag:function(){return"iL"},rep:function(t){return e&&(t=t.filter(e)),t.toArray()}}),u.Set,a.makeWriteHandler({tag:function(){return"iS"},rep:function(t){return e&&(t=t.filter(e)),t.toArray()}}),u.OrderedSet,a.makeWriteHandler({tag:function(){return"iOS"},rep:function(t){return e&&(t=t.filter(e)),t.toArray()}}),Function,a.makeWriteHandler({tag:function(){return"_"},rep:function(){return null}}),"default",a.makeWriteHandler({tag:function(){return"iM"},rep:function(t){if("toMap"in t)return n(t.toMap());var e="Error serializing unrecognized object "+t.toString();throw new Error(e)}})]);return Object.keys(r).forEach(function(t){var e;o.set(r[t],(e=t,a.makeWriteHandler({tag:function(){return"iR"},rep:function(t){return{n:e,v:t.toObject()}}})))}),t.forEach(function(t){o.set(t.class,a.makeWriteHandler({tag:function(){return t.tag},rep:t.write}))}),o}function l(t,e){var r=JSON.stringify(t);throw new Error(e.replace("%j",r))}function p(t){throw new Error("Tried to deserialize Record type named `"+t+"`, but no type with that name was passed to withRecords()")}function h(t){var e,r,n,o,i=t.records||{},a=t.filter||!1,s=t.missingRecordHandler||p,c=t.extras||[];return{read:(e=c,r=i,n=s,o={iM:function(t){for(var e=u.Map().asMutable(),r=0;r<t.length;r+=2)e=e.set(t[r],t[r+1]);return e.asImmutable()},iOM:function(t){for(var e=u.OrderedMap().asMutable(),r=0;r<t.length;r+=2)e=e.set(t[r],t[r+1]);return e.asImmutable()},iL:function(t){return u.List(t)},iS:function(t){return u.Set(t)},iOS:function(t){return u.OrderedSet(t)},iR:function(t){var e=r[t.n];return e?new e(t.v):n(t.n,t.v)}},e.forEach(function(t){o[t.tag]=t.read}),o),write:g(c,i,a),withExtraHandlers:function(t){var e;return e=t,Array.isArray(e)||l(e,"Expected array of handlers, got %j"),e.forEach(function(t){"string"!=typeof t.tag&&l(t,"Expected %j to have property 'tag' which is a string"),"function"!=typeof t.class&&l(t,"Expected %j to have property 'class' which is a constructor function"),"function"!=typeof t.write&&l(t,"Expected %j to have property 'write' which is a function"),"function"!=typeof t.read&&l(t,"Expected %j to have property 'write' which is a function")}),h({extras:c.concat(t),records:i,filter:a,missingRecordHandler:s})},withFilter:function(t){return h({extras:c,records:i,filter:t,missingRecordHandler:s})},withRecords:function(t,e){var o,r=(o={},t.forEach(function(t){var e,r=new t({}),n=(e=r)._name||e.constructor.name||"Record";if(!n||"Record"===n)throw new Error("Cannot (de)serialize Record() without a name");if(o[n])throw new Error("There's already a constructor for a Record named "+n);o[n]=t}),o);return h({extras:c,records:r,filter:a,missingRecordHandler:e})}}}t.exports=function r(n){var t,e,o=(t=n.read,a.reader("json",{mapBuilder:{init:function(){return{}},add:function(t,e,r){return t[e]=r,t},finalize:function(t){return t}},handlers:t})),i=(e=n.write,a.writer("json",{handlers:e}));return{toJSON:function(t){return i.write(t)},fromJSON:function(t){return o.read(t)},withExtraHandlers:function(t){return r(n.withExtraHandlers(t))},withFilter:function(t){return r(n.withFilter(t))},withRecords:function(t,e){return r(n.withRecords(t,e))}}}(h({})),t.exports.handlers=h({})},"./node_modules/transit-js/transit.js":function(module,exports,__webpack_require__){(function(global){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.checkStringArgs=function(t,e,r){if(null==t)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return t+""},$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,r){t!=Array.prototype&&t!=Object.prototype&&(t[e]=r.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:void 0!==global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(t,e,r,n){if(e){for(r=$jscomp.global,t=t.split("."),n=0;n<t.length-1;n++){var o=t[n];o in r||(r[o]={}),r=r[o]}(e=e(n=r[t=t[t.length-1]]))!=n&&null!=e&&$jscomp.defineProperty(r,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("String.prototype.repeat",function(t){return t||function(t){var e=$jscomp.checkStringArgs(this,null,"repeat");if(t<0||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var r="";t;)1&t&&(r+=e),(t>>>=1)&&(e+=e);return r}},"es6-impl","es3"),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(t){return $jscomp.SYMBOL_PREFIX+(t||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var t=$jscomp.global.Symbol.iterator;t||(t=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&$jscomp.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(t){var e=0;return $jscomp.iteratorPrototype(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})},$jscomp.iteratorPrototype=function(t){return $jscomp.initSymbolIterator(),(t={next:t})[$jscomp.global.Symbol.iterator]=function(){return this},t},$jscomp.iteratorFromArray=function(e,r){$jscomp.initSymbolIterator(),e instanceof String&&(e+="");var n=0,o={next:function(){if(n<e.length){var t=n++;return{value:r(t,e[t]),done:!1}}return o.next=function(){return{done:!0,value:void 0}},o.next()}};return o[Symbol.iterator]=function(){return o},o},$jscomp.polyfill("Array.prototype.entries",function(t){return t||function(){return $jscomp.iteratorFromArray(this,function(t,e){return[t,e]})}},"es6-impl","es3"),$jscomp.polyfill("Array.prototype.keys",function(t){return t||function(){return $jscomp.iteratorFromArray(this,function(t){return t})}},"es6-impl","es3"),$jscomp.polyfill("Array.prototype.values",function(t){return t||function(){return $jscomp.iteratorFromArray(this,function(t,e){return e})}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this,goog.isDef=function(t){return void 0!==t},goog.exportPath_=function(t,e,r){t=t.split("."),r=r||goog.global,t[0]in r||!r.execScript||r.execScript("var "+t[0]);for(var n;t.length&&(n=t.shift());)!t.length&&goog.isDef(e)?r[n]=e:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}},goog.define=function(t,e){var r=e;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,t)?r=goog.global.CLOSURE_UNCOMPILED_DEFINES[t]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,t)&&(r=goog.global.CLOSURE_DEFINES[t])),goog.exportPath_(t,r)},goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(t){if(goog.isInModuleLoader_())throw Error("goog.provide can not be used within a goog.module.");if(!COMPILED&&goog.isProvided_(t))throw Error('Namespace "'+t+'" already declared.');goog.constructNamespace_(t)},goog.constructNamespace_=function(t,e){if(!COMPILED){delete goog.implicitNamespaces_[t];for(var r=t;(r=r.substring(0,r.lastIndexOf(".")))&&!goog.getObjectByName(r);)goog.implicitNamespaces_[r]=!0}goog.exportPath_(t,e)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(t){if(!goog.isString(t)||!t||-1==t.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+t+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=t,!COMPILED){if(goog.isProvided_(t))throw Error('Namespace "'+t+'" already declared.');delete goog.implicitNamespaces_[t]}},goog.module.get=function(t){return goog.module.getInternal_(t)},goog.module.getInternal_=function(t){if(!COMPILED){if(t in goog.loadedModules_)return goog.loadedModules_[t];if(!goog.implicitNamespaces_[t])return null!=(t=goog.getObjectByName(t))?t:null}return null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(t){if(goog.DISALLOW_TEST_ONLY_CODE)throw t=t||"",Error("Importing test-only code into non-debug environment"+(t?": "+t:"."))},goog.forwardDeclare=function(t){},COMPILED||(goog.isProvided_=function(t){return t in goog.loadedModules_||!goog.implicitNamespaces_[t]&&goog.isDefAndNotNull(goog.getObjectByName(t))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(t,e){for(var r,n=t.split("."),o=e||goog.global;r=n.shift();){if(!goog.isDefAndNotNull(o[r]))return null;o=o[r]}return o},goog.globalize=function(t,e){var r,n=e||goog.global;for(r in t)n[r]=t[r]},goog.addDependency=function(t,e,r,n){if(goog.DEPENDENCIES_ENABLED){var o;t=t.replace(/\\/g,"/");var i=goog.dependencies_;n&&"boolean"!=typeof n||(n=n?{module:"goog"}:{});for(var a=0;o=e[a];a++)i.nameToPath[o]=t,i.loadFlags[t]=n;for(n=0;e=r[n];n++)t in i.requires||(i.requires[t]={}),i.requires[t][e]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(t){goog.global.console&&goog.global.console.error(t)},goog.require=function(t){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(t),goog.isProvided_(t)){if(goog.isInModuleLoader_())return goog.module.getInternal_(t)}else if(goog.ENABLE_DEBUG_LOADER){var e=goog.getPathFromDeps_(t);if(!e)throw t="goog.require could not find: "+t,goog.logToConsole_(t),Error(t);goog.writeScripts_(e)}return null}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(t){t.instance_=void 0,t.getInstance=function(){return t.instance_?t.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=t),t.instance_=new t)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.TRANSPILER="transpile.js",goog.DEPENDENCIES_ENABLED&&(goog.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var t=goog.global.document;return null!=t&&"write"in t},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var t=goog.global.document.getElementsByTagName("SCRIPT"),e=t.length-1;0<=e;--e){var r=t[e].src,n=-1==(n=r.lastIndexOf("?"))?r.length:n;if("base.js"==r.substr(n-7,7)){goog.basePath=r.substr(0,n-7);break}}},goog.importScript_=function(t,e){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(t,e)&&(goog.dependencies_.written[t]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.oldIeWaiting_=!1,goog.importProcessedScript_=function(t,e,r){goog.importScript_("",'goog.retrieveAndExec_("'+t+'", '+e+", "+r+");")},goog.queuedModules_=[],goog.wrapModule_=function(t,e){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(e+"\n//# sourceURL="+t+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+e+"\n;return exports});\n//# sourceURL="+t+"\n"},goog.loadQueuedModules_=function(){var t=goog.queuedModules_.length;if(0<t){var e=goog.queuedModules_;goog.queuedModules_=[];for(var r=0;r<t;r++)goog.maybeProcessDeferredPath_(e[r])}goog.oldIeWaiting_=!1},goog.maybeProcessDeferredDep_=function(t){goog.isDeferredModule_(t)&&goog.allDepsAreAvailable_(t)&&(t=goog.getPathFromDeps_(t),goog.maybeProcessDeferredPath_(goog.basePath+t))},goog.isDeferredModule_=function(t){var e=(t=goog.getPathFromDeps_(t))&&goog.dependencies_.loadFlags[t]||{},r=e.lang||"es3";return!(!t||"goog"!=e.module&&!goog.needsTranspile_(r))&&goog.basePath+t in goog.dependencies_.deferred},goog.allDepsAreAvailable_=function(t){if((t=goog.getPathFromDeps_(t))&&t in goog.dependencies_.requires)for(var e in goog.dependencies_.requires[t])if(!goog.isProvided_(e)&&!goog.isDeferredModule_(e))return!1;return!0},goog.maybeProcessDeferredPath_=function(t){if(t in goog.dependencies_.deferred){var e=goog.dependencies_.deferred[t];delete goog.dependencies_.deferred[t],goog.globalEval(e)}},goog.loadModuleFromUrl=function(t){goog.retrieveAndExec_(t,!0,!1)},goog.writeScriptSrcNode_=function(t){goog.global.document.write('<script type="text/javascript" src="'+t+'"><\/script>')},goog.appendScriptSrcNode_=function(t){var e=goog.global.document,r=e.createElement("script");r.type="text/javascript",r.src=t,r.defer=!1,r.async=!1,e.head.appendChild(r)},goog.writeScriptTag_=function(t,e){if(goog.inHtmlDocument_()){var r=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==r.readyState){if(/\bdeps.js$/.test(t))return!1;throw Error('Cannot write "'+t+'" after document load')}if(void 0===e)if(goog.IS_OLD_IE_){goog.oldIeWaiting_=!0;var n=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";r.write('<script type="text/javascript" src="'+t+'"'+n+"><\/script>")}else goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(t):goog.writeScriptSrcNode_(t);else r.write('<script type="text/javascript">'+goog.protectScriptTag_(e)+"<\/script>");return!0}return!1},goog.protectScriptTag_=function(t){return t.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")},goog.needsTranspile_=function(t){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(goog.requiresTranspilation_||(goog.requiresTranspilation_=goog.createRequiresTranspilation_()),t in goog.requiresTranspilation_)return goog.requiresTranspilation_[t];throw Error("Unknown language mode: "+t)},goog.requiresTranspilation_=null,goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(t,e){return"complete"==t.readyState&&goog.lastNonModuleScriptIndex_==e&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(t){var n=[],o={},i=goog.dependencies_;!function t(e){if(!(e in i.written||e in i.visited)){if(i.visited[e]=!0,e in i.requires)for(var r in i.requires[e])if(!goog.isProvided_(r)){if(!(r in i.nameToPath))throw Error("Undefined nameToPath for "+r);t(i.nameToPath[r])}e in o||(o[e]=!0,n.push(e))}}(t);for(var e=0;e<n.length;e++)t=n[e],goog.dependencies_.written[t]=!0;var r=goog.moduleLoaderState_;for(goog.moduleLoaderState_=null,e=0;e<n.length;e++){if(!(t=n[e]))throw goog.moduleLoaderState_=r,Error("Undefined script input");var a=i.loadFlags[t]||{},s=goog.needsTranspile_(a.lang||"es3");"goog"==a.module||s?goog.importProcessedScript_(goog.basePath+t,"goog"==a.module,s):goog.importScript_(goog.basePath+t)}goog.moduleLoaderState_=r},goog.getPathFromDeps_=function(t){return t in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[t]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(t){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(t){return"(function(){"+t+"\n;})();\n"},goog.loadModule=function(t){var e=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1},goog.isFunction(t))var r=t.call(void 0,{});else{if(!goog.isString(t))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(t=goog.workaroundSafari10EvalBug(t)),r=goog.loadModuleFromSource_.call(void 0,t)}var n=goog.moduleLoaderState_.moduleName;if(!goog.isString(n)||!n)throw Error('Invalid module name "'+n+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(n,r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof r&&null!=r&&Object.seal(r),goog.loadedModules_[n]=r}finally{goog.moduleLoaderState_=e}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(t){t=t.split("/");for(var e=0;e<t.length;)"."==t[e]?t.splice(e,1):e&&".."==t[e]&&t[e-1]&&".."!=t[e-1]?t.splice(--e,2):e++;return t.join("/")},goog.loadFileSync_=function(t){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(t);try{var e=new goog.global.XMLHttpRequest;return e.open("get",t,!1),e.send(),0==e.status||200==e.status?e.responseText:null}catch(t){return null}},goog.retrieveAndExec_=function(t,e,r){if(!COMPILED){var n=t;t=goog.normalizePath_(t);var o=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,i=goog.loadFileSync_(t);if(null==i)throw Error('Load of "'+t+'" failed');r&&(i=goog.transpile_.call(goog.global,i,t)),i=e?goog.wrapModule_(t,i):i+"\n//# sourceURL="+t,goog.IS_OLD_IE_&&goog.oldIeWaiting_?(goog.dependencies_.deferred[n]=i,goog.queuedModules_.push(n)):o(t,i)}},goog.transpile_=function(a,b){var c=goog.global.$jscomp;c||(goog.global.$jscomp=c={});var d=c.transpile;if(!d){var e=goog.basePath+goog.TRANSPILER,f=goog.loadFileSync_(e);if(f){if(eval(f+"\n//# sourceURL="+e),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,c=goog.global.$jscomp,d=c.transpile}}return d||(d=c.transpile=function(t,e){return goog.logToConsole_(e+" requires transpilation but no transpiler was found."),t}),d(a,b)},goog.typeOf=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var r=Object.prototype.toString.call(t);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e},goog.isNull=function(t){return null===t},goog.isDefAndNotNull=function(t){return null!=t},goog.isArray=function(t){return"array"==goog.typeOf(t)},goog.isArrayLike=function(t){var e=goog.typeOf(t);return"array"==e||"object"==e&&"number"==typeof t.length},goog.isDateLike=function(t){return goog.isObject(t)&&"function"==typeof t.getFullYear},goog.isString=function(t){return"string"==typeof t},goog.isBoolean=function(t){return"boolean"==typeof t},goog.isNumber=function(t){return"number"==typeof t},goog.isFunction=function(t){return"function"==goog.typeOf(t)},goog.isObject=function(t){var e=typeof t;return"object"==e&&null!=t||"function"==e},goog.getUid=function(t){return t[goog.UID_PROPERTY_]||(t[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(t){return!!t[goog.UID_PROPERTY_]},goog.removeUid=function(t){null!==t&&"removeAttribute"in t&&t.removeAttribute(goog.UID_PROPERTY_);try{delete t[goog.UID_PROPERTY_]}catch(t){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(t){if("object"!=(r=goog.typeOf(t))&&"array"!=r)return t;if(t.clone)return t.clone();var e,r="array"==r?[]:{};for(e in t)r[e]=goog.cloneObject(t[e]);return r},goog.bindNative_=function(t,e,r){return t.call.apply(t.bind,arguments)},goog.bindJs_=function(e,r,t){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,n),e.apply(r,t)}}return function(){return e.apply(r,arguments)}},goog.bind=function(t,e,r){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(t,e){for(var r in e)t[r]=e[r]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(t){if(goog.global.execScript)goog.global.execScript(t,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_)if(goog.global.eval("var _evalTest_ = 1;"),void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(t){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(t);else{var e=goog.global.document,r=e.createElement("SCRIPT");r.type="text/javascript",r.defer=!1,r.appendChild(e.createTextNode(t)),e.body.appendChild(r),e.body.removeChild(r)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(t,e){if("."==String(t).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+t);var n=function(t){return goog.cssNameMapping_[t]||t},r=function(t){t=t.split("-");for(var e=[],r=0;r<t.length;r++)e.push(n(t[r]));return e.join("-")};r=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?n:r:function(t){return t},r=e?t+"-"+r(e):r(t);return goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(r):r},goog.setCssNameMapping=function(t,e){goog.cssNameMapping_=t,goog.cssNameMappingStyle_=e},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(t,r){return r&&(t=t.replace(/\{\$([^}]+)}/g,function(t,e){return null!=r&&e in r?r[e]:t})),t},goog.getMsgWithFallback=function(t,e){return t},goog.exportSymbol=function(t,e,r){goog.exportPath_(t,e,r)},goog.exportProperty=function(t,e,r){t[e]=r},goog.inherits=function(t,i){function e(){}e.prototype=i.prototype,t.superClass_=i.prototype,t.prototype=new e,(t.prototype.constructor=t).base=function(t,e,r){for(var n=Array(arguments.length-2),o=2;o<arguments.length;o++)n[o-2]=arguments[o];return i.prototype[e].apply(t,n)}},goog.base=function(t,e,r){var n=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!n)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(n.superClass_){for(var o=Array(arguments.length-1),i=1;i<arguments.length;i++)o[i-1]=arguments[i];return n.superClass_.constructor.apply(t,o)}for(o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];i=!1;for(var a=t.constructor;a;a=a.superClass_&&a.superClass_.constructor)if(a.prototype[e]===n)i=!0;else if(i)return a.prototype[e].apply(t,o);if(t[e]===n)return t.constructor.prototype[e].apply(t,o);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(t){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a goog.module.");t.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(t,e){var r=e.constructor,n=e.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=goog.defineClass.createSealingConstructor_(r,t),t&&goog.inherits(r,t),delete e.constructor,delete e.statics,goog.defineClass.applyProperties_(r.prototype,e),null!=n&&(n instanceof Function?n(r):goog.defineClass.applyProperties_(r,n)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var r=!goog.defineClass.isUnsealable_(t),n=function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],this.constructor===n&&r&&Object.seal instanceof Function&&Object.seal(t),t};return n},goog.defineClass.isUnsealable_=function(t){return t&&t.prototype&&t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},goog.tagUnsealableClass=function(t){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.createRequiresTranspilation_=function(){function a(t,e){d?c[t]=!0:e()?c[t]=!1:d=c[t]=!0}function b(a){try{return!!eval(a)}catch(t){return!1}}var c={es3:!1},d=!1,e=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",function(){return b("[1,].length==1")}),a("es6",function(){var t=e.match(/Edge\/(\d+)(\.\d)*/i);return!(t&&Number(t[1])<15)&&b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')}),a("es6-impl",function(){return!0}),a("es7",function(){return b("2 ** 2 == 4")}),a("es8",function(){return b("async () => 1, true")}),c},goog.debug={},goog.debug.Error=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.string={},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=function(t,e){return 0==t.lastIndexOf(e,0)},goog.string.endsWith=function(t,e){var r=t.length-e.length;return 0<=r&&t.indexOf(e,r)==r},goog.string.caseInsensitiveStartsWith=function(t,e){return 0==goog.string.caseInsensitiveCompare(e,t.substr(0,e.length))},goog.string.caseInsensitiveEndsWith=function(t,e){return 0==goog.string.caseInsensitiveCompare(e,t.substr(t.length-e.length,e.length))},goog.string.caseInsensitiveEquals=function(t,e){return t.toLowerCase()==e.toLowerCase()},goog.string.subs=function(t,e){for(var r=t.split("%s"),n="",o=Array.prototype.slice.call(arguments,1);o.length&&1<r.length;)n+=r.shift()+o.shift();return n+r.join("%s")},goog.string.collapseWhitespace=function(t){return t.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=function(t){return/^[\s\xa0]*$/.test(t)},goog.string.isEmptyString=function(t){return 0==t.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(t){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(t))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(t){return!/[^\t\n\r ]/.test(t)},goog.string.isAlpha=function(t){return!/[^a-zA-Z]/.test(t)},goog.string.isNumeric=function(t){return!/[^0-9]/.test(t)},goog.string.isAlphaNumeric=function(t){return!/[^a-zA-Z0-9]/.test(t)},goog.string.isSpace=function(t){return" "==t},goog.string.isUnicodeChar=function(t){return 1==t.length&&" "<=t&&t<="~"||""<=t&&t<="�"},goog.string.stripNewlines=function(t){return t.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(t){return t.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(t){return t.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(t){return t.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(t){return t.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(t){return t.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(t){return t.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(t,e){var r=String(t).toLowerCase(),n=String(e).toLowerCase();return r<n?-1:r==n?0:1},goog.string.numberAwareCompare_=function(t,e,r){if(t==e)return 0;if(!t)return-1;if(!e)return 1;for(var n=t.toLowerCase().match(r),o=e.toLowerCase().match(r),i=Math.min(n.length,o.length),a=0;a<i;a++){r=n[a];var s=o[a];if(r!=s)return t=parseInt(r,10),!isNaN(t)&&(e=parseInt(s,10),!isNaN(e)&&t-e)?t-e:r<s?-1:1}return n.length!=o.length?n.length-o.length:t<e?-1:1},goog.string.intAwareCompare=function(t,e){return goog.string.numberAwareCompare_(t,e,/\d+|\D+/g)},goog.string.floatAwareCompare=function(t,e){return goog.string.numberAwareCompare_(t,e,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(t){return encodeURIComponent(String(t))},goog.string.urlDecode=function(t){return decodeURIComponent(t.replace(/\+/g," "))},goog.string.newLineToBr=function(t,e){return t.replace(/(\r\n|\r|\n)/g,e?"<br />":"<br>")},goog.string.htmlEscape=function(t,e){if(e)t=t.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(t=t.replace(goog.string.E_RE_,"&#101;"));else{if(!goog.string.ALL_RE_.test(t))return t;-1!=t.indexOf("&")&&(t=t.replace(goog.string.AMP_RE_,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(goog.string.LT_RE_,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(goog.string.GT_RE_,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(goog.string.QUOT_RE_,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&-1!=t.indexOf("e")&&(t=t.replace(goog.string.E_RE_,"&#101;"))}return t},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/'/g,goog.string.NULL_RE_=/\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,goog.string.unescapeEntities=function(t){return goog.string.contains(t,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(t):goog.string.unescapePureXmlEntities_(t):t},goog.string.unescapeEntitiesWithDocument=function(t,e){return goog.string.contains(t,"&")?goog.string.unescapeEntitiesUsingDom_(t,e):t},goog.string.unescapeEntitiesUsingDom_=function(t,e){var o={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},i=e?e.createElement("div"):goog.global.document.createElement("div");return t.replace(goog.string.HTML_ENTITY_PATTERN_,function(t,e){var r=o[t];if(r)return r;if("#"==e.charAt(0)){var n=Number("0"+e.substr(1));isNaN(n)||(r=String.fromCharCode(n))}return r||(i.innerHTML=t+" ",r=i.firstChild.nodeValue.slice(0,-1)),o[t]=r})},goog.string.unescapePureXmlEntities_=function(t){return t.replace(/&([^;]+);/g,function(t,e){switch(e){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==e.charAt(0)){var r=Number("0"+e.substr(1));if(!isNaN(r))return String.fromCharCode(r)}return t}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(t,e){return goog.string.newLineToBr(t.replace(/  /g," &#160;"),e)},goog.string.preserveSpaces=function(t){return t.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(t,e){for(var r=e.length,n=0;n<r;n++){var o=1==r?e:e.charAt(n);if(t.charAt(0)==o&&t.charAt(t.length-1)==o)return t.substring(1,t.length-1)}return t},goog.string.truncate=function(t,e,r){return r&&(t=goog.string.unescapeEntities(t)),t.length>e&&(t=t.substring(0,e-3)+"..."),r&&(t=goog.string.htmlEscape(t)),t},goog.string.truncateMiddle=function(t,e,r,n){if(r&&(t=goog.string.unescapeEntities(t)),n&&t.length>e){e<n&&(n=e);var o=t.length-n;t=t.substring(0,e-n)+"..."+t.substring(o)}else t.length>e&&(n=Math.floor(e/2),o=t.length-n,t=t.substring(0,n+e%2)+"..."+t.substring(o));return r&&(t=goog.string.htmlEscape(t)),t},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(t){t=String(t);for(var e=['"'],r=0;r<t.length;r++){var n=t.charAt(r),o=n.charCodeAt(0);e[r+1]=goog.string.specialEscapeChars_[n]||(31<o&&o<127?n:goog.string.escapeChar(n))}return e.push('"'),e.join("")},goog.string.escapeString=function(t){for(var e=[],r=0;r<t.length;r++)e[r]=goog.string.escapeChar(t.charAt(r));return e.join("")},goog.string.escapeChar=function(t){if(t in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[t];if(t in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[t]=goog.string.specialEscapeChars_[t];var e=t.charCodeAt(0);if(31<e&&e<127)var r=t;else e<256?(r="\\x",(e<16||256<e)&&(r+="0")):(r="\\u",e<4096&&(r+="0")),r+=e.toString(16).toUpperCase();return goog.string.jsEscapeCache_[t]=r},goog.string.contains=function(t,e){return-1!=t.indexOf(e)},goog.string.caseInsensitiveContains=function(t,e){return goog.string.contains(t.toLowerCase(),e.toLowerCase())},goog.string.countOf=function(t,e){return t&&e?t.split(e).length-1:0},goog.string.removeAt=function(t,e,r){var n=t;return 0<=e&&e<t.length&&0<r&&(n=t.substr(0,e)+t.substr(e+r,t.length-e-r)),n},goog.string.remove=function(t,e){return t.replace(e,"")},goog.string.removeAll=function(t,e){var r=new RegExp(goog.string.regExpEscape(e),"g");return t.replace(r,"")},goog.string.replaceAll=function(t,e,r){return e=new RegExp(goog.string.regExpEscape(e),"g"),t.replace(e,r.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(t){return String(t).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(t,e){return t.repeat(e)}:function(t,e){return Array(e+1).join(t)},goog.string.padNumber=function(t,e,r){return-1==(r=(t=goog.isDef(r)?t.toFixed(r):String(t)).indexOf("."))&&(r=t.length),goog.string.repeat("0",Math.max(0,e-r))+t},goog.string.makeSafe=function(t){return null==t?"":String(t)},goog.string.buildString=function(t){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=function(t,e){for(var r=0,n=goog.string.trim(String(t)).split("."),o=goog.string.trim(String(e)).split("."),i=Math.max(n.length,o.length),a=0;0==r&&a<i;a++){var s=n[a]||"",c=o[a]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==s[0].length&&0==c[0].length)break;r=0==s[1].length?0:parseInt(s[1],10);var u=0==c[1].length?0:parseInt(c[1],10);r=goog.string.compareElements_(r,u)||goog.string.compareElements_(0==s[2].length,0==c[2].length)||goog.string.compareElements_(s[2],c[2]),s=s[3],c=c[3]}while(0==r)}return r},goog.string.compareElements_=function(t,e){return t<e?-1:e<t?1:0},goog.string.hashCode=function(t){for(var e=0,r=0;r<t.length;++r)e=31*e+t.charCodeAt(r)>>>0;return e},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(t){var e=Number(t);return 0==e&&goog.string.isEmptyOrWhitespace(t)?NaN:e},goog.string.isLowerCamelCase=function(t){return/^[a-z]+([A-Z][a-z]*)*$/.test(t)},goog.string.isUpperCamelCase=function(t){return/^([A-Z][a-z]*)+$/.test(t)},goog.string.toCamelCase=function(t){return String(t).replace(/\-([a-z])/g,function(t,e){return e.toUpperCase()})},goog.string.toSelectorCase=function(t){return String(t).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(t,e){var r=goog.isString(e)?goog.string.regExpEscape(e):"\\s";return t.replace(new RegExp("(^"+(r?"|["+r+"]+":"")+")([a-z])","g"),function(t,e,r){return e+r.toUpperCase()})},goog.string.capitalize=function(t){return String(t.charAt(0)).toUpperCase()+String(t.substr(1)).toLowerCase()},goog.string.parseInt=function(t){return isFinite(t)&&(t=String(t)),goog.isString(t)?/^\s*-?0x/i.test(t)?parseInt(t,16):parseInt(t,10):NaN},goog.string.splitLimit=function(t,e,r){t=t.split(e);for(var n=[];0<r&&t.length;)n.push(t.shift()),r--;return t.length&&n.push(t.join(e)),n},goog.string.lastComponent=function(t,e){if(!e)return t;"string"==typeof e&&(e=[e]);for(var r=-1,n=0;n<e.length;n++)if(""!=e[n]){var o=t.lastIndexOf(e[n]);r<o&&(r=o)}return-1==r?t:t.slice(r+1)},goog.string.editDistance=function(t,e){var r=[],n=[];if(t==e)return 0;if(!t.length||!e.length)return Math.max(t.length,e.length);for(var o=0;o<e.length+1;o++)r[o]=o;for(o=0;o<t.length;o++){n[0]=o+1;for(var i=0;i<e.length;i++)n[i+1]=Math.min(n[i]+1,r[i+1]+1,r[i]+Number(t[o]!=e[i]));for(i=0;i<r.length;i++)r[i]=n[i]}return n[e.length]},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(t,e){e.unshift(t),goog.debug.Error.call(this,goog.string.subs.apply(null,e)),e.shift(),this.messagePattern=t},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(t){throw t},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.doAssertFailure_=function(t,e,r,n){var o="Assertion failed";if(r){o+=": "+r;var i=n}else t&&(o+=": "+t,i=e);t=new goog.asserts.AssertionError(""+o,i||[]),goog.asserts.errorHandler_(t)},goog.asserts.setErrorHandler=function(t){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=t)},goog.asserts.assert=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!t&&goog.asserts.doAssertFailure_("",null,e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.fail=function(t,e){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(t)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertString=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(t)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertFunction=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(t)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertObject=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(t)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertArray=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(t)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertBoolean=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(t)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertElement=function(t,e,r){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(t)&&t.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertInstanceof=function(t,e,r,n){return!goog.asserts.ENABLE_ASSERTS||t instanceof e||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(e),goog.asserts.getType_(t)],r,Array.prototype.slice.call(arguments,3)),t},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var t in Object.prototype)goog.asserts.fail(t+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(t){return t instanceof Function?t.displayName||t.name||"unknown type name":t instanceof Object?t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t):null===t?"null":typeof t},goog.object={},goog.object.is=function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},goog.object.forEach=function(t,e,r){for(var n in t)e.call(r,t[n],n,t)},goog.object.filter=function(t,e,r){var n,o={};for(n in t)e.call(r,t[n],n,t)&&(o[n]=t[n]);return o},goog.object.map=function(t,e,r){var n,o={};for(n in t)o[n]=e.call(r,t[n],n,t);return o},goog.object.some=function(t,e,r){for(var n in t)if(e.call(r,t[n],n,t))return!0;return!1},goog.object.every=function(t,e,r){for(var n in t)if(!e.call(r,t[n],n,t))return!1;return!0},goog.object.getCount=function(t){var e,r=0;for(e in t)r++;return r},goog.object.getAnyKey=function(t){for(var e in t)return e},goog.object.getAnyValue=function(t){for(var e in t)return t[e]},goog.object.contains=function(t,e){return goog.object.containsValue(t,e)},goog.object.getValues=function(t){var e,r=[],n=0;for(e in t)r[n++]=t[e];return r},goog.object.getKeys=function(t){var e,r=[],n=0;for(e in t)r[n++]=e;return r},goog.object.getValueByKeys=function(t,e){for(var r=(n=goog.isArrayLike(e))?e:arguments,n=n?0:1;n<r.length&&(t=t[r[n]],goog.isDef(t));n++);return t},goog.object.containsKey=function(t,e){return null!==t&&e in t},goog.object.containsValue=function(t,e){for(var r in t)if(t[r]==e)return!0;return!1},goog.object.findKey=function(t,e,r){for(var n in t)if(e.call(r,t[n],n,t))return n},goog.object.findValue=function(t,e,r){return(e=goog.object.findKey(t,e,r))&&t[e]},goog.object.isEmpty=function(t){for(var e in t)return!1;return!0},goog.object.clear=function(t){for(var e in t)delete t[e]},goog.object.remove=function(t,e){var r;return(r=e in t)&&delete t[e],r},goog.object.add=function(t,e,r){if(null!==t&&e in t)throw Error('The object already contains the key "'+e+'"');goog.object.set(t,e,r)},goog.object.get=function(t,e,r){return null!==t&&e in t?t[e]:r},goog.object.set=function(t,e,r){t[e]=r},goog.object.setIfUndefined=function(t,e,r){return e in t?t[e]:t[e]=r},goog.object.setWithReturnValueIfNotSet=function(t,e,r){return e in t?t[e]:(r=r(),t[e]=r)},goog.object.equals=function(t,e){for(var r in t)if(!(r in e)||t[r]!==e[r])return!1;for(r in e)if(!(r in t))return!1;return!0},goog.object.clone=function(t){var e,r={};for(e in t)r[e]=t[e];return r},goog.object.unsafeClone=function(t){if("object"!=(r=goog.typeOf(t))&&"array"!=r)return t;if(goog.isFunction(t.clone))return t.clone();var e,r="array"==r?[]:{};for(e in t)r[e]=goog.object.unsafeClone(t[e]);return r},goog.object.transpose=function(t){var e,r={};for(e in t)r[t[e]]=e;return r},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(t,e){for(var r,n,o=1;o<arguments.length;o++){for(r in n=arguments[o])t[r]=n[r];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)r=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}},goog.object.create=function(t){var e=arguments.length;if(1==e&&goog.isArray(t))return goog.object.create.apply(null,t);if(e%2)throw Error("Uneven number of arguments");for(var r={},n=0;n<e;n+=2)r[arguments[n]]=arguments[n+1];return r},goog.object.createSet=function(t){var e=arguments.length;if(1==e&&goog.isArray(t))return goog.object.createSet.apply(null,t);for(var r={},n=0;n<e;n++)r[arguments[n]]=!0;return r},goog.object.createImmutableView=function(t){var e=t;return Object.isFrozen&&!Object.isFrozen(t)&&(e=Object.create(t),Object.freeze(e)),e},goog.object.isImmutableView=function(t){return!!Object.isFrozen&&Object.isFrozen(t)},goog.object.getAllPropertyNames=function(t,e,r){if(!t)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(t);for(var n={};t&&(t!==Object.prototype||e)&&(t!==Function.prototype||r);){for(var o=Object.getOwnPropertyNames(t),i=0;i<o.length;i++)n[o[i]]=!0;t=Object.getPrototypeOf(t)}return goog.object.getKeys(n)},goog.reflect={},goog.reflect.object=function(t,e){return e},goog.reflect.objectProperty=function(t,e){return t},goog.reflect.sinkValue=function(t){return goog.reflect.sinkValue[" "](t),t},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(t,e){try{return goog.reflect.sinkValue(t[e]),!0}catch(t){}return!1},goog.reflect.cache=function(t,e,r,n){return n=n?n(e):e,Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=r(e)},goog.math={},goog.math.Long=function(t,e){this.low_=0|t,this.high_=0|e},goog.math.Long.IntCache_={},goog.math.Long.valueCache_={},goog.math.Long.getCachedIntValue_=function(t){return goog.reflect.cache(goog.math.Long.IntCache_,t,function(t){return new goog.math.Long(t,t<0?-1:0)})},goog.math.Long.MAX_VALUE_FOR_RADIX_="  111111111111111111111111111111111111111111111111111111111111111 2021110011022210012102010021220101220221 13333333333333333333333333333333 1104332401304422434310311212 1540241003031030222122211 22341010611245052052300 777777777777777777777 67404283172107811827 9223372036854775807 1728002635214590697 41a792678515120367 10b269549075433c37 4340724c6c71dc7a7 160e2ad3246366807 7fffffffffffffff 33d3d8307b214008 16agh595df825fa7 ba643dci0ffeehh 5cbfjia3fh26ja7 2heiciiie82dh97 1adaibb21dckfa7 i6k448cf4192c2 acd772jnc9l0l7 64ie1focnn5g77 3igoecjbmca687 27c48l5b37oaop 1bk39f3ah3dmq7 q1se8f0m04isb hajppbc1fc207 bm03i95hia437 7vvvvvvvvvvvv 5hg4ck9jd4u37 3tdtk1v8j6tpp 2pijmikexrxp7 1y2p0ij32e8e7".split(" "),goog.math.Long.MIN_VALUE_FOR_RADIX_="  -1000000000000000000000000000000000000000000000000000000000000000 -2021110011022210012102010021220101220222 -20000000000000000000000000000000 -1104332401304422434310311213 -1540241003031030222122212 -22341010611245052052301 -1000000000000000000000 -67404283172107811828 -9223372036854775808 -1728002635214590698 -41a792678515120368 -10b269549075433c38 -4340724c6c71dc7a8 -160e2ad3246366808 -8000000000000000 -33d3d8307b214009 -16agh595df825fa8 -ba643dci0ffeehi -5cbfjia3fh26ja8 -2heiciiie82dh98 -1adaibb21dckfa8 -i6k448cf4192c3 -acd772jnc9l0l8 -64ie1focnn5g78 -3igoecjbmca688 -27c48l5b37oaoq -1bk39f3ah3dmq8 -q1se8f0m04isc -hajppbc1fc208 -bm03i95hia438 -8000000000000 -5hg4ck9jd4u38 -3tdtk1v8j6tpq -2pijmikexrxp8 -1y2p0ij32e8e8".split(" "),goog.math.Long.fromInt=function(t){var e=0|t;return goog.asserts.assert(t===e,"value should be a 32-bit integer"),-128<=e&&e<128?goog.math.Long.getCachedIntValue_(e):new goog.math.Long(e,e<0?-1:0)},goog.math.Long.fromNumber=function(t){return isNaN(t)?goog.math.Long.getZero():t<=-goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.getMinValue():t+1>=goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.getMaxValue():t<0?goog.math.Long.fromNumber(-t).negate():new goog.math.Long(t%goog.math.Long.TWO_PWR_32_DBL_|0,t/goog.math.Long.TWO_PWR_32_DBL_|0)},goog.math.Long.fromBits=function(t,e){return new goog.math.Long(t,e)},goog.math.Long.fromString=function(t,e){if(0==t.length)throw Error("number format error: empty string");var r=e||10;if(r<2||36<r)throw Error("radix out of range: "+r);if("-"==t.charAt(0))return goog.math.Long.fromString(t.substring(1),r).negate();if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character: '+t);for(var n=goog.math.Long.fromNumber(Math.pow(r,8)),o=goog.math.Long.getZero(),i=0;i<t.length;i+=8){var a=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+a),r);o=a<8?(a=goog.math.Long.fromNumber(Math.pow(r,a)),o.multiply(a).add(goog.math.Long.fromNumber(s))):(o=o.multiply(n)).add(goog.math.Long.fromNumber(s))}return o},goog.math.Long.isStringInRange=function(t,e){var r=e||10;if(r<2||36<r)throw Error("radix out of range: "+r);return r="-"==t.charAt(0)?goog.math.Long.MIN_VALUE_FOR_RADIX_[r]:goog.math.Long.MAX_VALUE_FOR_RADIX_[r],t.length<r.length||t.length==r.length&&t<=r},goog.math.Long.TWO_PWR_16_DBL_=65536,goog.math.Long.TWO_PWR_32_DBL_=goog.math.Long.TWO_PWR_16_DBL_*goog.math.Long.TWO_PWR_16_DBL_,goog.math.Long.TWO_PWR_64_DBL_=goog.math.Long.TWO_PWR_32_DBL_*goog.math.Long.TWO_PWR_32_DBL_,goog.math.Long.TWO_PWR_63_DBL_=goog.math.Long.TWO_PWR_64_DBL_/2,goog.math.Long.getZero=function(){return goog.math.Long.getCachedIntValue_(0)},goog.math.Long.getOne=function(){return goog.math.Long.getCachedIntValue_(1)},goog.math.Long.getNegOne=function(){return goog.math.Long.getCachedIntValue_(-1)},goog.math.Long.getMaxValue=function(){return goog.reflect.cache(goog.math.Long.valueCache_,goog.math.Long.ValueCacheId_.MAX_VALUE,function(){return goog.math.Long.fromBits(-1,2147483647)})},goog.math.Long.getMinValue=function(){return goog.reflect.cache(goog.math.Long.valueCache_,goog.math.Long.ValueCacheId_.MIN_VALUE,function(){return goog.math.Long.fromBits(0,-2147483648)})},goog.math.Long.getTwoPwr24=function(){return goog.reflect.cache(goog.math.Long.valueCache_,goog.math.Long.ValueCacheId_.TWO_PWR_24,function(){return goog.math.Long.fromInt(16777216)})},goog.math.Long.prototype.toInt=function(){return this.low_},goog.math.Long.prototype.toNumber=function(){return this.high_*goog.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},goog.math.Long.prototype.toString=function(t){if((t=t||10)<2||36<t)throw Error("radix out of range: "+t);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(goog.math.Long.getMinValue())){var e=goog.math.Long.fromNumber(t),r=this.div(e);return e=r.multiply(e).subtract(this),r.toString(t)+e.toInt().toString(t)}return"-"+this.negate().toString(t)}r=goog.math.Long.fromNumber(Math.pow(t,6)),e=this;for(var n="";;){var o=e.div(r),i=(e.subtract(o.multiply(r)).toInt()>>>0).toString(t);if((e=o).isZero())return i+n;for(;i.length<6;)i="0"+i;n=""+i+n}},goog.math.Long.prototype.getHighBits=function(){return this.high_},goog.math.Long.prototype.getLowBits=function(){return this.low_},goog.math.Long.prototype.getLowBitsUnsigned=function(){return 0<=this.low_?this.low_:goog.math.Long.TWO_PWR_32_DBL_+this.low_},goog.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(goog.math.Long.getMinValue())?64:this.negate().getNumBitsAbs();for(var t=0!=this.high_?this.high_:this.low_,e=31;0<e&&0==(t&1<<e);e--);return 0!=this.high_?e+33:e+1},goog.math.Long.prototype.isZero=function(){return 0==this.high_&&0==this.low_},goog.math.Long.prototype.isNegative=function(){return this.high_<0},goog.math.Long.prototype.isOdd=function(){return 1==(1&this.low_)},goog.math.Long.prototype.equals=function(t){return this.high_==t.high_&&this.low_==t.low_},goog.math.Long.prototype.notEquals=function(t){return this.high_!=t.high_||this.low_!=t.low_},goog.math.Long.prototype.lessThan=function(t){return this.compare(t)<0},goog.math.Long.prototype.lessThanOrEqual=function(t){return this.compare(t)<=0},goog.math.Long.prototype.greaterThan=function(t){return 0<this.compare(t)},goog.math.Long.prototype.greaterThanOrEqual=function(t){return 0<=this.compare(t)},goog.math.Long.prototype.compare=function(t){if(this.equals(t))return 0;var e=this.isNegative(),r=t.isNegative();return e&&!r?-1:!e&&r?1:this.subtract(t).isNegative()?-1:1},goog.math.Long.prototype.negate=function(){return this.equals(goog.math.Long.getMinValue())?goog.math.Long.getMinValue():this.not().add(goog.math.Long.getOne())},goog.math.Long.prototype.add=function(t){var e=this.high_>>>16,r=65535&this.high_,n=this.low_>>>16,o=t.high_>>>16,i=65535&t.high_,a=t.low_>>>16;return n=0+((a=0+((t=(65535&this.low_)+(65535&t.low_)+0)>>>16)+(n+a))>>>16),e=0+((n+=r+i)>>>16)+(e+o)&65535,goog.math.Long.fromBits((65535&a)<<16|65535&t,e<<16|65535&n)},goog.math.Long.prototype.subtract=function(t){return this.add(t.negate())},goog.math.Long.prototype.multiply=function(t){if(this.isZero()||t.isZero())return goog.math.Long.getZero();if(this.equals(goog.math.Long.getMinValue()))return t.isOdd()?goog.math.Long.getMinValue():goog.math.Long.getZero();if(t.equals(goog.math.Long.getMinValue()))return this.isOdd()?goog.math.Long.getMinValue():goog.math.Long.getZero();if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(goog.math.Long.getTwoPwr24())&&t.lessThan(goog.math.Long.getTwoPwr24()))return goog.math.Long.fromNumber(this.toNumber()*t.toNumber());var e=this.high_>>>16,r=65535&this.high_,n=this.low_>>>16,o=65535&this.low_,i=t.high_>>>16,a=65535&t.high_,s=t.low_>>>16,c=0+o*(t=65535&t.low_),u=0+(c>>>16)+n*t,g=0+(u>>>16);g+=(u=(65535&u)+o*s)>>>16;var l=0+((g+=r*t)>>>16);return l=(l+=(g=(65535&g)+n*s)>>>16)+((g=(65535&g)+o*a)>>>16)+(e*t+r*s+n*a+o*i)&65535,goog.math.Long.fromBits((65535&u)<<16|65535&c,l<<16|65535&g)},goog.math.Long.prototype.div=function(t){if(t.isZero())throw Error("division by zero");if(this.isZero())return goog.math.Long.getZero();if(this.equals(goog.math.Long.getMinValue())){if(t.equals(goog.math.Long.getOne())||t.equals(goog.math.Long.getNegOne()))return goog.math.Long.getMinValue();if(t.equals(goog.math.Long.getMinValue()))return goog.math.Long.getOne();var e=this.shiftRight(1);if((e=e.div(t).shiftLeft(1)).equals(goog.math.Long.getZero()))return t.isNegative()?goog.math.Long.getOne():goog.math.Long.getNegOne();var r=this.subtract(t.multiply(e));return e.add(r.div(t))}if(t.equals(goog.math.Long.getMinValue()))return goog.math.Long.getZero();if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();var n=goog.math.Long.getZero();for(r=this;r.greaterThanOrEqual(t);){e=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var o=(o=Math.ceil(Math.log(e)/Math.LN2))<=48?1:Math.pow(2,o-48),i=goog.math.Long.fromNumber(e),a=i.multiply(t);a.isNegative()||a.greaterThan(r);)e-=o,a=(i=goog.math.Long.fromNumber(e)).multiply(t);i.isZero()&&(i=goog.math.Long.getOne()),n=n.add(i),r=r.subtract(a)}return n},goog.math.Long.prototype.modulo=function(t){return this.subtract(this.div(t).multiply(t))},goog.math.Long.prototype.not=function(){return goog.math.Long.fromBits(~this.low_,~this.high_)},goog.math.Long.prototype.and=function(t){return goog.math.Long.fromBits(this.low_&t.low_,this.high_&t.high_)},goog.math.Long.prototype.or=function(t){return goog.math.Long.fromBits(this.low_|t.low_,this.high_|t.high_)},goog.math.Long.prototype.xor=function(t){return goog.math.Long.fromBits(this.low_^t.low_,this.high_^t.high_)},goog.math.Long.prototype.shiftLeft=function(t){if(0==(t&=63))return this;var e=this.low_;return t<32?goog.math.Long.fromBits(e<<t,this.high_<<t|e>>>32-t):goog.math.Long.fromBits(0,e<<t-32)},goog.math.Long.prototype.shiftRight=function(t){if(0==(t&=63))return this;var e=this.high_;return t<32?goog.math.Long.fromBits(this.low_>>>t|e<<32-t,e>>t):goog.math.Long.fromBits(e>>t-32,0<=e?0:-1)},goog.math.Long.prototype.shiftRightUnsigned=function(t){if(0==(t&=63))return this;var e=this.high_;return t<32?goog.math.Long.fromBits(this.low_>>>t|e<<32-t,e>>>t):32==t?goog.math.Long.fromBits(e,0):goog.math.Long.fromBits(e>>>t-32,0)},goog.math.Long.ValueCacheId_={MAX_VALUE:1,MIN_VALUE:2,TWO_PWR_24:6};var com={cognitect:{}};com.cognitect.transit={},com.cognitect.transit.delimiters={},com.cognitect.transit.delimiters.ESC="~",com.cognitect.transit.delimiters.TAG="#",com.cognitect.transit.delimiters.SUB="^",com.cognitect.transit.delimiters.RES="`",com.cognitect.transit.delimiters.ESC_TAG="~#",com.cognitect.transit.caching={},com.cognitect.transit.caching.MIN_SIZE_CACHEABLE=3,com.cognitect.transit.caching.BASE_CHAR_IDX=48,com.cognitect.transit.caching.CACHE_CODE_DIGITS=44,com.cognitect.transit.caching.MAX_CACHE_ENTRIES=com.cognitect.transit.caching.CACHE_CODE_DIGITS*com.cognitect.transit.caching.CACHE_CODE_DIGITS,com.cognitect.transit.caching.MAX_CACHE_SIZE=4096,com.cognitect.transit.caching.isCacheable=function(t,e){if(t.length>com.cognitect.transit.caching.MIN_SIZE_CACHEABLE){if(e)return!0;var r=t.charAt(0),n=t.charAt(1);return r===com.cognitect.transit.delimiters.ESC&&(":"===n||"$"===n||"#"===n)}return!1},com.cognitect.transit.caching.idxToCode=function(t){var e=Math.floor(t/com.cognitect.transit.caching.CACHE_CODE_DIGITS);return t=String.fromCharCode(t%com.cognitect.transit.caching.CACHE_CODE_DIGITS+com.cognitect.transit.caching.BASE_CHAR_IDX),0===e?com.cognitect.transit.delimiters.SUB+t:com.cognitect.transit.delimiters.SUB+String.fromCharCode(e+com.cognitect.transit.caching.BASE_CHAR_IDX)+t},com.cognitect.transit.caching.WriteCache=function(){this.cacheSize=this.gen=this.idx=0,this.cache={}},com.cognitect.transit.caching.WriteCache.prototype.write=function(t,e){if(com.cognitect.transit.caching.isCacheable(t,e)){this.cacheSize===com.cognitect.transit.caching.MAX_CACHE_SIZE?(this.clear(),this.gen=0,this.cache={}):this.idx===com.cognitect.transit.caching.MAX_CACHE_ENTRIES&&this.clear();var r=this.cache[t];return null==r?(this.cache[t]=[com.cognitect.transit.caching.idxToCode(this.idx),this.gen],this.idx++,t):r[1]!=this.gen?(r[1]=this.gen,r[0]=com.cognitect.transit.caching.idxToCode(this.idx),this.idx++,t):r[0]}return t},com.cognitect.transit.caching.WriteCache.prototype.clear=function(){this.idx=0,this.gen++},com.cognitect.transit.caching.writeCache=function(){return new com.cognitect.transit.caching.WriteCache},com.cognitect.transit.caching.isCacheCode=function(t){return t.charAt(0)===com.cognitect.transit.delimiters.SUB&&" "!==t.charAt(1)},com.cognitect.transit.caching.codeToIdx=function(t){return 2===t.length?t.charCodeAt(1)-com.cognitect.transit.caching.BASE_CHAR_IDX:(t.charCodeAt(1)-com.cognitect.transit.caching.BASE_CHAR_IDX)*com.cognitect.transit.caching.CACHE_CODE_DIGITS+(t=t.charCodeAt(2)-com.cognitect.transit.caching.BASE_CHAR_IDX)},com.cognitect.transit.caching.ReadCache=function(){this.idx=0,this.cache=[]},com.cognitect.transit.caching.ReadCache.prototype.write=function(t,e){return this.idx==com.cognitect.transit.caching.MAX_CACHE_ENTRIES&&(this.idx=0),this.cache[this.idx]=t,this.idx++,t},com.cognitect.transit.caching.ReadCache.prototype.read=function(t,e){return this.cache[com.cognitect.transit.caching.codeToIdx(t)]},com.cognitect.transit.caching.ReadCache.prototype.clear=function(){this.idx=0},com.cognitect.transit.caching.readCache=function(){return new com.cognitect.transit.caching.ReadCache},com.cognitect.transit.util={},com.cognitect.transit.util.objectKeys=void 0!==Object.keys?function(t){return Object.keys(t)}:function(t){return goog.object.getKeys(t)},com.cognitect.transit.util.isArray=void 0!==Array.isArray?function(t){return Array.isArray(t)}:function(t){return"array"===goog.typeOf(t)},com.cognitect.transit.util.chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",com.cognitect.transit.util.randInt=function(t){return Math.round(Math.random()*t)},com.cognitect.transit.util.randHex=function(){return com.cognitect.transit.util.randInt(15).toString(16)},com.cognitect.transit.util.randomUUID=function(){var t=(8|3&com.cognitect.transit.util.randInt(14)).toString(16);return com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-4"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+t+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()},com.cognitect.transit.util.btoa=function(t){if("undefined"!=typeof btoa)return btoa(t);t=String(t);for(var e,r,n=0,o=com.cognitect.transit.util.chars,i="";t.charAt(0|n)||(o="=",n%1);i+=o.charAt(63&e>>8-n%1*8)){if(255<(r=t.charCodeAt(n+=.75)))throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");e=e<<8|r}return i},com.cognitect.transit.util.atob=function(t){if("undefined"!=typeof atob)return atob(t);if(1==(t=String(t).replace(/=+$/,"")).length%4)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,r,n=0,o=0,i="";r=t.charAt(o++);~r&&(e=n%4?64*e+r:r,n++%4)?i+=String.fromCharCode(255&e>>(-2*n&6)):0)r=com.cognitect.transit.util.chars.indexOf(r);return i},com.cognitect.transit.util.Uint8ToBase64=function(t){for(var e,r=0,n=t.length,o="";r<n;)e=t.subarray(r,Math.min(r+32768,n)),o+=String.fromCharCode.apply(null,e),r+=32768;return com.cognitect.transit.util.btoa(o)},com.cognitect.transit.util.Base64ToUint8=function(t){for(var e=(t=com.cognitect.transit.util.atob(t)).length,r=new Uint8Array(e),n=0;n<e;n++){var o=t.charCodeAt(n);r[n]=o}return r},com.cognitect.transit.eq={},com.cognitect.transit.eq.hashCodeProperty="transit$hashCode$",com.cognitect.transit.eq.hashCodeCounter=1,com.cognitect.transit.eq.equals=function(t,e){if(null==t)return null==e;if(t===e)return!0;if("object"==typeof t){if(com.cognitect.transit.util.isArray(t)){if(com.cognitect.transit.util.isArray(e)&&t.length===e.length){for(var r=0;r<t.length;r++)if(!com.cognitect.transit.eq.equals(t[r],e[r]))return!1;return!0}return!1}if(t.com$cognitect$transit$equals)return t.com$cognitect$transit$equals(e);if(null!=e&&"object"==typeof e){if(e.com$cognitect$transit$equals)return e.com$cognitect$transit$equals(t);r=0;var n,o=com.cognitect.transit.util.objectKeys(e).length;for(n in t)if(t.hasOwnProperty(n)&&(r++,!e.hasOwnProperty(n)||!com.cognitect.transit.eq.equals(t[n],e[n])))return!1;return r===o}}return!1},com.cognitect.transit.eq.hashCombine=function(t,e){return t^e+2654435769+(t<<6)+(t>>2)},com.cognitect.transit.eq.stringCodeCache={},com.cognitect.transit.eq.stringCodeCacheSize=0,com.cognitect.transit.eq.STR_CACHE_MAX=256,com.cognitect.transit.eq.hashString=function(t){var e=com.cognitect.transit.eq.stringCodeCache[t];if(null!=e)return e;for(var r=e=0;r<t.length;++r)e=31*e+t.charCodeAt(r),e%=4294967296;return com.cognitect.transit.eq.stringCodeCacheSize++,com.cognitect.transit.eq.stringCodeCacheSize>=com.cognitect.transit.eq.STR_CACHE_MAX&&(com.cognitect.transit.eq.stringCodeCache={},com.cognitect.transit.eq.stringCodeCacheSize=1),com.cognitect.transit.eq.stringCodeCache[t]=e},com.cognitect.transit.eq.hashMapLike=function(t){var n=0;if(null!=t.forEach)t.forEach(function(t,e,r){n=(n+(com.cognitect.transit.eq.hashCode(e)^com.cognitect.transit.eq.hashCode(t)))%4503599627370496});else for(var e=com.cognitect.transit.util.objectKeys(t),r=0;r<e.length;r++){var o=e[r],i=t[o];n=(n+(com.cognitect.transit.eq.hashCode(o)^com.cognitect.transit.eq.hashCode(i)))%4503599627370496}return n},com.cognitect.transit.eq.hashArrayLike=function(t){var r=0;if(com.cognitect.transit.util.isArray(t))for(var e=0;e<t.length;e++)r=com.cognitect.transit.eq.hashCombine(r,com.cognitect.transit.eq.hashCode(t[e]));else t.forEach&&t.forEach(function(t,e){r=com.cognitect.transit.eq.hashCombine(r,com.cognitect.transit.eq.hashCode(t))});return r},com.cognitect.transit.eq.hashCode=function(t){if(null==t)return 0;switch(typeof t){case"number":return t;case"boolean":return!0===t?1:0;case"string":return com.cognitect.transit.eq.hashString(t);case"function":var e=t[com.cognitect.transit.eq.hashCodeProperty];return e||(e=com.cognitect.transit.eq.hashCodeCounter,void 0!==Object.defineProperty?Object.defineProperty(t,com.cognitect.transit.eq.hashCodeProperty,{value:e,enumerable:!1}):t[com.cognitect.transit.eq.hashCodeProperty]=e,com.cognitect.transit.eq.hashCodeCounter++),e;default:return t instanceof Date?t.valueOf():com.cognitect.transit.util.isArray(t)?com.cognitect.transit.eq.hashArrayLike(t):t.com$cognitect$transit$hashCode?t.com$cognitect$transit$hashCode():com.cognitect.transit.eq.hashMapLike(t)}},com.cognitect.transit.eq.extendToEQ=function(t,e){return t.com$cognitect$transit$hashCode=e.hashCode,t.com$cognitect$transit$equals=e.equals,t},com.cognitect.transit.types={},com.cognitect.transit.types.ITERATOR="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",com.cognitect.transit.types.TaggedValue=function(t,e){this.tag=t,this.rep=e,this.hashCode=-1},com.cognitect.transit.types.TaggedValue.prototype.toString=function(){return"[TaggedValue: "+this.tag+", "+this.rep+"]"},com.cognitect.transit.types.TaggedValue.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)},com.cognitect.transit.types.TaggedValue.prototype.equiv=com.cognitect.transit.types.TaggedValue.prototype.equiv,com.cognitect.transit.types.TaggedValue.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&(this.tag===t.tag&&com.cognitect.transit.eq.equals(this.rep,t.rep))},com.cognitect.transit.types.TaggedValue.prototype.com$cognitect$transit$hashCode=function(){return-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashCombine(com.cognitect.transit.eq.hashCode(this.tag),com.cognitect.transit.eq.hashCode(this.rep))),this.hashCode},com.cognitect.transit.types.taggedValue=function(t,e){return new com.cognitect.transit.types.TaggedValue(t,e)},com.cognitect.transit.types.isTaggedValue=function(t){return t instanceof com.cognitect.transit.types.TaggedValue},com.cognitect.transit.types.nullValue=function(){return null},com.cognitect.transit.types.boolValue=function(t){return"t"===t},com.cognitect.transit.types.MAX_INT=goog.math.Long.fromString("9007199254740991"),com.cognitect.transit.types.MIN_INT=goog.math.Long.fromString("-9007199254740991"),com.cognitect.transit.types.intValue=function(t){return"number"==typeof t||t instanceof goog.math.Long?t:(t=goog.math.Long.fromString(t,10)).greaterThan(com.cognitect.transit.types.MAX_INT)||t.lessThan(com.cognitect.transit.types.MIN_INT)?t:t.toNumber()},goog.math.Long.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)},goog.math.Long.prototype.equiv=goog.math.Long.prototype.equiv,goog.math.Long.prototype.com$cognitect$transit$equals=function(t){return t instanceof goog.math.Long&&this.equals(t)},goog.math.Long.prototype.com$cognitect$transit$hashCode=function(){return this.toInt()},com.cognitect.transit.types.isInteger=function(t){return t instanceof goog.math.Long||"number"==typeof t&&!isNaN(t)&&1/0!==t&&parseFloat(t)===parseInt(t,10)},com.cognitect.transit.types.floatValue=function(t){return parseFloat(t)},com.cognitect.transit.types.bigInteger=function(t){return com.cognitect.transit.types.taggedValue("n",t)},com.cognitect.transit.types.isBigInteger=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"n"===t.tag},com.cognitect.transit.types.bigDecimalValue=function(t){return com.cognitect.transit.types.taggedValue("f",t)},com.cognitect.transit.types.isBigDecimal=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"f"===t.tag},com.cognitect.transit.types.charValue=function(t){return t},com.cognitect.transit.types.Keyword=function(t){this._name=t,this.hashCode=-1},com.cognitect.transit.types.Keyword.prototype.toString=function(){return":"+this._name},com.cognitect.transit.types.Keyword.prototype.namespace=function(){var t=this._name.indexOf("/");return-1!=t?this._name.substring(0,t):null},com.cognitect.transit.types.Keyword.prototype.name=function(){var t=this._name.indexOf("/");return-1!=t?this._name.substring(t+1,this._name.length):this._name},com.cognitect.transit.types.Keyword.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)},com.cognitect.transit.types.Keyword.prototype.equiv=com.cognitect.transit.types.Keyword.prototype.equiv,com.cognitect.transit.types.Keyword.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.Keyword&&this._name==t._name},com.cognitect.transit.types.Keyword.prototype.com$cognitect$transit$hashCode=function(){return-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashCode(this._name)),this.hashCode},com.cognitect.transit.types.keyword=function(t){return new com.cognitect.transit.types.Keyword(t)},com.cognitect.transit.types.isKeyword=function(t){return t instanceof com.cognitect.transit.types.Keyword},com.cognitect.transit.types.Symbol=function(t){this._name=t,this.hashCode=-1},com.cognitect.transit.types.Symbol.prototype.namespace=function(){var t=this._name.indexOf("/");return-1!=t?this._name.substring(0,t):null},com.cognitect.transit.types.Symbol.prototype.name=function(){var t=this._name.indexOf("/");return-1!=t?this._name.substring(t+1,this._name.length):this._name},com.cognitect.transit.types.Symbol.prototype.toString=function(){return this._name},com.cognitect.transit.types.Symbol.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)},com.cognitect.transit.types.Symbol.prototype.equiv=com.cognitect.transit.types.Symbol.prototype.equiv,com.cognitect.transit.types.Symbol.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.Symbol&&this._name==t._name},com.cognitect.transit.types.Symbol.prototype.com$cognitect$transit$hashCode=function(){return-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashCode(this._name)),this.hashCode},com.cognitect.transit.types.symbol=function(t){return new com.cognitect.transit.types.Symbol(t)},com.cognitect.transit.types.isSymbol=function(t){return t instanceof com.cognitect.transit.types.Symbol},com.cognitect.transit.types.hexFor=function(t,e,r){var n="";r=r||e+1;for(var o=8*(7-e),i=goog.math.Long.fromInt(255).shiftLeft(o);e<r;e++,o-=8,i=i.shiftRightUnsigned(8)){var a=t.and(i).shiftRightUnsigned(o).toString(16);1==a.length&&(a="0"+a),n+=a}return n},com.cognitect.transit.types.UUID=function(t,e){this.high=t,this.low=e,this.hashCode=-1},com.cognitect.transit.types.UUID.prototype.getLeastSignificantBits=function(){return this.low},com.cognitect.transit.types.UUID.prototype.getMostSignificantBits=function(){return this.high},com.cognitect.transit.types.UUID.prototype.toString=function(){var t=this.high,e=this.low,r=com.cognitect.transit.types.hexFor(t,0,4)+"-";return r+=com.cognitect.transit.types.hexFor(t,4,6)+"-",r+=com.cognitect.transit.types.hexFor(t,6,8)+"-",(r+=com.cognitect.transit.types.hexFor(e,0,2)+"-")+com.cognitect.transit.types.hexFor(e,2,8)},com.cognitect.transit.types.UUID.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)},com.cognitect.transit.types.UUID.prototype.equiv=com.cognitect.transit.types.UUID.prototype.equiv,com.cognitect.transit.types.UUID.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.UUID&&this.high.equals(t.high)&&this.low.equals(t.low)},com.cognitect.transit.types.UUID.prototype.com$cognitect$transit$hashCode=function(){return-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashCode(this.toString())),this.hashCode},com.cognitect.transit.types.UUIDfromString=function(t){var e,r;t=t.replace(/-/g,"");var n=e=0;for(r=24;n<8;n+=2,r-=8)e|=parseInt(t.substring(n,n+2),16)<<r;var o=0;for(n=8,r=24;n<16;n+=2,r-=8)o|=parseInt(t.substring(n,n+2),16)<<r;var i=goog.math.Long.fromBits(o,e);for(e=0,n=16,r=24;n<24;n+=2,r-=8)e|=parseInt(t.substring(n,n+2),16)<<r;for(o=0,r=n=24;n<32;n+=2,r-=8)o|=parseInt(t.substring(n,n+2),16)<<r;return t=goog.math.Long.fromBits(o,e),new com.cognitect.transit.types.UUID(i,t)},com.cognitect.transit.types.uuid=function(t){return com.cognitect.transit.types.UUIDfromString(t)},com.cognitect.transit.types.isUUID=function(t){return t instanceof com.cognitect.transit.types.UUID},com.cognitect.transit.types.date=function(t){return t="number"==typeof t?t:parseInt(t,10),new Date(t)},com.cognitect.transit.types.verboseDate=function(t){return new Date(t)},Date.prototype.com$cognitect$transit$equals=function(t){return t instanceof Date&&this.valueOf()===t.valueOf()},Date.prototype.com$cognitect$transit$hashCode=function(){return this.valueOf()},com.cognitect.transit.types.binary=function(t,e){return e&&!1===e.preferBuffers||void 0===goog.global.Buffer?"undefined"!=typeof Uint8Array?com.cognitect.transit.util.Base64ToUint8(t):com.cognitect.transit.types.taggedValue("b",t):new goog.global.Buffer(t,"base64")},com.cognitect.transit.types.isBinary=function(t){return void 0!==goog.global.Buffer&&t instanceof goog.global.Buffer||("undefined"!=typeof Uint8Array&&t instanceof Uint8Array||t instanceof com.cognitect.transit.types.TaggedValue&&"b"===t.tag)},com.cognitect.transit.types.uri=function(t){return com.cognitect.transit.types.taggedValue("r",t)},com.cognitect.transit.types.isURI=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"r"===t.tag},com.cognitect.transit.types.KEYS=0,com.cognitect.transit.types.VALUES=1,com.cognitect.transit.types.ENTRIES=2,com.cognitect.transit.types.TransitArrayMapIterator=function(t,e){this.entries=t,this.type=e||com.cognitect.transit.types.KEYS,this.idx=0},com.cognitect.transit.types.TransitArrayMapIterator.prototype.next=function(){if(this.idx<this.entries.length){var t={value:this.type===com.cognitect.transit.types.KEYS?this.entries[this.idx]:this.type===com.cognitect.transit.types.VALUES?this.entries[this.idx+1]:[this.entries[this.idx],this.entries[this.idx+1]],done:!1};return this.idx+=2,t}return{value:null,done:!0}},com.cognitect.transit.types.TransitArrayMapIterator.prototype.next=com.cognitect.transit.types.TransitArrayMapIterator.prototype.next,com.cognitect.transit.types.TransitArrayMapIterator.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this},com.cognitect.transit.types.TransitMapIterator=function(t,e){this.map=t,this.type=e||com.cognitect.transit.types.KEYS,this.keys=this.map.getKeys(),this.idx=0,this.bucket=null,this.bucketIdx=0},com.cognitect.transit.types.TransitMapIterator.prototype.next=function(){if(this.idx<this.map.size){null!=this.bucket&&this.bucketIdx<this.bucket.length||(this.bucket=this.map.map[this.keys[this.idx]],this.bucketIdx=0);var t={value:this.type===com.cognitect.transit.types.KEYS?this.bucket[this.bucketIdx]:this.type===com.cognitect.transit.types.VALUES?this.bucket[this.bucketIdx+1]:[this.bucket[this.bucketIdx],this.bucket[this.bucketIdx+1]],done:!1};return this.idx++,this.bucketIdx+=2,t}return{value:null,done:!0}},com.cognitect.transit.types.TransitMapIterator.prototype.next=com.cognitect.transit.types.TransitMapIterator.prototype.next,com.cognitect.transit.types.TransitMapIterator.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this},com.cognitect.transit.types.mapEquals=function(t,e){if(t instanceof com.cognitect.transit.types.TransitMap&&com.cognitect.transit.types.isMap(e)){if(t.size!==e.size)return!1;for(var r in t.map)for(var n=t.map[r],o=0;o<n.length;o+=2)if(!com.cognitect.transit.eq.equals(n[o+1],e.get(n[o])))return!1;return!0}if(t instanceof com.cognitect.transit.types.TransitArrayMap&&com.cognitect.transit.types.isMap(e)){if(t.size!==e.size)return!1;for(r=t._entries,o=0;o<r.length;o+=2)if(!com.cognitect.transit.eq.equals(r[o+1],e.get(r[o])))return!1;return!0}if(null==e||"object"!=typeof e||(r=(o=com.cognitect.transit.util.objectKeys(e)).length,t.size!==r))return!1;for(n=0;n<r;n++){var i=o[n];if(!t.has(i)||!com.cognitect.transit.eq.equals(e[i],t.get(i)))return!1}return!0},com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD=8,com.cognitect.transit.types.ARRAY_MAP_THRESHOLD=32,com.cognitect.transit.types.ARRAY_MAP_ACCESS_THRESHOLD=32,com.cognitect.transit.types.print=function(t){return null==t?"null":goog.isArray(t)?"["+t.toString()+"]":goog.isString(t)?'"'+t+'"':t.toString()},com.cognitect.transit.types.printMap=function(r){var n=0,o="TransitMap {";return r.forEach(function(t,e){o+=com.cognitect.transit.types.print(e)+" => "+com.cognitect.transit.types.print(t),n<r.size-1&&(o+=", "),n++}),o+"}"},com.cognitect.transit.types.printSet=function(e){var r=0,n="TransitSet {";return e.forEach(function(t){n+=com.cognitect.transit.types.print(t),r<e.size-1&&(n+=", "),r++}),n+"}"},com.cognitect.transit.types.TransitArrayMap=function(t){this._entries=t,this.backingMap=null,this.hashCode=-1,this.size=t.length/2,this.accesses=0},com.cognitect.transit.types.TransitArrayMap.prototype.toString=function(){return com.cognitect.transit.types.printMap(this)},com.cognitect.transit.types.TransitArrayMap.prototype.inspect=function(){return this.toString()},com.cognitect.transit.types.TransitArrayMap.prototype.convert=function(){if(this.backingMap)throw Error("Invalid operation, already converted");return!(this.size<com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD)&&(this.accesses++,this.accesses>com.cognitect.transit.types.ARRAY_MAP_ACCESS_THRESHOLD&&(this.backingMap=com.cognitect.transit.types.map(this._entries,!1,!0),this._entries=[],!0))},com.cognitect.transit.types.TransitArrayMap.prototype.clear=function(){this.hashCode=-1,this.backingMap?this.backingMap.clear():this._entries=[],this.size=0},com.cognitect.transit.types.TransitArrayMap.prototype.clear=com.cognitect.transit.types.TransitArrayMap.prototype.clear,com.cognitect.transit.types.TransitArrayMap.prototype.keys=function(){return this.backingMap?this.backingMap.keys():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.KEYS)},com.cognitect.transit.types.TransitArrayMap.prototype.keys=com.cognitect.transit.types.TransitArrayMap.prototype.keys,com.cognitect.transit.types.TransitArrayMap.prototype.keySet=function(){if(this.backingMap)return this.backingMap.keySet();for(var t=[],e=0,r=0;r<this._entries.length;e++,r+=2)t[e]=this._entries[r];return t},com.cognitect.transit.types.TransitArrayMap.prototype.keySet=com.cognitect.transit.types.TransitArrayMap.prototype.keySet,com.cognitect.transit.types.TransitArrayMap.prototype.entries=function(){return this.backingMap?this.backingMap.entries():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.ENTRIES)},com.cognitect.transit.types.TransitArrayMap.prototype.entries=com.cognitect.transit.types.TransitArrayMap.prototype.entries,com.cognitect.transit.types.TransitArrayMap.prototype.values=function(){return this.backingMap?this.backingMap.values():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.VALUES)},com.cognitect.transit.types.TransitArrayMap.prototype.values=com.cognitect.transit.types.TransitArrayMap.prototype.values,com.cognitect.transit.types.TransitArrayMap.prototype.forEach=function(t){if(this.backingMap)this.backingMap.forEach(t);else for(var e=0;e<this._entries.length;e+=2)t(this._entries[e+1],this._entries[e])},com.cognitect.transit.types.TransitArrayMap.prototype.forEach=com.cognitect.transit.types.TransitArrayMap.prototype.forEach,com.cognitect.transit.types.TransitArrayMap.prototype.get=function(t,e){if(this.backingMap)return this.backingMap.get(t);if(this.convert())return this.get(t);for(var r=0;r<this._entries.length;r+=2)if(com.cognitect.transit.eq.equals(this._entries[r],t))return this._entries[r+1];return e},com.cognitect.transit.types.TransitArrayMap.prototype.get=com.cognitect.transit.types.TransitArrayMap.prototype.get,com.cognitect.transit.types.TransitArrayMap.prototype.has=function(t){if(this.backingMap)return this.backingMap.has(t);if(this.convert())return this.has(t);for(var e=0;e<this._entries.length;e+=2)if(com.cognitect.transit.eq.equals(this._entries[e],t))return!0;return!1},com.cognitect.transit.types.TransitArrayMap.prototype.has=com.cognitect.transit.types.TransitArrayMap.prototype.has,com.cognitect.transit.types.TransitArrayMap.prototype.set=function(t,e){if(this.hashCode=-1,this.backingMap)this.backingMap.set(t,e),this.size=this.backingMap.size;else{for(var r=0;r<this._entries.length;r+=2)if(com.cognitect.transit.eq.equals(this._entries[r],t))return void(this._entries[r+1]=e);this._entries.push(t),this._entries.push(e),this.size++,this.size>com.cognitect.transit.types.ARRAY_MAP_THRESHOLD&&(this.backingMap=com.cognitect.transit.types.map(this._entries,!1,!0),this._entries=null)}},com.cognitect.transit.types.TransitArrayMap.prototype.set=com.cognitect.transit.types.TransitArrayMap.prototype.set,com.cognitect.transit.types.TransitArrayMap.prototype.delete=function(t){if(this.hashCode=-1,this.backingMap)return t=this.backingMap.delete(t),this.size=this.backingMap.size,t;for(var e=0;e<this._entries.length;e+=2)if(com.cognitect.transit.eq.equals(this._entries[e],t))return t=this._entries[e+1],this._entries.splice(e,2),this.size--,t},com.cognitect.transit.types.TransitArrayMap.prototype.clone=function(){var r=com.cognitect.transit.types.map();return this.forEach(function(t,e){r.set(e,t)}),r},com.cognitect.transit.types.TransitArrayMap.prototype.clone=com.cognitect.transit.types.TransitArrayMap.prototype.clone,com.cognitect.transit.types.TransitArrayMap.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.entries()},com.cognitect.transit.types.TransitArrayMap.prototype.com$cognitect$transit$hashCode=function(){return this.backingMap?this.backingMap.com$cognitect$transit$hashCode():(-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashMapLike(this)),this.hashCode)},com.cognitect.transit.types.TransitArrayMap.prototype.com$cognitect$transit$equals=function(t){return this.backingMap?com.cognitect.transit.types.mapEquals(this.backingMap,t):com.cognitect.transit.types.mapEquals(this,t)},com.cognitect.transit.types.TransitMap=function(t,e,r){this.map=e||{},this._keys=t||[],this.size=r||0,this.hashCode=-1},com.cognitect.transit.types.TransitMap.prototype.toString=function(){return com.cognitect.transit.types.printMap(this)},com.cognitect.transit.types.TransitMap.prototype.inspect=function(){return this.toString()},com.cognitect.transit.types.TransitMap.prototype.clear=function(){this.hashCode=-1,this.map={},this._keys=[],this.size=0},com.cognitect.transit.types.TransitMap.prototype.clear=com.cognitect.transit.types.TransitMap.prototype.clear,com.cognitect.transit.types.TransitMap.prototype.getKeys=function(){return null!=this._keys?this._keys:com.cognitect.transit.util.objectKeys(this.map)},com.cognitect.transit.types.TransitMap.prototype.delete=function(t){this.hashCode=-1,this._keys=null;for(var e=com.cognitect.transit.eq.hashCode(t),r=this.map[e],n=0;n<r.length;n+=2)if(com.cognitect.transit.eq.equals(t,r[n]))return t=r[n+1],r.splice(n,2),0===r.length&&delete this.map[e],this.size--,t},com.cognitect.transit.types.TransitMap.prototype.entries=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.ENTRIES)},com.cognitect.transit.types.TransitMap.prototype.entries=com.cognitect.transit.types.TransitMap.prototype.entries,com.cognitect.transit.types.TransitMap.prototype.forEach=function(t){for(var e=this.getKeys(),r=0;r<e.length;r++)for(var n=this.map[e[r]],o=0;o<n.length;o+=2)t(n[o+1],n[o],this)},com.cognitect.transit.types.TransitMap.prototype.forEach=com.cognitect.transit.types.TransitMap.prototype.forEach,com.cognitect.transit.types.TransitMap.prototype.get=function(t,e){var r=com.cognitect.transit.eq.hashCode(t);if(null==(r=this.map[r]))return e;for(var n=0;n<r.length;n+=2)if(com.cognitect.transit.eq.equals(t,r[n]))return r[n+1]},com.cognitect.transit.types.TransitMap.prototype.get=com.cognitect.transit.types.TransitMap.prototype.get,com.cognitect.transit.types.TransitMap.prototype.has=function(t){var e=com.cognitect.transit.eq.hashCode(t);if(null!=(e=this.map[e]))for(var r=0;r<e.length;r+=2)if(com.cognitect.transit.eq.equals(t,e[r]))return!0;return!1},com.cognitect.transit.types.TransitMap.prototype.has=com.cognitect.transit.types.TransitMap.prototype.has,com.cognitect.transit.types.TransitMap.prototype.keys=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.KEYS)},com.cognitect.transit.types.TransitMap.prototype.keys=com.cognitect.transit.types.TransitMap.prototype.keys,com.cognitect.transit.types.TransitMap.prototype.keySet=function(){for(var t=this.getKeys(),e=[],r=0;r<t.length;r++)for(var n=this.map[t[r]],o=0;o<n.length;o+=2)e.push(n[o]);return e},com.cognitect.transit.types.TransitMap.prototype.keySet=com.cognitect.transit.types.TransitMap.prototype.keySet,com.cognitect.transit.types.TransitMap.prototype.set=function(t,e){this.hashCode=-1;var r=com.cognitect.transit.eq.hashCode(t),n=this.map[r];if(null==n)this._keys&&this._keys.push(r),this.map[r]=[t,e],this.size++;else{r=!0;for(var o=0;o<n.length;o+=2)if(com.cognitect.transit.eq.equals(e,n[o])){r=!1,n[o]=e;break}r&&(n.push(t),n.push(e),this.size++)}},com.cognitect.transit.types.TransitMap.prototype.set=com.cognitect.transit.types.TransitMap.prototype.set,com.cognitect.transit.types.TransitMap.prototype.values=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.VALUES)},com.cognitect.transit.types.TransitMap.prototype.values=com.cognitect.transit.types.TransitMap.prototype.values,com.cognitect.transit.types.TransitMap.prototype.clone=function(){var r=com.cognitect.transit.types.map();return this.forEach(function(t,e){r.set(e,t)}),r},com.cognitect.transit.types.TransitMap.prototype.clone=com.cognitect.transit.types.TransitMap.prototype.clone,com.cognitect.transit.types.TransitMap.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.entries()},com.cognitect.transit.types.TransitMap.prototype.com$cognitect$transit$hashCode=function(){return-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashMapLike(this)),this.hashCode},com.cognitect.transit.types.TransitMap.prototype.com$cognitect$transit$equals=function(t){return com.cognitect.transit.types.mapEquals(this,t)},com.cognitect.transit.types.map=function(t,e,r){if(t=t||[],e=!1!==e||e,(!0!==r||!r)&&t.length<=2*com.cognitect.transit.types.ARRAY_MAP_THRESHOLD){if(e){var n=t;for(t=[],e=0;e<n.length;e+=2){var o=!1;for(r=0;r<t.length;r+=2)if(com.cognitect.transit.eq.equals(t[r],n[e])){t[r+1]=n[e+1],o=!0;break}o||(t.push(n[e]),t.push(n[e+1]))}}return new com.cognitect.transit.types.TransitArrayMap(t)}n={},o=[];var i=0;for(e=0;e<t.length;e+=2){var a=n[r=com.cognitect.transit.eq.hashCode(t[e])];if(null==a)o.push(r),n[r]=[t[e],t[e+1]],i++;else{var s=!0;for(r=0;r<a.length;r+=2)if(com.cognitect.transit.eq.equals(a[r],t[e])){a[r+1]=t[e+1],s=!1;break}s&&(a.push(t[e]),a.push(t[e+1]),i++)}}return new com.cognitect.transit.types.TransitMap(o,n,i)},com.cognitect.transit.types.isArrayMap=function(t){return t instanceof com.cognitect.transit.types.TransitArrayMap},com.cognitect.transit.types.isMap=function(t){return t instanceof com.cognitect.transit.types.TransitArrayMap||t instanceof com.cognitect.transit.types.TransitMap},com.cognitect.transit.types.TransitSet=function(t){this.map=t,this.size=t.size},com.cognitect.transit.types.TransitSet.prototype.toString=function(){return com.cognitect.transit.types.printSet(this)},com.cognitect.transit.types.TransitSet.prototype.inspect=function(){return this.toString()},com.cognitect.transit.types.TransitSet.prototype.add=function(t){this.map.set(t,t),this.size=this.map.size},com.cognitect.transit.types.TransitSet.prototype.add=com.cognitect.transit.types.TransitSet.prototype.add,com.cognitect.transit.types.TransitSet.prototype.clear=function(){this.map=new com.cognitect.transit.types.TransitMap,this.size=0},com.cognitect.transit.types.TransitSet.prototype.clear=com.cognitect.transit.types.TransitSet.prototype.clear,com.cognitect.transit.types.TransitSet.prototype.delete=function(t){return t=this.map.delete(t),this.size=this.map.size,t},com.cognitect.transit.types.TransitSet.prototype.entries=function(){return this.map.entries()},com.cognitect.transit.types.TransitSet.prototype.entries=com.cognitect.transit.types.TransitSet.prototype.entries,com.cognitect.transit.types.TransitSet.prototype.forEach=function(n,t){var o=this;this.map.forEach(function(t,e,r){n(e,o)})},com.cognitect.transit.types.TransitSet.prototype.forEach=com.cognitect.transit.types.TransitSet.prototype.forEach,com.cognitect.transit.types.TransitSet.prototype.has=function(t){return this.map.has(t)},com.cognitect.transit.types.TransitSet.prototype.has=com.cognitect.transit.types.TransitSet.prototype.has,com.cognitect.transit.types.TransitSet.prototype.keys=function(){return this.map.keys()},com.cognitect.transit.types.TransitSet.prototype.keys=com.cognitect.transit.types.TransitSet.prototype.keys,com.cognitect.transit.types.TransitSet.prototype.keySet=function(){return this.map.keySet()},com.cognitect.transit.types.TransitSet.prototype.keySet=com.cognitect.transit.types.TransitSet.prototype.keySet,com.cognitect.transit.types.TransitSet.prototype.values=function(){return this.map.values()},com.cognitect.transit.types.TransitSet.prototype.values=com.cognitect.transit.types.TransitSet.prototype.values,com.cognitect.transit.types.TransitSet.prototype.clone=function(){var e=com.cognitect.transit.types.set();return this.forEach(function(t){e.add(t)}),e},com.cognitect.transit.types.TransitSet.prototype.clone=com.cognitect.transit.types.TransitSet.prototype.clone,com.cognitect.transit.types.TransitSet.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.values()},com.cognitect.transit.types.TransitSet.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.TransitSet&&(this.size===t.size?com.cognitect.transit.eq.equals(this.map,t.map):void 0)},com.cognitect.transit.types.TransitSet.prototype.com$cognitect$transit$hashCode=function(t){return com.cognitect.transit.eq.hashCode(this.map)},com.cognitect.transit.types.set=function(t){t=t||[];for(var e={},r=[],n=0,o=0;o<t.length;o++){var i=e[a=com.cognitect.transit.eq.hashCode(t[o])];if(null==i)r.push(a),e[a]=[t[o],t[o]],n++;else{for(var a=!0,s=0;s<i.length;s+=2)if(com.cognitect.transit.eq.equals(i[s],t[o])){a=!1;break}a&&(i.push(t[o]),i.push(t[o]),n++)}}return new com.cognitect.transit.types.TransitSet(new com.cognitect.transit.types.TransitMap(r,e,n))},com.cognitect.transit.types.isSet=function(t){return t instanceof com.cognitect.transit.types.TransitSet},com.cognitect.transit.types.quoted=function(t){return com.cognitect.transit.types.taggedValue("'",t)},com.cognitect.transit.types.isQuoted=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"'"===t.tag},com.cognitect.transit.types.list=function(t){return com.cognitect.transit.types.taggedValue("list",t)},com.cognitect.transit.types.isList=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"list"===t.tag},com.cognitect.transit.types.link=function(t){return com.cognitect.transit.types.taggedValue("link",t)},com.cognitect.transit.types.isLink=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"link"===t.tag},com.cognitect.transit.types.specialDouble=function(t){switch(t){case"-INF":return-1/0;case"INF":return 1/0;case"NaN":return NaN;default:throw Error("Invalid special double value "+t)}},com.cognitect.transit.handlers={},com.cognitect.transit.handlers.ctorGuid=0,com.cognitect.transit.handlers.ctorGuidProperty="transit$guid$"+com.cognitect.transit.util.randomUUID(),com.cognitect.transit.handlers.typeTag=function(t){if(null==t)return"null";if(t===String)return"string";if(t===Boolean)return"boolean";if(t===Number)return"number";if(t===Array)return"array";if(t===Object)return"map";var e=t[com.cognitect.transit.handlers.ctorGuidProperty];return null==e&&(void 0!==Object.defineProperty?(e=++com.cognitect.transit.handlers.ctorGuid,Object.defineProperty(t,com.cognitect.transit.handlers.ctorGuidProperty,{value:e,enumerable:!1})):t[com.cognitect.transit.handlers.ctorGuidProperty]=e=++com.cognitect.transit.handlers.ctorGuid),e},com.cognitect.transit.handlers.constructor=function(t){return null==t?null:t.constructor},com.cognitect.transit.handlers.padZeros=function(t,e){for(var r=t.toString(),n=r.length;n<e;n++)r="0"+r;return r},com.cognitect.transit.handlers.stringableKeys=function(t){t=com.cognitect.transit.util.objectKeys(t);for(var e=0;e<t.length;e++);return!0},com.cognitect.transit.handlers.NilHandler=function(){},com.cognitect.transit.handlers.NilHandler.prototype.tag=function(t){return"_"},com.cognitect.transit.handlers.NilHandler.prototype.rep=function(t){return null},com.cognitect.transit.handlers.NilHandler.prototype.stringRep=function(t){return"null"},com.cognitect.transit.handlers.StringHandler=function(){},com.cognitect.transit.handlers.StringHandler.prototype.tag=function(t){return"s"},com.cognitect.transit.handlers.StringHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.StringHandler.prototype.stringRep=function(t){return t},com.cognitect.transit.handlers.NumberHandler=function(){},com.cognitect.transit.handlers.NumberHandler.prototype.tag=function(t){return"i"},com.cognitect.transit.handlers.NumberHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.NumberHandler.prototype.stringRep=function(t){return t.toString()},com.cognitect.transit.handlers.IntegerHandler=function(){},com.cognitect.transit.handlers.IntegerHandler.prototype.tag=function(t){return"i"},com.cognitect.transit.handlers.IntegerHandler.prototype.rep=function(t){return t.toString()},com.cognitect.transit.handlers.IntegerHandler.prototype.stringRep=function(t){return t.toString()},com.cognitect.transit.handlers.BooleanHandler=function(){},com.cognitect.transit.handlers.BooleanHandler.prototype.tag=function(t){return"?"},com.cognitect.transit.handlers.BooleanHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.BooleanHandler.prototype.stringRep=function(t){return t.toString()},com.cognitect.transit.handlers.ArrayHandler=function(){},com.cognitect.transit.handlers.ArrayHandler.prototype.tag=function(t){return"array"},com.cognitect.transit.handlers.ArrayHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.ArrayHandler.prototype.stringRep=function(t){return null},com.cognitect.transit.handlers.MapHandler=function(){},com.cognitect.transit.handlers.MapHandler.prototype.tag=function(t){return"map"},com.cognitect.transit.handlers.MapHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.MapHandler.prototype.stringRep=function(t){return null},com.cognitect.transit.handlers.VerboseDateHandler=function(){},com.cognitect.transit.handlers.VerboseDateHandler.prototype.tag=function(t){return"t"},com.cognitect.transit.handlers.VerboseDateHandler.prototype.rep=function(t){return t.getUTCFullYear()+"-"+com.cognitect.transit.handlers.padZeros(t.getUTCMonth()+1,2)+"-"+com.cognitect.transit.handlers.padZeros(t.getUTCDate(),2)+"T"+com.cognitect.transit.handlers.padZeros(t.getUTCHours(),2)+":"+com.cognitect.transit.handlers.padZeros(t.getUTCMinutes(),2)+":"+com.cognitect.transit.handlers.padZeros(t.getUTCSeconds(),2)+"."+com.cognitect.transit.handlers.padZeros(t.getUTCMilliseconds(),3)+"Z"},com.cognitect.transit.handlers.VerboseDateHandler.prototype.stringRep=function(t,e){return e.rep(t)},com.cognitect.transit.handlers.DateHandler=function(){},com.cognitect.transit.handlers.DateHandler.prototype.tag=function(t){return"m"},com.cognitect.transit.handlers.DateHandler.prototype.rep=function(t){return t.valueOf()},com.cognitect.transit.handlers.DateHandler.prototype.stringRep=function(t){return t.valueOf().toString()},com.cognitect.transit.handlers.DateHandler.prototype.getVerboseHandler=function(t){return new com.cognitect.transit.handlers.VerboseDateHandler},com.cognitect.transit.handlers.UUIDHandler=function(){},com.cognitect.transit.handlers.UUIDHandler.prototype.tag=function(t){return"u"},com.cognitect.transit.handlers.UUIDHandler.prototype.rep=function(t){return t.toString()},com.cognitect.transit.handlers.UUIDHandler.prototype.stringRep=function(t){return t.toString()},com.cognitect.transit.handlers.KeywordHandler=function(){},com.cognitect.transit.handlers.KeywordHandler.prototype.tag=function(t){return":"},com.cognitect.transit.handlers.KeywordHandler.prototype.rep=function(t){return t._name},com.cognitect.transit.handlers.KeywordHandler.prototype.stringRep=function(t,e){return e.rep(t)},com.cognitect.transit.handlers.SymbolHandler=function(){},com.cognitect.transit.handlers.SymbolHandler.prototype.tag=function(t){return"$"},com.cognitect.transit.handlers.SymbolHandler.prototype.rep=function(t){return t._name},com.cognitect.transit.handlers.SymbolHandler.prototype.stringRep=function(t,e){return e.rep(t)},com.cognitect.transit.handlers.TaggedHandler=function(){},com.cognitect.transit.handlers.TaggedHandler.prototype.tag=function(t){return t.tag},com.cognitect.transit.handlers.TaggedHandler.prototype.rep=function(t){return t.rep},com.cognitect.transit.handlers.TaggedHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.TransitSetHandler=function(){},com.cognitect.transit.handlers.TransitSetHandler.prototype.tag=function(t){return"set"},com.cognitect.transit.handlers.TransitSetHandler.prototype.rep=function(t){var r=[];return t.forEach(function(t,e){r.push(t)}),com.cognitect.transit.types.taggedValue("array",r)},com.cognitect.transit.handlers.TransitSetHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.TransitArrayMapHandler=function(){},com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.tag=function(t){return"map"},com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.TransitMapHandler=function(){},com.cognitect.transit.handlers.TransitMapHandler.prototype.tag=function(t){return"map"},com.cognitect.transit.handlers.TransitMapHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.TransitMapHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.BufferHandler=function(){},com.cognitect.transit.handlers.BufferHandler.prototype.tag=function(t){return"b"},com.cognitect.transit.handlers.BufferHandler.prototype.rep=function(t){return t.toString("base64")},com.cognitect.transit.handlers.BufferHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.Uint8ArrayHandler=function(){},com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.tag=function(t){return"b"},com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.rep=function(t){return com.cognitect.transit.util.Uint8ToBase64(t)},com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.defaultHandlers=function(t){return t.set(null,new com.cognitect.transit.handlers.NilHandler),t.set(String,new com.cognitect.transit.handlers.StringHandler),t.set(Number,new com.cognitect.transit.handlers.NumberHandler),t.set(goog.math.Long,new com.cognitect.transit.handlers.IntegerHandler),t.set(Boolean,new com.cognitect.transit.handlers.BooleanHandler),t.set(Array,new com.cognitect.transit.handlers.ArrayHandler),t.set(Object,new com.cognitect.transit.handlers.MapHandler),t.set(Date,new com.cognitect.transit.handlers.DateHandler),t.set(com.cognitect.transit.types.UUID,new com.cognitect.transit.handlers.UUIDHandler),t.set(com.cognitect.transit.types.Keyword,new com.cognitect.transit.handlers.KeywordHandler),t.set(com.cognitect.transit.types.Symbol,new com.cognitect.transit.handlers.SymbolHandler),t.set(com.cognitect.transit.types.TaggedValue,new com.cognitect.transit.handlers.TaggedHandler),t.set(com.cognitect.transit.types.TransitSet,new com.cognitect.transit.handlers.TransitSetHandler),t.set(com.cognitect.transit.types.TransitArrayMap,new com.cognitect.transit.handlers.TransitArrayMapHandler),t.set(com.cognitect.transit.types.TransitMap,new com.cognitect.transit.handlers.TransitMapHandler),void 0!==goog.global.Buffer&&t.set(goog.global.Buffer,new com.cognitect.transit.handlers.BufferHandler),"undefined"!=typeof Uint8Array&&t.set(Uint8Array,new com.cognitect.transit.handlers.Uint8ArrayHandler),t},com.cognitect.transit.handlers.Handlers=function(){this.handlers={},com.cognitect.transit.handlers.defaultHandlers(this)},com.cognitect.transit.handlers.Handlers.prototype.get=function(t){return null!=(t="string"==typeof t?this.handlers[t]:this.handlers[com.cognitect.transit.handlers.typeTag(t)])?t:this.handlers.default},com.cognitect.transit.handlers.Handlers.prototype.get=com.cognitect.transit.handlers.Handlers.prototype.get,com.cognitect.transit.handlers.validTag=function(t){switch(t){case"null":case"string":case"boolean":case"number":case"array":case"map":return!1}return!0},com.cognitect.transit.handlers.Handlers.prototype.set=function(t,e){"string"==typeof t&&com.cognitect.transit.handlers.validTag(t)?this.handlers[t]=e:this.handlers[com.cognitect.transit.handlers.typeTag(t)]=e},com.cognitect.transit.impl={},com.cognitect.transit.impl.decoder={},com.cognitect.transit.impl.decoder.Tag=function(t){this.str=t},com.cognitect.transit.impl.decoder.tag=function(t){return new com.cognitect.transit.impl.decoder.Tag(t)},com.cognitect.transit.impl.decoder.isTag=function(t){return t&&t instanceof com.cognitect.transit.impl.decoder.Tag},com.cognitect.transit.impl.decoder.isGroundHandler=function(t){switch(t){case"_":case"s":case"?":case"i":case"d":case"b":case"'":case"array":case"map":return!0}return!1},com.cognitect.transit.impl.decoder.Decoder=function(t){for(var e in this.options=t||{},this.handlers={},this.defaults.handlers)this.handlers[e]=this.defaults.handlers[e];for(e in this.options.handlers){if(com.cognitect.transit.impl.decoder.isGroundHandler(e))throw Error('Cannot override handler for ground type "'+e+'"');this.handlers[e]=this.options.handlers[e]}this.preferStrings=null!=this.options.preferStrings?this.options.preferStrings:this.defaults.preferStrings,this.preferBuffers=null!=this.options.preferBuffers?this.options.preferBuffers:this.defaults.preferBuffers,this.defaultHandler=this.options.defaultHandler||this.defaults.defaultHandler,this.mapBuilder=this.options.mapBuilder,this.arrayBuilder=this.options.arrayBuilder},com.cognitect.transit.impl.decoder.Decoder.prototype.defaults={handlers:{_:function(t,e){return com.cognitect.transit.types.nullValue()},"?":function(t,e){return com.cognitect.transit.types.boolValue(t)},b:function(t,e){return com.cognitect.transit.types.binary(t,e)},i:function(t,e){return com.cognitect.transit.types.intValue(t)},n:function(t,e){return com.cognitect.transit.types.bigInteger(t)},d:function(t,e){return com.cognitect.transit.types.floatValue(t)},f:function(t,e){return com.cognitect.transit.types.bigDecimalValue(t)},c:function(t,e){return com.cognitect.transit.types.charValue(t)},":":function(t,e){return com.cognitect.transit.types.keyword(t)},$:function(t,e){return com.cognitect.transit.types.symbol(t)},r:function(t,e){return com.cognitect.transit.types.uri(t)},z:function(t,e){return com.cognitect.transit.types.specialDouble(t)},"'":function(t,e){return t},m:function(t,e){return com.cognitect.transit.types.date(t)},t:function(t,e){return com.cognitect.transit.types.verboseDate(t)},u:function(t,e){return com.cognitect.transit.types.uuid(t)},set:function(t,e){return com.cognitect.transit.types.set(t)},list:function(t,e){return com.cognitect.transit.types.list(t)},link:function(t,e){return com.cognitect.transit.types.link(t)},cmap:function(t,e){return com.cognitect.transit.types.map(t,!1)}},defaultHandler:function(t,e){return com.cognitect.transit.types.taggedValue(t,e)},preferStrings:!0,preferBuffers:!0},com.cognitect.transit.impl.decoder.Decoder.prototype.decode=function(t,e,r,n){if(null==t)return null;switch(typeof t){case"string":return this.decodeString(t,e,r,n);case"object":return com.cognitect.transit.util.isArray(t)?"^ "===t[0]?this.decodeArrayHash(t,e,r,n):this.decodeArray(t,e,r,n):this.decodeHash(t,e,r,n)}return t},com.cognitect.transit.impl.decoder.Decoder.prototype.decode=com.cognitect.transit.impl.decoder.Decoder.prototype.decode,com.cognitect.transit.impl.decoder.Decoder.prototype.decodeString=function(t,e,r,n){return com.cognitect.transit.caching.isCacheable(t,r)?(t=this.parseString(t,e,!1),e&&e.write(t,r),t):com.cognitect.transit.caching.isCacheCode(t)?e.read(t,r):this.parseString(t,e,r)},com.cognitect.transit.impl.decoder.Decoder.prototype.decodeHash=function(t,e,r,n){var o=(r=com.cognitect.transit.util.objectKeys(t))[0];if(n=1==r.length?this.decode(o,e,!1,!1):null,com.cognitect.transit.impl.decoder.isTag(n))return t=t[o],null!=(r=this.handlers[n.str])?r(this.decode(t,e,!1,!0),this):com.cognitect.transit.types.taggedValue(n.str,this.decode(t,e,!1,!1));if(this.mapBuilder){if(r.length<2*com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD&&this.mapBuilder.fromArray){var i=[];for(o=0;o<r.length;o++)n=r[o],i.push(this.decode(n,e,!0,!1)),i.push(this.decode(t[n],e,!1,!1));return this.mapBuilder.fromArray(i,t)}for(i=this.mapBuilder.init(t),o=0;o<r.length;o++)n=r[o],i=this.mapBuilder.add(i,this.decode(n,e,!0,!1),this.decode(t[n],e,!1,!1),t);return this.mapBuilder.finalize(i,t)}for(i=[],o=0;o<r.length;o++)n=r[o],i.push(this.decode(n,e,!0,!1)),i.push(this.decode(t[n],e,!1,!1));return com.cognitect.transit.types.map(i,!1)},com.cognitect.transit.impl.decoder.Decoder.prototype.decodeArrayHash=function(t,e,r,n){if(this.mapBuilder){if(t.length<2*com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD+1&&this.mapBuilder.fromArray){for(n=[],r=1;r<t.length;r+=2)n.push(this.decode(t[r],e,!0,!1)),n.push(this.decode(t[r+1],e,!1,!1));return this.mapBuilder.fromArray(n,t)}for(n=this.mapBuilder.init(t),r=1;r<t.length;r+=2)n=this.mapBuilder.add(n,this.decode(t[r],e,!0,!1),this.decode(t[r+1],e,!1,!1),t);return this.mapBuilder.finalize(n,t)}for(n=[],r=1;r<t.length;r+=2)n.push(this.decode(t[r],e,!0,!1)),n.push(this.decode(t[r+1],e,!1,!1));return com.cognitect.transit.types.map(n,!1)},com.cognitect.transit.impl.decoder.Decoder.prototype.decodeArray=function(t,e,r,n){if(n){var o=[];for(n=0;n<t.length;n++)o.push(this.decode(t[n],e,r,!1));return o}if(o=e&&e.idx,2===t.length&&"string"==typeof t[0]&&(n=this.decode(t[0],e,!1,!1),com.cognitect.transit.impl.decoder.isTag(n)))return o=t[1],null!=(t=this.handlers[n.str])?o=t(this.decode(o,e,r,!0),this):com.cognitect.transit.types.taggedValue(n.str,this.decode(o,e,r,!1));if(e&&o!=e.idx&&(e.idx=o),this.arrayBuilder){if(t.length<=32&&this.arrayBuilder.fromArray){for(o=[],n=0;n<t.length;n++)o.push(this.decode(t[n],e,r,!1));return this.arrayBuilder.fromArray(o,t)}for(o=this.arrayBuilder.init(t),n=0;n<t.length;n++)o=this.arrayBuilder.add(o,this.decode(t[n],e,r,!1),t);return this.arrayBuilder.finalize(o,t)}for(o=[],n=0;n<t.length;n++)o.push(this.decode(t[n],e,r,!1));return o},com.cognitect.transit.impl.decoder.Decoder.prototype.parseString=function(t,e,r){return t.charAt(0)===com.cognitect.transit.delimiters.ESC?(e=t.charAt(1))===com.cognitect.transit.delimiters.ESC||e===com.cognitect.transit.delimiters.SUB||e===com.cognitect.transit.delimiters.RES?t.substring(1):e===com.cognitect.transit.delimiters.TAG?com.cognitect.transit.impl.decoder.tag(t.substring(2)):null==(r=this.handlers[e])?this.defaultHandler(e,t.substring(2)):r(t.substring(2),this):t},com.cognitect.transit.impl.decoder.decoder=function(t){return new com.cognitect.transit.impl.decoder.Decoder(t)},com.cognitect.transit.impl.reader={},com.cognitect.transit.impl.reader.JSONUnmarshaller=function(t){this.decoder=new com.cognitect.transit.impl.decoder.Decoder(t)},com.cognitect.transit.impl.reader.JSONUnmarshaller.prototype.unmarshal=function(t,e){return this.decoder.decode(JSON.parse(t),e)},com.cognitect.transit.impl.reader.Reader=function(t,e){this.unmarshaller=t,this.options=e||{},this.cache=this.options.cache?this.options.cache:new com.cognitect.transit.caching.ReadCache},com.cognitect.transit.impl.reader.Reader.prototype.read=function(t){return t=this.unmarshaller.unmarshal(t,this.cache),this.cache.clear(),t},com.cognitect.transit.impl.reader.Reader.prototype.read=com.cognitect.transit.impl.reader.Reader.prototype.read,com.cognitect.transit.impl.writer={},com.cognitect.transit.impl.writer.escape=function(t){if(0<t.length){var e=t.charAt(0);return e===com.cognitect.transit.delimiters.ESC||e===com.cognitect.transit.delimiters.SUB||e===com.cognitect.transit.delimiters.RES?com.cognitect.transit.delimiters.ESC+t:t}return t},com.cognitect.transit.impl.writer.JSONMarshaller=function(t){if(this.opts=t||{},this.preferStrings=null==this.opts.preferStrings||this.opts.preferStrings,this.objectBuilder=this.opts.objectBuilder||null,this.transform=this.opts.transform||null,this.handlers=new com.cognitect.transit.handlers.Handlers,t=this.opts.handlers){if(com.cognitect.transit.util.isArray(t)||!t.forEach)throw Error('transit writer "handlers" option must be a map');var r=this;t.forEach(function(t,e){if(void 0===e)throw Error("Cannot create handler for JavaScript undefined");r.handlers.set(e,t)})}this.handlerForForeign=this.opts.handlerForForeign,this.unpack=this.opts.unpack||function(t){return!(!com.cognitect.transit.types.isArrayMap(t)||null!==t.backingMap)&&t._entries},this.verbose=this.opts&&this.opts.verbose||!1},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.handler=function(t){var e=this.handlers.get(com.cognitect.transit.handlers.constructor(t));return null!=e?e:(t=t&&t.transitTag)?this.handlers.get(t):null},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.registerHandler=function(t,e){this.handlers.set(t,e)},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitNil=function(t,e){return t?this.emitString(com.cognitect.transit.delimiters.ESC,"_","",t,e):null},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitString=function(t,e,r,n,o){return t=t+e+r,o?o.write(t,n):t},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitBoolean=function(t,e,r){return e?this.emitString(com.cognitect.transit.delimiters.ESC,"?",t.toString()[0],e,r):t},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitInteger=function(t,e,r){return 1/0===t?this.emitString(com.cognitect.transit.delimiters.ESC,"z","INF",e,r):-1/0===t?this.emitString(com.cognitect.transit.delimiters.ESC,"z","-INF",e,r):isNaN(t)?this.emitString(com.cognitect.transit.delimiters.ESC,"z","NaN",e,r):e||"string"==typeof t||t instanceof goog.math.Long?this.emitString(com.cognitect.transit.delimiters.ESC,"i",t.toString(),e,r):t},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitDouble=function(t,e,r){return e?this.emitString(t.ESC,"d",t,e,r):t},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitBinary=function(t,e,r){return this.emitString(com.cognitect.transit.delimiters.ESC,"b",t,e,r)},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitQuoted=function(t,e,r){return t.verbose?((t={})[this.emitString(com.cognitect.transit.delimiters.ESC_TAG,"'","",!0,r)]=com.cognitect.transit.impl.writer.marshal(this,e,!1,r),t):[this.emitString(com.cognitect.transit.delimiters.ESC_TAG,"'","",!0,r),com.cognitect.transit.impl.writer.marshal(this,e,!1,r)]},com.cognitect.transit.impl.writer.emitObjects=function(r,t,n){var o=[];if(com.cognitect.transit.util.isArray(t))for(var e=0;e<t.length;e++)o.push(com.cognitect.transit.impl.writer.marshal(r,t[e],!1,n));else t.forEach(function(t,e){o.push(com.cognitect.transit.impl.writer.marshal(r,t,!1,n))});return o},com.cognitect.transit.impl.writer.emitArray=function(t,e,r,n){return com.cognitect.transit.impl.writer.emitObjects(t,e,n)},com.cognitect.transit.impl.writer.isStringableKey=function(t,e){if("string"==typeof e)return!0;var r=t.handler(e);return r&&1===r.tag(e).length},com.cognitect.transit.impl.writer.stringableKeys=function(r,t){var e=r.unpack(t),n=!0;if(e){for(var o=0;o<e.length&&(n=com.cognitect.transit.impl.writer.isStringableKey(r,e[o]));o+=2);return n}if(t.keys&&(o=null,(e=t.keys()).next)){for(o=e.next();!o.done&&(n=com.cognitect.transit.impl.writer.isStringableKey(r,o.value));)o=e.next();return n}if(t.forEach)return t.forEach(function(t,e){n=n&&com.cognitect.transit.impl.writer.isStringableKey(r,e)}),n;throw Error("Cannot walk keys of object type "+com.cognitect.transit.handlers.constructor(t).name)},com.cognitect.transit.impl.writer.isForeignObject=function(t){if(t.constructor.transit$isObject)return!0;var e="Object"==(e=(e=(e=t.constructor.toString()).substr(9)).substr(0,e.indexOf("(")));return void 0!==Object.defineProperty?Object.defineProperty(t.constructor,"transit$isObject",{value:e,enumerable:!1}):t.constructor.transit$isObject=e,e},com.cognitect.transit.impl.writer.emitMap=function(r,t,e,n){var o=null,i=null,a=null;o=null;if(e=0,t.constructor===Object||null!=t.forEach||r.handlerForForeign&&com.cognitect.transit.impl.writer.isForeignObject(t)){if(r.verbose){if(null!=t.forEach)if(com.cognitect.transit.impl.writer.stringableKeys(r,t)){var s={};t.forEach(function(t,e){s[com.cognitect.transit.impl.writer.marshal(r,e,!0,!1)]=com.cognitect.transit.impl.writer.marshal(r,t,!1,n)})}else{if(o=r.unpack(t),i=[],a=r.emitString(com.cognitect.transit.delimiters.ESC_TAG,"cmap","",!0,n),o)for(;e<o.length;e+=2)i.push(com.cognitect.transit.impl.writer.marshal(r,o[e],!1,!1)),i.push(com.cognitect.transit.impl.writer.marshal(r,o[e+1],!1,n));else t.forEach(function(t,e){i.push(com.cognitect.transit.impl.writer.marshal(r,e,!1,!1)),i.push(com.cognitect.transit.impl.writer.marshal(r,t,!1,n))});(s={})[a]=i}else for(o=com.cognitect.transit.util.objectKeys(t),s={};e<o.length;e++)s[com.cognitect.transit.impl.writer.marshal(r,o[e],!0,!1)]=com.cognitect.transit.impl.writer.marshal(r,t[o[e]],!1,n);return s}if(null!=t.forEach){if(com.cognitect.transit.impl.writer.stringableKeys(r,t)){if(o=r.unpack(t),s=["^ "],o)for(;e<o.length;e+=2)s.push(com.cognitect.transit.impl.writer.marshal(r,o[e],!0,n)),s.push(com.cognitect.transit.impl.writer.marshal(r,o[e+1],!1,n));else t.forEach(function(t,e){s.push(com.cognitect.transit.impl.writer.marshal(r,e,!0,n)),s.push(com.cognitect.transit.impl.writer.marshal(r,t,!1,n))});return s}if(o=r.unpack(t),i=[],a=r.emitString(com.cognitect.transit.delimiters.ESC_TAG,"cmap","",!0,n),o)for(;e<o.length;e+=2)i.push(com.cognitect.transit.impl.writer.marshal(r,o[e],!1,n)),i.push(com.cognitect.transit.impl.writer.marshal(r,o[e+1],!1,n));else t.forEach(function(t,e){i.push(com.cognitect.transit.impl.writer.marshal(r,e,!1,n)),i.push(com.cognitect.transit.impl.writer.marshal(r,t,!1,n))});return[a,i]}for(s=["^ "],o=com.cognitect.transit.util.objectKeys(t);e<o.length;e++)s.push(com.cognitect.transit.impl.writer.marshal(r,o[e],!0,n)),s.push(com.cognitect.transit.impl.writer.marshal(r,t[o[e]],!1,n));return s}if(null!=r.objectBuilder)return r.objectBuilder(t,function(t){return com.cognitect.transit.impl.writer.marshal(r,t,!0,n)},function(t){return com.cognitect.transit.impl.writer.marshal(r,t,!1,n)});throw e=com.cognitect.transit.handlers.constructor(t).name,(o=Error("Cannot write "+e)).data={obj:t,type:e},o},com.cognitect.transit.impl.writer.emitTaggedMap=function(t,e,r,n,o){return t.verbose?((n={})[t.emitString(com.cognitect.transit.delimiters.ESC_TAG,e,"",!0,o)]=com.cognitect.transit.impl.writer.marshal(t,r,!1,o),n):[t.emitString(com.cognitect.transit.delimiters.ESC_TAG,e,"",!0,o),com.cognitect.transit.impl.writer.marshal(t,r,!1,o)]},com.cognitect.transit.impl.writer.emitEncoded=function(t,e,r,n,o,i,a){if(1===r.length){if("string"==typeof n)return t.emitString(com.cognitect.transit.delimiters.ESC,r,n,i,a);if(i||t.preferStrings){if(null!==(n=(n=t.verbose&&e.getVerboseHandler())?(r=n.tag(o),n.stringRep(o,n)):e.stringRep(o,e)))return t.emitString(com.cognitect.transit.delimiters.ESC,r,n,i,a);throw(t=Error('Tag "'+r+'" cannot be encoded as string')).data={tag:r,rep:n,obj:o},t}}return com.cognitect.transit.impl.writer.emitTaggedMap(t,r,n,i,a)},com.cognitect.transit.impl.writer.marshal=function(t,e,r,n){null!==t.transform&&(e=t.transform(e));var o=t.handler(e)||(t.handlerForForeign?t.handlerForForeign(e,t.handlers):null),i=o?o.tag(e):null,a=o?o.rep(e):null;if(null==o||null==i)throw t=com.cognitect.transit.handlers.constructor(e).name,(r=Error("Cannot write "+t)).data={obj:e,type:t},r;switch(i){case"_":return t.emitNil(r,n);case"s":return t.emitString("","",com.cognitect.transit.impl.writer.escape(a),r,n);case"?":return t.emitBoolean(a,r,n);case"i":return t.emitInteger(a,r,n);case"d":return t.emitDouble(a,r,n);case"b":return t.emitBinary(a,r,n);case"'":return t.emitQuoted(t,a,n);case"array":return com.cognitect.transit.impl.writer.emitArray(t,a,r,n);case"map":return com.cognitect.transit.impl.writer.emitMap(t,a,r,n);default:return com.cognitect.transit.impl.writer.emitEncoded(t,o,i,a,e,r,n)}},com.cognitect.transit.impl.writer.maybeQuoted=function(t,e){if(null!=(r=t.handler(e)||(t.handlerForForeign?t.handlerForForeign(e,t.handlers):null)))return 1===r.tag(e).length?com.cognitect.transit.types.quoted(e):e;var r=com.cognitect.transit.handlers.constructor(e).name,n=Error("Cannot write "+r);throw n.data={obj:e,type:r},n},com.cognitect.transit.impl.writer.marshalTop=function(t,e,r,n){return JSON.stringify(com.cognitect.transit.impl.writer.marshal(t,com.cognitect.transit.impl.writer.maybeQuoted(t,e),r,n))},com.cognitect.transit.impl.writer.Writer=function(t,e){this._marshaller=t,this.options=e||{},this.cache=!1===this.options.cache?null:this.options.cache?this.options.cache:new com.cognitect.transit.caching.WriteCache},com.cognitect.transit.impl.writer.Writer.prototype.marshaller=function(){return this._marshaller},com.cognitect.transit.impl.writer.Writer.prototype.marshaller=com.cognitect.transit.impl.writer.Writer.prototype.marshaller,com.cognitect.transit.impl.writer.Writer.prototype.write=function(t,e){var r=e||{},n=r.asMapKey||!1,o=!this._marshaller.verbose&&this.cache;return r=!1===r.marshalTop?com.cognitect.transit.impl.writer.marshal(this._marshaller,t,n,o):com.cognitect.transit.impl.writer.marshalTop(this._marshaller,t,n,o),null!=this.cache&&this.cache.clear(),r},com.cognitect.transit.impl.writer.Writer.prototype.write=com.cognitect.transit.impl.writer.Writer.prototype.write,com.cognitect.transit.impl.writer.Writer.prototype.register=function(t,e){this._marshaller.registerHandler(t,e)},com.cognitect.transit.impl.writer.Writer.prototype.register=com.cognitect.transit.impl.writer.Writer.prototype.register;var TRANSIT_DEV=!0,TRANSIT_NODE_TARGET=!0,TRANSIT_BROWSER_TARGET=!1,TRANSIT_BROWSER_AMD_TARGET=!1;com.cognitect.transit.reader=function(t,e){if("json"!==t&&"json-verbose"!==t&&null!=t)throw Error("Cannot create reader of type "+t);var r=new com.cognitect.transit.impl.reader.JSONUnmarshaller(e);return new com.cognitect.transit.impl.reader.Reader(r,e)},com.cognitect.transit.writer=function(t,e){if("json"!==t&&"json-verbose"!==t&&null!=t)throw(r=Error('Type must be "json"')).data={type:t},r;"json-verbose"===t&&(null==e&&(e={}),e.verbose=!0);var r=new com.cognitect.transit.impl.writer.JSONMarshaller(e);return new com.cognitect.transit.impl.writer.Writer(r,e)},com.cognitect.transit.makeWriteHandler=function(t){var e=function(){};return e.prototype.tag=t.tag,e.prototype.rep=t.rep,e.prototype.stringRep=t.stringRep,e.prototype.getVerboseHandler=t.getVerboseHandler,new e},com.cognitect.transit.makeBuilder=function(t){var e=function(){};return e.prototype.init=t.init,e.prototype.add=t.add,e.prototype.finalize=t.finalize,e.prototype.fromArray=t.fromArray,new e},com.cognitect.transit.date=com.cognitect.transit.types.date,com.cognitect.transit.integer=com.cognitect.transit.types.intValue,com.cognitect.transit.isInteger=com.cognitect.transit.types.isInteger,com.cognitect.transit.uuid=com.cognitect.transit.types.uuid,com.cognitect.transit.isUUID=com.cognitect.transit.types.isUUID,com.cognitect.transit.bigInt=com.cognitect.transit.types.bigInteger,com.cognitect.transit.isBigInt=com.cognitect.transit.types.isBigInteger,com.cognitect.transit.bigDec=com.cognitect.transit.types.bigDecimalValue,com.cognitect.transit.isBigDec=com.cognitect.transit.types.isBigDecimal,com.cognitect.transit.keyword=com.cognitect.transit.types.keyword,com.cognitect.transit.isKeyword=com.cognitect.transit.types.isKeyword,com.cognitect.transit.symbol=com.cognitect.transit.types.symbol,com.cognitect.transit.isSymbol=com.cognitect.transit.types.isSymbol,com.cognitect.transit.binary=com.cognitect.transit.types.binary,com.cognitect.transit.isBinary=com.cognitect.transit.types.isBinary,com.cognitect.transit.uri=com.cognitect.transit.types.uri,com.cognitect.transit.isURI=com.cognitect.transit.types.isURI,com.cognitect.transit.map=com.cognitect.transit.types.map,com.cognitect.transit.isMap=com.cognitect.transit.types.isMap,com.cognitect.transit.set=com.cognitect.transit.types.set,com.cognitect.transit.isSet=com.cognitect.transit.types.isSet,com.cognitect.transit.list=com.cognitect.transit.types.list,com.cognitect.transit.isList=com.cognitect.transit.types.isList,com.cognitect.transit.quoted=com.cognitect.transit.types.quoted,com.cognitect.transit.isQuoted=com.cognitect.transit.types.isQuoted,com.cognitect.transit.tagged=com.cognitect.transit.types.taggedValue,com.cognitect.transit.isTaggedValue=com.cognitect.transit.types.isTaggedValue,com.cognitect.transit.link=com.cognitect.transit.types.link,com.cognitect.transit.isLink=com.cognitect.transit.types.isLink,com.cognitect.transit.hash=com.cognitect.transit.eq.hashCode,com.cognitect.transit.hashMapLike=com.cognitect.transit.eq.hashMapLike,com.cognitect.transit.hashArrayLike=com.cognitect.transit.eq.hashArrayLike,com.cognitect.transit.equals=com.cognitect.transit.eq.equals,com.cognitect.transit.extendToEQ=com.cognitect.transit.eq.extendToEQ,com.cognitect.transit.mapToObject=function(t){var r={};return t.forEach(function(t,e){if("string"!=typeof e)throw Error("Cannot convert map with non-string keys");r[e]=t}),r},com.cognitect.transit.objectToMap=function(t){var e,r=com.cognitect.transit.map();for(e in t)t.hasOwnProperty(e)&&r.set(e,t[e]);return r},com.cognitect.transit.decoder=com.cognitect.transit.impl.decoder.decoder,com.cognitect.transit.readCache=com.cognitect.transit.caching.readCache,com.cognitect.transit.writeCache=com.cognitect.transit.caching.writeCache,com.cognitect.transit.UUIDfromString=com.cognitect.transit.types.UUIDfromString,com.cognitect.transit.randomUUID=com.cognitect.transit.util.randomUUID,com.cognitect.transit.stringableKeys=com.cognitect.transit.impl.writer.stringableKeys,TRANSIT_BROWSER_TARGET&&(goog.exportSymbol("transit.reader",com.cognitect.transit.reader),goog.exportSymbol("transit.writer",com.cognitect.transit.writer),goog.exportSymbol("transit.makeBuilder",com.cognitect.transit.makeBuilder),goog.exportSymbol("transit.makeWriteHandler",com.cognitect.transit.makeWriteHandler),goog.exportSymbol("transit.date",com.cognitect.transit.types.date),goog.exportSymbol("transit.integer",com.cognitect.transit.types.intValue),goog.exportSymbol("transit.isInteger",com.cognitect.transit.types.isInteger),goog.exportSymbol("transit.uuid",com.cognitect.transit.types.uuid),goog.exportSymbol("transit.isUUID",com.cognitect.transit.types.isUUID),goog.exportSymbol("transit.bigInt",com.cognitect.transit.types.bigInteger),goog.exportSymbol("transit.isBigInt",com.cognitect.transit.types.isBigInteger),goog.exportSymbol("transit.bigDec",com.cognitect.transit.types.bigDecimalValue),goog.exportSymbol("transit.isBigDec",com.cognitect.transit.types.isBigDecimal),goog.exportSymbol("transit.keyword",com.cognitect.transit.types.keyword),goog.exportSymbol("transit.isKeyword",com.cognitect.transit.types.isKeyword),goog.exportSymbol("transit.symbol",com.cognitect.transit.types.symbol),goog.exportSymbol("transit.isSymbol",com.cognitect.transit.types.isSymbol),goog.exportSymbol("transit.binary",com.cognitect.transit.types.binary),goog.exportSymbol("transit.isBinary",com.cognitect.transit.types.isBinary),goog.exportSymbol("transit.uri",com.cognitect.transit.types.uri),goog.exportSymbol("transit.isURI",com.cognitect.transit.types.isURI),goog.exportSymbol("transit.map",com.cognitect.transit.types.map),goog.exportSymbol("transit.isMap",com.cognitect.transit.types.isMap),goog.exportSymbol("transit.set",com.cognitect.transit.types.set),goog.exportSymbol("transit.isSet",com.cognitect.transit.types.isSet),goog.exportSymbol("transit.list",com.cognitect.transit.types.list),goog.exportSymbol("transit.isList",com.cognitect.transit.types.isList),goog.exportSymbol("transit.quoted",com.cognitect.transit.types.quoted),goog.exportSymbol("transit.isQuoted",com.cognitect.transit.types.isQuoted),goog.exportSymbol("transit.tagged",com.cognitect.transit.types.taggedValue),goog.exportSymbol("transit.isTaggedValue",com.cognitect.transit.types.isTaggedValue),goog.exportSymbol("transit.link",com.cognitect.transit.types.link),goog.exportSymbol("transit.isLink",com.cognitect.transit.types.isLink),goog.exportSymbol("transit.hash",com.cognitect.transit.eq.hashCode),goog.exportSymbol("transit.hashMapLike",com.cognitect.transit.eq.hashMapLike),goog.exportSymbol("transit.hashArrayLike",com.cognitect.transit.eq.hashArrayLike),goog.exportSymbol("transit.equals",com.cognitect.transit.eq.equals),goog.exportSymbol("transit.extendToEQ",com.cognitect.transit.eq.extendToEQ),goog.exportSymbol("transit.mapToObject",com.cognitect.transit.mapToObject),goog.exportSymbol("transit.objectToMap",com.cognitect.transit.objectToMap),goog.exportSymbol("transit.decoder",com.cognitect.transit.impl.decoder.decoder),goog.exportSymbol("transit.UUIDfromString",com.cognitect.transit.types.UUIDfromString),goog.exportSymbol("transit.randomUUID",com.cognitect.transit.util.randomUUID),goog.exportSymbol("transit.stringableKeys",com.cognitect.transit.impl.writer.stringableKeys),goog.exportSymbol("transit.readCache",com.cognitect.transit.caching.readCache),goog.exportSymbol("transit.writeCache",com.cognitect.transit.caching.writeCache)),TRANSIT_NODE_TARGET&&(module.exports={reader:com.cognitect.transit.reader,writer:com.cognitect.transit.writer,makeBuilder:com.cognitect.transit.makeBuilder,makeWriteHandler:com.cognitect.transit.makeWriteHandler,date:com.cognitect.transit.types.date,integer:com.cognitect.transit.types.intValue,isInteger:com.cognitect.transit.types.isInteger,uuid:com.cognitect.transit.types.uuid,isUUID:com.cognitect.transit.types.isUUID,bigInt:com.cognitect.transit.types.bigInteger,isBigInt:com.cognitect.transit.types.isBigInteger,bigDec:com.cognitect.transit.types.bigDecimalValue,isBigDec:com.cognitect.transit.types.isBigDecimal,keyword:com.cognitect.transit.types.keyword,isKeyword:com.cognitect.transit.types.isKeyword,symbol:com.cognitect.transit.types.symbol,isSymbol:com.cognitect.transit.types.isSymbol,binary:com.cognitect.transit.types.binary,isBinary:com.cognitect.transit.types.isBinary,uri:com.cognitect.transit.types.uri,isURI:com.cognitect.transit.types.isURI,map:com.cognitect.transit.types.map,isMap:com.cognitect.transit.types.isMap,set:com.cognitect.transit.types.set,isSet:com.cognitect.transit.types.isSet,list:com.cognitect.transit.types.list,isList:com.cognitect.transit.types.isList,quoted:com.cognitect.transit.types.quoted,isQuoted:com.cognitect.transit.types.isQuoted,tagged:com.cognitect.transit.types.taggedValue,isTaggedValue:com.cognitect.transit.types.isTaggedValue,link:com.cognitect.transit.types.link,isLink:com.cognitect.transit.types.isLink,hash:com.cognitect.transit.eq.hashCode,hashArrayLike:com.cognitect.transit.eq.hashArrayLike,hashMapLike:com.cognitect.transit.eq.hashMapLike,equals:com.cognitect.transit.eq.equals,extendToEQ:com.cognitect.transit.eq.extendToEQ,mapToObject:com.cognitect.transit.mapToObject,objectToMap:com.cognitect.transit.objectToMap,decoder:com.cognitect.transit.impl.decoder.decoder,UUIDfromString:com.cognitect.transit.types.UUIDfromString,randomUUID:com.cognitect.transit.util.randomUUID,stringableKeys:com.cognitect.transit.impl.writer.stringableKeys,readCache:com.cognitect.transit.caching.readCache,writeCache:com.cognitect.transit.caching.writeCache})}).call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"))},"./node_modules/uuid/lib/bytesToUuid.js":function(t,e){for(var o=[],r=0;r<256;++r)o[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,n=o;return n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]}},"./node_modules/uuid/lib/rng-browser.js":function(i,t,e){(function(t){var e,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var n=new Uint8Array(16);e=function(){return r.getRandomValues(n),n}}if(!e){var o=new Array(16);e=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}i.exports=e}).call(this,e("./node_modules/webpack/buildin/global.js"))},"./node_modules/uuid/v4.js":function(t,e,r){var a=r("./node_modules/uuid/lib/rng-browser.js"),s=r("./node_modules/uuid/lib/bytesToUuid.js");t.exports=function(t,e,r){var n=e&&r||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var i=0;i<16;++i)e[n+i]=o[i];return e||s(o)}},"./node_modules/webpack/buildin/global.js":function(U_,V_){var W_;W_=function(){return this}();try{W_=W_||Function("return this")()||eval("this")}catch(t){"object"==typeof window&&(W_=window)}U_.exports=W_},"./src/auto_api.js":function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r("./node_modules/immutable/dist/immutable.js"),u=o.Map,g=o.List,l=o.fromJS,i=r("./src/op_set.js"),p=r("./src/freeze_api.js"),h=r("./src/immutable_api.js");function a(t){return"object"===(void 0===t?"undefined":n(t))&&null!==t}function f(t){return a(t)&&!!t["@@__IMMUTABLE_ITERABLE__@@"]}function s(t,e,r){if(!(e&&e._state&&e._objectId&&e._state.hasIn(["opSet","byObject",e._objectId])))throw new TypeError("The first argument to Automerge."+t+" must be the object to modify, but you passed "+JSON.stringify(e));if(r&&(!e._change||!e._change.mutable))throw new TypeError("Automerge."+t+" requires a writable object as first argument, but the one you passed is read-only. Please use Automerge.change() to get a writable version.")}t.exports={checkTarget:s,isObject:a,isImmutable:f,makeChange:function(t,s,e){var c=u(),r=g().withMutations(function(t){var e=!0,r=!1,n=void 0;try{for(var o,i=s.getIn(["opSet","local"]).reverse()[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;["set","del","link"].includes(a.get("action"))?c.getIn([a.get("obj"),a.get("key")])||(c=c.setIn([a.get("obj"),a.get("key")],!0),t.unshift(a)):t.unshift(a)}}catch(t){r=!0,n=t}finally{try{!e&&i.return&&i.return()}finally{if(r)throw n}}}),n=t._state.get("actorId"),o=t._state.getIn(["opSet","clock",n],0)+1,i=t._state.getIn(["opSet","deps"]).remove(n),a=l({actor:n,seq:o,deps:i,message:e,ops:r});return f(t)?h.applyChanges(t,g.of(a),!0):p.applyChanges(t,g.of(a),!0)},applyChanges:function(t,e){s("applyChanges",t);var r=0<t._state.getIn(["opSet","history"]).size;return f(t)?h.applyChanges(t,l(e),r):p.applyChanges(t,l(e),r)},merge:function(t,e){if(s("merge",t),t._state.get("actorId")===e._state.get("actorId"))throw new RangeError("Cannot merge an actor with itself");var r=t._state.getIn(["opSet","clock"]),n=i.getMissingChanges(e._state.get("opSet"),r);return f(t)?h.applyChanges(t,n,!0):p.applyChanges(t,n,!0)}}},"./src/automerge.js":function(t,e,r){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function m(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var n=r("./node_modules/immutable/dist/immutable.js"),d=(n.Map,n.List),c=n.fromJS,h=r("./src/uuid.js"),i=r("./src/proxies.js").rootObjectProxy,_=r("./src/op_set.js"),o=r("./src/auto_api.js"),u=o.isObject,v=o.checkTarget,s=o.makeChange,g=o.merge,l=o.applyChanges,p=r("./src/freeze_api.js"),f=r("./src/immutable_api.js"),b=r("./src/text.js").Text,S=r("./node_modules/transit-immutable-js/index.js");function w(t,e){var r=t.get("opSet"),n=t.get("actorId"),o=c(e),i=_.addLocalOp(r,o,n),a=y(i,2),s=a[0];a[1];return t.set("opSet",s)}function E(t,e,r){if(!t.hasIn(["opSet","byObject",e]))throw"List object does not exist";if(!t.hasIn(["opSet","byObject",e,r])&&"_head"!==r)throw"Preceding list element does not exist";var n=t.getIn(["opSet","byObject",e,"_maxElem"],0)+1;return[t=w(t,{action:"ins",obj:e,key:r,elem:n}),t.get("actorId")+":"+n]}function I(t,e,r,n){if("string"!=typeof r)throw new TypeError("The key of a map entry must be a string, but "+JSON.stringify(r)+" is a "+(void 0===r?"undefined":a(r)));if(""===r)throw new TypeError("The key of a map entry must not be an empty string");if(r.startsWith("_"))throw new TypeError("Map entries starting with underscore are not allowed: "+r);if(["object","boolean","number","string"].includes(void 0===n?"undefined":a(n))){if(u(n)){var o=function(t,e){if("string"==typeof e._objectId)return[t,e._objectId];var r=h();if(e instanceof b){if(t=w(t,{action:"makeText",obj:r}),0<e.length)throw"assigning non-empty text is not yet supported"}else if(Array.isArray(e)){t=w(t,{action:"makeList",obj:r});for(var n="_head",o=0;o<e.length;o++){var i=E(t,r,n),a=y(i,2);t=I(t=a[0],r,n=a[1],e[o])}}else{t=w(t,{action:"makeMap",obj:r});var s=!0,c=!1,u=void 0;try{for(var g,l=Object.keys(e)[Symbol.iterator]();!(s=(g=l.next()).done);s=!0){var p=g.value;t=I(t,r,p,e[p])}}catch(t){c=!0,u=t}finally{try{!s&&l.return&&l.return()}finally{if(c)throw u}}}return[t,r]}(t,n),i=y(o,2);return w(i[0],{action:"link",obj:e,key:r,value:i[1]})}return w(t,{action:"set",obj:e,key:r,value:n})}throw new TypeError("Unsupported type of value: "+(void 0===n?"undefined":a(n)))}function O(t,e,r,n,o){for(var i=t.getIn(["opSet","byObject",e,"_elemIds"]),a=0;a<n;a++){var s=i.keyOf(r);s&&(i=(t=w(t,{action:"del",obj:e,key:s})).getIn(["opSet","byObject",e,"_elemIds"]))}var c=0===r?"_head":i.keyOf(r-1);if(!c&&0<o.length)throw new RangeError("Cannot insert at index "+r+", which is past the end of the list");var u=!0,g=!1,l=void 0;try{for(var p,h=o[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var f=p.value,m=E(t,e,c),d=y(m,2);t=I(t=d[0],e,c=d[1],f)}}catch(t){g=!0,l=t}finally{try{!u&&h.return&&h.return()}finally{if(g)throw l}}return t}function j(t,e,r,n){var o=t.getIn(["opSet","byObject",e,"_elemIds"]).keyOf(A(r));return o?I(t,e,o,n):O(t,e,r,0,[n])}function T(t,e,r){var n=t.getIn(["opSet","byObject",e,"_init","action"]);return"makeList"===n||"makeText"===n?O(t,e,A(r),1,[]):t.hasIn(["opSet","byObject",e,r])?w(t,{action:"del",obj:e,key:r}):t}function A(t){if("string"==typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t)),"number"!=typeof t)throw new TypeError("A list index must be a number, but you passed "+JSON.stringify(t));if(t<0||isNaN(t)||t===1/0||t===-1/0)throw new RangeError("A list index must be positive, but you passed "+t);return t}function C(r,n){return r.keySeq().concat(n.keySeq()).reduce(function(t,e){return t&&r.get(e,0)<=n.get(e,0)},!0)}t.exports={init:function(t){return p.init(t||h())},change:function(t,e,r){if(v("change",t),"00000000-0000-0000-0000-000000000000"!==t._objectId)throw new TypeError("The first argument to Automerge.change must be the document root");if(t._change&&t._change.mutable)throw new TypeError("Calls to Automerge.change cannot be nested");if("function"==typeof e&&void 0===r){var n=[r,e];e=n[0],r=n[1]}var o={state:t._state,mutable:!0,setField:I,splice:O,setListIndex:j,deleteField:T};return r(i(o)),s(t,o.state,e)},merge:g,diff:function(t,e){v("diff",t);var r=t._state.getIn(["opSet","clock"]);if(!C(r,e._state.getIn(["opSet","clock"])))throw new RangeError("Cannot diff two states that have diverged");var n=t._state.get("opSet").set("diff",d()),o=_.getMissingChanges(e._state.get("opSet"),r),i=[],a=void 0,s=!0,c=!1,u=void 0;try{for(var g,l=o[Symbol.iterator]();!(s=(g=l.next()).done);s=!0){var p=g.value,h=_.addChange(n,p),f=y(h,2);n=f[0],a=f[1],i.push.apply(i,m(a))}}catch(t){c=!0,u=t}finally{try{!s&&l.return&&l.return()}finally{if(c)throw u}}return i},assign:function(t,e){if(v("assign",t,!0),!u(e))throw new TypeError("The second argument to Automerge.assign must be an object, but you passed "+JSON.stringify(e));var r=t._state,n=!0,o=!1,i=void 0;try{for(var a,s=Object.keys(e)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;r="list"===t._type?j(r,t._objectId,c,e[c]):I(r,t._objectId,c,e[c])}}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}t._change.state=r},load:function(t,e){return p.applyChanges(p.init(e||h()),S.fromJSON(t),!1)},save:function(t){return v("save",t),S.toJSON(t._state.getIn(["opSet","history"]))},equals:function t(e,r){if(!u(e)||!u(r))return e===r;var n=Object.keys(e).sort(),o=Object.keys(r).sort();if(n.length!==o.length)return!1;for(var i=0;i<n.length;i++){if(n[i]!==o[i])return!1;if(!t(e[n[i]],r[o[i]]))return!1}return!0},inspect:function(t){return v("inspect",t),JSON.parse(JSON.stringify(t))},getHistory:function(r){v("getHistory",r);var n=r._state.getIn(["opSet","history"]);return n.map(function(t,e){return{get change(){return t.toJS()},get snapshot(){var t=p.init(r._state.get("actorId"));return p.applyChanges(t,n.slice(0,e+1),!1)}}}).toArray()},initImmutable:function(t){return f.init(t||h())},loadImmutable:function(t,e){return f.applyChanges(f.init(e||h()),S.fromJSON(t),!1)},getConflicts:function(t,e){v("getConflicts",t);var r=t._state.get("opSet"),n=e._objectId;if(!n||"makeList"!==r.getIn(["byObject",n,"_init","action"]))throw new TypeError("The second argument to Automerge.getConflicts must be a list object");return d(_.listIterator(r,n,"conflicts",{cache:{},instantiateObject:function(t,e){return t.getIn(["cache",e])}}))},getChanges:function(t,e){v("getChanges",t);var r=t._state.getIn(["opSet","clock"]);if(!C(r,e._state.getIn(["opSet","clock"])))throw new RangeError("Cannot diff two states that have diverged");return _.getMissingChanges(e._state.get("opSet"),r).toJS()},getChangesForActor:function(t,e){return v("getChanges",t),_.getChangesForActor(t._state.get("opSet"),e).toJS()},applyChanges:l,getMissingDeps:function(t){return v("getMissingDeps",t),_.getMissingDeps(t._state.get("opSet"))},Text:b,uuid:h,DocSet:r("./src/doc_set.js"),WatchableDoc:r("./src/watchable_doc.js"),Connection:r("./src/connection.js")}},"./src/connection.js":function(t,e,r){"use strict";var n=function(){function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}();var o=r("./node_modules/immutable/dist/immutable.js"),i=o.Map,a=o.fromJS,s=r("./src/op_set.js");function c(t,e,r){return r=t.get(e,i()).mergeWith(function(t,e){return Math.max(t,e)},r),t.set(e,r)}var u=function(){function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this._docSet=t,this._sendMsg=e,this._theirClock=i(),this._ourClock=i(),this._docChangedHandler=this.docChanged.bind(this)}return n(r,[{key:"open",value:function(){var t=!0,e=!1,r=void 0;try{for(var n,o=this._docSet.docIds[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;this.docChanged(i,this._docSet.getDoc(i))}}catch(t){e=!0,r=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw r}}this._docSet.registerHandler(this._docChangedHandler)}},{key:"close",value:function(){this._docSet.unregisterHandler(this._docChangedHandler)}},{key:"sendMsg",value:function(t,e,r){var n={docId:t,clock:e.toJS()};this._ourClock=c(this._ourClock,t,e),r&&(n.changes=r.toJS()),this._sendMsg(n)}},{key:"maybeSendChanges",value:function(t){var e=this._docSet.getDoc(t),r=e._state.getIn(["opSet","clock"]);if(this._theirClock.has(t)){var n=s.getMissingChanges(e._state.get("opSet"),this._theirClock.get(t));if(!n.isEmpty())return this._theirClock=c(this._theirClock,t,r),void this.sendMsg(t,r,n)}r.equals(this._ourClock.get(t,i()))||this.sendMsg(t,r)}},{key:"docChanged",value:function(t,e){var r,n,o=e._state.getIn(["opSet","clock"]);if(!o)throw new TypeError("This object cannot be used for network sync. Are you trying to sync a snapshot from the history?");if(r=this._ourClock.get(t,i()),n=o,!r.keySeq().concat(n.keySeq()).reduce(function(t,e){return t&&r.get(e,0)<=n.get(e,0)},!0))throw new RangeError("Cannot pass an old state object to a connection");this.maybeSendChanges(t)}},{key:"receiveMsg",value:function(t){return t.clock&&(this._theirClock=c(this._theirClock,t.docId,a(t.clock))),t.changes?this._docSet.applyChanges(t.docId,a(t.changes)):(this._docSet.getDoc(t.docId)?this.maybeSendChanges(t.docId):this._ourClock.has(t.docId)||this.sendMsg(t.docId,i()),this._docSet.getDoc(t.docId))}}]),r}();t.exports=u},"./src/doc_set.js":function(t,e,r){"use strict";var n=function(){function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}();var o=r("./node_modules/immutable/dist/immutable.js"),i=o.Map,a=o.Set,s=r("./src/uuid.js"),c=r("./src/freeze_api.js"),u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.docs=i(),this.handlers=a()}return n(t,[{key:"getDoc",value:function(t){return this.docs.get(t)}},{key:"setDoc",value:function(e,r){this.docs=this.docs.set(e,r),this.handlers.forEach(function(t){return t(e,r)})}},{key:"applyChanges",value:function(t,e){var r=this.docs.get(t)||c.init(s());return r=c.applyChanges(r,e,!0),this.setDoc(t,r),r}},{key:"registerHandler",value:function(t){this.handlers=this.handlers.add(t)}},{key:"unregisterHandler",value:function(t){this.handlers=this.handlers.remove(t)}},{key:"docIds",get:function(){return this.docs.keys()}}]),t}();t.exports=u},"./src/freeze_api.js":function(t,e,r){"use strict";var _=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function v(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r("./node_modules/immutable/dist/immutable.js"),i=o.Map,h=o.List,b=o.Set,S=r("./src/op_set.js"),w=r("./src/text.js").Text;function E(t){return"object"===(void 0===t?"undefined":n(t))&&null!==t}function I(t,e){var r=e[0].obj,n=t.getIn(["cache",r]),o=Object.assign({},E(n)?n._conflicts:void 0),i=Object.assign({},n);Object.defineProperty(i,"_objectId",{value:r}),Object.defineProperty(i,"_conflicts",{value:o});var a=!0,s=!1,c=void 0;try{for(var u,g=e[Symbol.iterator]();!(a=(u=g.next()).done);a=!0){var l=u.value;if("create"===l.action);else if("set"===l.action)if(i[l.key]=l.link?t.getIn(["cache",l.value]):l.value,l.conflicts){o[l.key]={};var p=!0,h=!1,f=void 0;try{for(var m,d=l.conflicts[Symbol.iterator]();!(p=(m=d.next()).done);p=!0){var y=m.value,_=y.link?t.getIn(["cache",y.value]):y.value;o[l.key][y.actor]=_}}catch(t){h=!0,f=t}finally{try{!p&&d.return&&d.return()}finally{if(h)throw f}}Object.freeze(o[l.key])}else delete o[l.key];else{if("remove"!==l.action)throw"Unknown action type: "+l.action;delete i[l.key],delete o[l.key]}}}catch(t){s=!0,c=t}finally{try{!a&&g.return&&g.return()}finally{if(s)throw c}}return Object.freeze(o),r!==S.ROOT_ID&&Object.freeze(i),t.setIn(["cache",r],i)}function O(t,e){var r=t.getIn(["cache",e.get("obj")]),n=Object.assign({},r._conflicts),o=Object.assign({},r);Object.defineProperty(o,"_objectId",{value:r._objectId}),Object.defineProperty(o,"_conflicts",{value:n});var i=t.getIn(["cache",e.get("value")]),a=!1;if(E(o[e.get("key")])&&o[e.get("key")]._objectId===e.get("value")&&(o[e.get("key")]=i,a=!0),E(n[e.get("key")])){var s=!0,c=!1,u=void 0;try{for(var g,l=Object.keys(n[e.get("key")])[Symbol.iterator]();!(s=(g=l.next()).done);s=!0){var p=g.value,h=n[e.get("key")][p];E(h)&&h._objectId===e.get("value")&&(n[e.get("key")]=Object.assign({},n[e.get("key")]),n[e.get("key")][p]=i,Object.freeze(n[e.get("key")]),a=!0)}}catch(t){c=!0,u=t}finally{try{!s&&l.return&&l.return()}finally{if(c)throw u}}}return a&&(Object.freeze(n),e.get("obj")!==S.ROOT_ID&&Object.freeze(o),t=t.setIn(["cache",e.get("obj")],o)),t}function j(t,e){var r=e[0].obj,n=t.getIn(["cache",r]),o=n?n.slice():[],i=n&&n._conflicts?n._conflicts.slice():[];Object.defineProperty(o,"_objectId",{value:r}),Object.defineProperty(o,"_conflicts",{value:i});var a=!0,s=!1,c=void 0;try{for(var u,g=e[Symbol.iterator]();!(a=(u=g.next()).done);a=!0){var l=u.value,p=l.link?t.getIn(["cache",l.value]):l.value,h=null;if(l.conflicts){var f=!0,m=!(h={}),d=void 0;try{for(var y,_=l.conflicts[Symbol.iterator]();!(f=(y=_.next()).done);f=!0){var v=y.value;h[v.actor]=v.link?t.getIn(["cache",v.value]):v.value}}catch(t){m=!0,d=t}finally{try{!f&&_.return&&_.return()}finally{if(m)throw d}}Object.freeze(h)}if("create"===l.action);else if("insert"===l.action)o.splice(l.index,0,p),i.splice(l.index,0,h);else if("set"===l.action)o[l.index]=p,i[l.index]=h;else{if("remove"!==l.action)throw"Unknown action type: "+l.action;o.splice(l.index,1),i.splice(l.index,1)}}}catch(t){s=!0,c=t}finally{try{!a&&g.return&&g.return()}finally{if(s)throw c}}return Object.freeze(i),t.setIn(["cache",r],Object.freeze(o))}function T(t,e){var r=t.getIn(["byObject",e.get("obj"),"_elemIds"]).indexOf(e.get("key"));if(r<0)return t;var n=!1,o=t.getIn(["cache",e.get("obj")]),i=t.getIn(["cache",e.get("value")]),a=o._conflicts.slice();if(o=o.slice(),Object.defineProperty(o,"_objectId",{value:e.get("obj")}),Object.defineProperty(o,"_conflicts",{value:a}),E(o[r])&&o[r]._objectId===e.get("value")&&(o[r]=i,n=!0),E(a[r])){var s=!0,c=!1,u=void 0;try{for(var g,l=Object.keys(a[r])[Symbol.iterator]();!(s=(g=l.next()).done);s=!0){var p=g.value,h=a[r][p];E(h)&&h._objectId===e.get("value")&&(a[r]=Object.assign({},a[r]),a[r][p]=i,Object.freeze(a[r]),n=!0)}}catch(t){c=!0,u=t}finally{try{!s&&l.return&&l.return()}finally{if(c)throw u}}}return n&&(Object.freeze(a),t=t.setIn(["cache",e.get("obj")],Object.freeze(o))),t}function a(t,e){var r=e===S.ROOT_ID,n=t.getIn(["byObject",e,"_init","action"]);if(!r){if(t.hasIn(["cache",e]))return t.getIn(["cache",e]);if(this.cache&&this.cache[e])return this.cache[e]}var o=void 0;if(r||"makeMap"===n){o={};var i=S.getObjectConflicts(t,e,this).toJS();Object.defineProperty(o,"_objectId",{value:e}),Object.defineProperty(o,"_conflicts",{value:Object.freeze(i)});var a=!0,s=!1,c=void 0;try{for(var u,g=S.getObjectFields(t,e)[Symbol.iterator]();!(a=(u=g.next()).done);a=!0){var l=u.value;o[l]=S.getObjectField(t,e,l,this)}}catch(t){s=!0,c=t}finally{try{!a&&g.return&&g.return()}finally{if(s)throw c}}}else if("makeList"===n){o=[].concat(v(S.listIterator(t,e,"values",this)));var p=h(S.listIterator(t,e,"conflicts",this)).toJS();Object.defineProperty(o,"_objectId",{value:e}),Object.defineProperty(o,"_conflicts",{value:Object.freeze(p)})}else{if("makeText"!==n)throw"Unknown object type: "+n;o=new w(t,e)}return r||Object.freeze(o),this.cache&&(this.cache[e]=o),o}function A(t){t=t.set("cache",i());var e={instantiateObject:a,cache:{}},r=e.instantiateObject(t,S.ROOT_ID);return[t.set("cache",i(e.cache)),r]}function C(t,e){return Object.defineProperty(e,"_state",{value:t}),Object.defineProperty(e,"_actorId",{value:t.get("actorId")}),Object.freeze(e),e}t.exports={init:function(t){var e=A(S.init()),r=_(e,2),n=r[0],o=r[1];return C(i({actorId:t,opSet:n}),o)},applyChanges:function(t,e,r){var n=t._state.get("opSet"),o=[],i=!0,a=!1,s=void 0;try{for(var c,u=e[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var g=c.value,l=S.addChange(n,g),p=_(l,2),h=p[0],f=p[1];o.push.apply(o,v(f)),n=h}}catch(t){a=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(a)throw s}}var m=void 0;if(r)(m=(n=function(e,t){for(var r=b(),n=-1,o=0;o<t.length;o++)if(o===t.length-1||t[o+1].obj!==t[o].obj){var i=t.slice(n+1,o+1);if(n=o,r.includes(i[0].obj)||(r=r.add(i[0].obj)),"map"===i[0].type)e=I(e,i);else if("list"===i[0].type)e=j(e,i);else{if("text"!==i[0].type)throw"Unknown object type: "+i[0].type;e=e.setIn(["cache",i[0].obj],new w(e,i[0].obj))}}for(;!r.isEmpty();){var a=r.flatMap(function(t){return e.getIn(["byObject",t,"_inbound"],b())});r=b();var s=!0,c=!1,u=void 0;try{for(var g,l=a[Symbol.iterator]();!(s=(g=l.next()).done);s=!0){var p=g.value;r=r.add(p.get("obj"));var h=e.getIn(["byObject",p.get("obj"),"_init","action"]);if("makeList"===h)e=T(e,p);else if("makeMap"===h||p.get("obj")===S.ROOT_ID)e=O(e,p);else{if("makeText"!==h)throw"Unknown object type: "+h;e=e.setIn(["cache",p.get("obj")],new w(e,p.get("obj")))}}}catch(t){c=!0,u=t}finally{try{!s&&l.return&&l.return()}finally{if(c)throw u}}}return e}(n,o)).getIn(["cache",S.ROOT_ID]))===t&&(m=Object.assign({},t),Object.defineProperty(m,"_objectId",{value:t._objectId}),Object.defineProperty(m,"_conflicts",{value:t._conflicts}),n=n.setIn(["cache",S.ROOT_ID],m));else{var d=A(n),y=_(d,2);n=y[0],m=y[1]}return C(t._state.set("opSet",n),m)}}},"./src/immutable_api.js":function(t,e,r){"use strict";var y=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function _(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var n=r("./node_modules/immutable/dist/immutable.js"),p=n.Map,h=n.List,v=n.Set,b=r("./src/op_set.js"),S=r("./src/text.js").Text;function o(t,e){var r=e===b.ROOT_ID,n=t.getIn(["byObject",e,"_init","action"]);if(!r){if(t.hasIn(["cache",e]))return t.getIn(["cache",e]);if(this.cache&&this.cache[e])return this.cache[e]}var o=void 0;if(r||"makeMap"===n){var i=b.getObjectConflicts(t,e,this);o=p().set("_conflicts",i).set("_objectId",e);var a=!0,s=!1,c=void 0;try{for(var u,g=b.getObjectFields(t,e)[Symbol.iterator]();!(a=(u=g.next()).done);a=!0){var l=u.value;o=o.set(l,b.getObjectField(t,e,l,this))}}catch(t){s=!0,c=t}finally{try{!a&&g.return&&g.return()}finally{if(s)throw c}}}else if("makeList"===n)o=h(b.listIterator(t,e,"values",this));else{if("makeText"!==n)throw"Unknown object type: "+n;o=new S(t,e)}return o._objectId=e,this.cache&&(this.cache[e]=o),o}function w(t){t=t.set("cache",p());var e={instantiateObject:o,cache:{}},r=e.instantiateObject(t,b.ROOT_ID);return[t.set("cache",p(e.cache)),r]}function E(t,e){t=t.deleteIn(["cache",e]);var r={instantiateObject:o,cache:{}}.instantiateObject(t,e);return t.setIn(["cache",e],r)}function I(c,u){if("create"===u.action){var t=p({_objectId:u.obj});return t._objectId=u.obj,c.setIn(["cache",u.obj],t)}var e=c.getIn(["cache",u.obj]);if("set"===u.action){var r=null;u.conflicts&&(r=p().withMutations(function(t){var e=!0,r=!1,n=void 0;try{for(var o,i=u.conflicts[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value,s=a.link?c.getIn(["cache",a.value]):a.value;t.set(a.actor,s)}}catch(t){r=!0,n=t}finally{try{!e&&i.return&&i.return()}finally{if(r)throw n}}})),e=e.withMutations(function(t){t.set(u.key,u.link?c.getIn(["cache",u.value]):u.value),r?t.setIn(["_conflicts",u.key],r):t.deleteIn(["_conflicts",u.key])})}else{if("remove"!==u.action)throw"Unknown action type: "+u.action;e=e.withMutations(function(t){t.delete(u.key),t.deleteIn(["_conflicts",u.key])})}return e._objectId=u.obj,c.setIn(["cache",u.obj],e)}function O(t,e){if("create"===e.action){var r=h();return r._objectId=e.obj,t.setIn(["cache",e.obj],r)}var n=e.link?t.getIn(["cache",e.value]):e.value,o=t.getIn(["cache",e.obj]);if("insert"===e.action)o=o.insert(e.index,n);else if("set"===e.action)o=o.set(e.index,n);else{if("remove"!==e.action)throw"Unknown action type: "+e.action;o=o.delete(e.index)}return o._objectId=e.obj,t.setIn(["cache",e.obj],o)}t.exports={init:function(t){var e=w(b.init()),r=y(e,2),n=r[0],o=r[1];return o._state=p({actorId:t,opSet:n}),o._actorId=t,o},applyChanges:function(t,e,r){var n=t._state.get("opSet"),o=[],i=void 0,a=!0,s=!1,c=void 0;try{for(var u,g=e[Symbol.iterator]();!(a=(u=g.next()).done);a=!0){var l=u.value,p=b.addChange(n,l),h=y(p,2);n=h[0],i=h[1],o.push.apply(o,_(i))}}catch(t){s=!0,c=t}finally{try{!a&&g.return&&g.return()}finally{if(s)throw c}}var f=void 0;if(r)(f=(n=function(e,t){var r=v(),n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;if(r=r.add(c.obj),"map"===c.type)e=I(e,c);else if("list"===c.type)e=O(e,c);else{if("text"!==c.type)throw"Unknown object type: "+c.type;e=e.setIn(["cache",c.obj],new S(e,c.obj))}}}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}for(;!r.isEmpty();){r=r.flatMap(function(t){return e.getIn(["byObject",t,"_inbound"],v()).map(function(t){return t.get("obj")})});var u=!0,g=!1,l=void 0;try{for(var p,h=r[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var f=p.value;e=E(e,f)}}catch(t){g=!0,l=t}finally{try{!u&&h.return&&h.return()}finally{if(g)throw l}}}return e}(n,o)).getIn(["cache",b.ROOT_ID]))===t&&(f=t.set("_ignore",!0).remove("_ignore"));else{var m=w(n),d=y(m,2);n=d[0],f=d[1]}return f._state=t._state.set("opSet",n),f._actorId=t._state.get("actorId"),f._objectId=t._objectId,f}}},"./src/op_set.js":function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function y(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r("./node_modules/immutable/dist/immutable.js"),_=o.Map,v=o.List,b=o.Set,i=r("./src/skip_list.js").SkipList,a="00000000-0000-0000-0000-000000000000";function p(r,t){var e=t.get("actor"),n=t.get("seq"),o=!0;return t.get("deps").set(e,n-1).forEach(function(t,e){r.getIn(["clock",e],0)<t&&(o=!1)}),o}function S(o,t){return t.reduce(function(t,e,r){if(e<=0)return t;var n=o.getIn(["states",r,e-1,"allDeps"]);return t.mergeWith(function(t,e){return Math.max(t,e)},n).set(r,e)},_())}function w(t,e){for(var r=[];e!==a;){var n=t.getIn(["byObject",e,"_inbound"],b()).first();if(!n)return null;e=n.get("obj");var o=t.getIn(["byObject",e,"_init","action"]);if("makeList"===o||"makeText"===o){var i=t.getIn(["byObject",e,"_elemIds"]).indexOf(n.get("key"));if(i<0)return null;r.unshift(i)}else r.unshift(n.get("key"))}return r}function E(t){var e=[],r=!0,n=!1,o=void 0;try{for(var i,a=t.shift()[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value,c={actor:s.get("actor"),value:s.get("value")};"link"===s.get("action")&&(c.link=!0),e.push(c)}}catch(t){n=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}return e}function I(t,e,r,n,o){var i="makeText"===t.getIn(["byObject",e,"_init","action"])?"text":"list",a=o?o.first():null,s=t.getIn(["byObject",e,"_elemIds"]),c=a?a.get("value"):null,u={action:n,type:i,obj:e,index:r,path:w(t,e)};if(a&&"link"===a.get("action")&&(u.link=!0,c={obj:a.get("value")}),"insert"===n)s=s.insertIndex(r,a.get("key"),c),u.value=a.get("value");else if("set"===n)s=s.setValue(a.get("key"),c),u.value=a.get("value");else{if("remove"!==n)throw"Unknown action type: "+n;s=s.removeIndex(r)}return o&&1<o.size&&(u.conflicts=E(o)),[t=t.setIn(["byObject",e,"_elemIds"],s),[u]]}function s(r,e){var t=e.get("obj"),n=r.getIn(["byObject",t,"_init","action"]);if(!r.get("byObject").has(t))throw"Modification of unknown object "+t;var o,i,a,s,c,u=r.getIn(["byObject",t,e.get("key")],v()).groupBy(function(t){return!!function(t,e,r){var n=[e.get("actor"),e.get("seq")],o=n[0],i=n[1],a=[r.get("actor"),r.get("seq")],s=a[0],c=a[1];if(!(o&&s&&i&&c))return!1;var u=t.getIn(["states",o,i-1,"allDeps"]),g=t.getIn(["states",s,c-1,"allDeps"]);return u.get(s,0)<c&&g.get(o,0)<i}(r,t,e)}),g=u.get(!1,v()),l=u.get(!0,v()),p=function(e){r=r.updateIn(["byObject",e.get("value"),"_inbound"],function(t){return t.remove(e)})},h=!0,f=!1,m=void 0;try{for(var d,y=g.filter(function(t){return"link"===t.get("action")})[Symbol.iterator]();!(h=(d=y.next()).done);h=!0){p(d.value)}}catch(t){f=!0,m=t}finally{try{!h&&y.return&&y.return()}finally{if(f)throw m}}return"link"===e.get("action")&&(r=r.updateIn(["byObject",e.get("value"),"_inbound"],b(),function(t){return t.add(e)})),"del"!==e.get("action")&&(l=l.push(e)),l=l.sortBy(function(t){return t.get("actor")}).reverse(),r=r.setIn(["byObject",t,e.get("key")],l),"makeList"===n||"makeText"===n?function(t,e,r){var n=j(t,e,r),o=t.getIn(["byObject",e,"_elemIds"]),i=o.indexOf(r);if(0<=i)return n.isEmpty()?I(t,e,i,"remove",null):I(t,e,i,"set",n);if(n.isEmpty())return[t,[]];for(var a=r;i=-1,(a=T(t,e,a))&&!(0<=(i=o.indexOf(a))););return I(t,e,i+1,"insert",n)}(r,t,e.get("key")):(o=r,i=t,a=e.get("key"),s=j(o,i,a),c={action:"",type:"map",obj:i,key:a,path:w(o,i)},s.isEmpty()?c.action="remove":(c.action="set",c.value=s.first().get("value"),"link"===s.first().get("action")&&(c.link=!0),1<s.size&&(c.conflicts=E(s))),[o,[c]])}function O(t,e){var r=e.get("action");if("makeMap"===r||"makeList"===r||"makeText"===r)return function(t,e){var r=e.get("obj");if(t.hasIn(["byObject",r]))throw"Duplicate creation of object "+r;var n={action:"create",obj:r},o=_({_init:e,_inbound:b()});return"makeMap"===e.get("action")?n.type="map":(n.type="makeText"===e.get("action")?"text":"list",o=o.set("_elemIds",new i)),[t=t.setIn(["byObject",r],o),[n]]}(t,e);if("ins"===r)return function(t,e){var r=e.get("obj"),n=e.get("elem"),o=e.get("actor")+":"+n;if(!t.get("byObject").has(r))throw"Modification of unknown object "+r;if(t.hasIn(["byObject",r,"_insertion",o]))throw"Duplicate list element ID "+o;return[t=t.updateIn(["byObject",r,"_following",e.get("key")],v(),function(t){return t.push(e)}).updateIn(["byObject",r,"_maxElem"],0,function(t){return Math.max(n,t)}).setIn(["byObject",r,"_insertion",o],e),[]]}(t,e);if("set"===r||"del"===r||"link"===r)return s(t,e);throw"Unknown operation type "+r}function h(t,e){var r=e.get("actor"),n=e.get("seq"),o=t.getIn(["states",r],v());if(n<=o.size){if(!o.get(n-1).get("change").equals(e))throw"Inconsistent reuse of sequence number "+n+" by "+r;return[t,[]]}var i=S(t,e.get("deps").set(r,n-1));t=t.setIn(["states",r],o.push(_({change:e,allDeps:i})));var a=void 0,s=[],c=!0,u=!1,g=void 0;try{for(var l,p=e.get("ops")[Symbol.iterator]();!(c=(l=p.next()).done);c=!0){var h=O(t,l.value.merge({actor:r,seq:n})),f=d(h,2);t=f[0],a=f[1],s.push.apply(s,y(a))}}catch(t){u=!0,g=t}finally{try{!c&&p.return&&p.return()}finally{if(u)throw g}}var m=t.get("deps").filter(function(t,e){return t>i.get(e,0)}).set(r,n);return[t=t.set("deps",m).setIn(["clock",r],n).update("history",function(t){return t.push(e)}),s]}function j(t,e,r){return t.getIn(["byObject",e,r],v())}function f(t,e,r){if("_head"!==r){var n=t.getIn(["byObject",e,"_insertion",r]);if(!n)throw new TypeError("Missing index entry for list element "+r);return n.get("key")}}function c(t,e){return t.get("elem")<e.get("elem")?-1:t.get("elem")>e.get("elem")?1:t.get("actor")<e.get("actor")?-1:t.get("actor")>e.get("actor")?1:0}function m(t,e,r,n){var o=/^(.*):(\d+)$/.exec(n||""),i=o?_({actor:o[1],elem:parseInt(o[2])}):null;return t.getIn(["byObject",e,"_following",r],v()).filter(function(t){return"ins"===t.get("action")}).filter(function(t){return!i||c(t,i)<0}).sort(c).reverse().map(function(t){return t.get("actor")+":"+t.get("elem")})}function u(t,e,r){var n=m(t,e,r);if(!n.isEmpty())return n.first();for(var o=void 0;;){if(!(o=f(t,e,r)))return;var i=m(t,e,o,r);if(!i.isEmpty())return i.first();r=o}}function T(t,e,r){var n=f(t,e,r),o=m(t,e,n);if(o.first()===r)return"_head"===n?null:n;var i=void 0,a=!0,s=!1,c=void 0;try{for(var u,g=o[Symbol.iterator]();!(a=(u=g.next()).done);a=!0){var l=u.value;if(l===r)break;i=l}}catch(t){s=!0,c=t}finally{try{!a&&g.return&&g.return()}finally{if(s)throw c}}for(;;){if((o=m(t,e,i)).isEmpty())return i;i=o.last()}}function g(t,e,r){if("object"!==(void 0===e?"undefined":n(e))||null===e)return e;switch(e.get("action")){case"set":return e.get("value");case"link":return r.instantiateObject(t,e.get("value"))}}function l(t){return"string"==typeof t&&""!==t&&!t.startsWith("_")}t.exports={init:function(){return _().set("states",_()).set("history",v()).set("byObject",_().set(a,_())).set("clock",_()).set("deps",_()).set("local",v()).set("queue",v())},addLocalOp:function(t,e,r){return O(t=t.update("local",function(t){return t.push(e)}),e.set("actor",r))},addChange:function(t,e){return function(t){for(var e=v(),r=void 0,n=[];;){var o=!0,i=!1,a=void 0;try{for(var s,c=t.get("queue")[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;if(p(t,u)){var g=h(t,u),l=d(g,2);t=l[0],r=l[1],n.push.apply(n,y(r))}else e=e.push(u)}}catch(t){i=!0,a=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw a}}if(e.count()===t.get("queue").count())return[t,n];t=t.set("queue",e),e=v()}}(t=t.update("queue",function(t){return t.push(e)}))},getMissingChanges:function(t,e){var r=S(t,e);return t.get("states").map(function(t,e){return t.skip(r.get(e,0))}).valueSeq().flatten(1).map(function(t){return t.get("change")})},getChangesForActor:function(t,r,n){return n=n||0,t.get("states").filter(function(t,e){return e===r}).map(function(t,e){return t.skip(n)}).valueSeq().flatten(1).map(function(t){return t.get("change")})},getMissingDeps:function(r){var n={},t=!0,e=!1,o=void 0;try{for(var i,a=r.get("queue")[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;s.get("deps").set(s.get("actor"),s.get("seq")-1).forEach(function(t,e){r.getIn(["clock",e],0)<t&&(n[e]=Math.max(t,n[e]||0))})}}catch(t){e=!0,o=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw o}}return n},getObjectFields:function(o,i){return o.getIn(["byObject",i]).keySeq().filter(function(t){return e=o,r=i,l(n=t)&&!j(e,r,n).isEmpty();var e,r,n}).toSet()},getObjectField:function(t,e,r,n){if(l(r)){var o=j(t,e,r);return o.isEmpty()?void 0:g(t,o.first(),n)}},getObjectConflicts:function(n,r,o){return n.getIn(["byObject",r]).filter(function(t,e){return l(e)&&1<j(n,r,e).size}).mapEntries(function(t){var e=d(t,2);return[e[0],e[1].shift().toMap().mapEntries(function(t){var e=d(t,2),r=(e[0],e[1]);return[r.get("actor"),g(n,r,o)]})]})},listElemByIndex:function(t,e,r,n){var o=t.getIn(["byObject",e,"_elemIds"]).keyOf(r);if(o){var i=j(t,e,o);if(!i.isEmpty())return g(t,i.first(),n)}},listLength:function(t,e){return t.getIn(["byObject",e,"_elemIds"]).length},listIterator:function(n,o,i,a){var s="_head",c=-1,t={next:function(){for(;s;){if(!(s=u(n,o,s)))return{done:!0};var t=j(n,o,s);if(!t.isEmpty()){var e=g(n,t.first(),a);switch(c+=1,i){case"keys":return{done:!1,value:c};case"values":return{done:!1,value:e};case"entries":return{done:!1,value:[c,e]};case"elems":return{done:!1,value:[c,s]};case"conflicts":var r=null;return 1<t.size&&(r=t.shift().toMap().mapEntries(function(t){var e=d(t,2),r=(e[0],e[1]);return[r.get("actor"),g(n,r,a)]})),{done:!1,value:r}}}}}};return t[Symbol.iterator]=function(){return t},t},ROOT_ID:a}},"./src/proxies.js":function(t,e,r){"use strict";var f=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var n=r("./node_modules/immutable/dist/immutable.js"),m=(n.List,n.fromJS,r("./src/op_set.js"));function d(t){throw new TypeError("You tried to "+t+", but this list is read-only. Please use Automerge.change() to get a writable version.")}function i(p,h){for(var e={deleteAt:function(t,e){return p.mutable||d("delete the list element at index "+t),p.state=p.splice(p.state,h,t,e||1,[]),this},fill:function(t,e,r){p.mutable||d("fill a list with a value");var n=!0,o=!1,i=void 0;try{for(var a,s=m.listIterator(p.state.get("opSet"),h,"elems",p)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value,u=f(c,2),g=u[0],l=u[1];if(r&&r<=g)break;(e||0)<=g&&(p.state=p.setField(p.state,h,l,t))}}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return this},insertAt:function(t){p.mutable||d("insert a list element at index "+t);for(var e=arguments.length,r=Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return p.state=p.splice(p.state,h,t,0,r),this},pop:function(){p.mutable||d("pop the last element off a list");var t=m.listLength(p.state.get("opSet"),h);if(0!=t){var e=m.listElemByIndex(p.state.get("opSet"),h,t-1,p);return p.state=p.splice(p.state,h,t-1,1,[]),e}},push:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];p.mutable||d("push a new list element "+JSON.stringify(e[0]));var n=m.listLength(p.state.get("opSet"),h);return p.state=p.splice(p.state,h,n,0,e),m.listLength(p.state.get("opSet"),h)},shift:function(){p.mutable||d("shift the first element off a list");var t=m.listElemByIndex(p.state.get("opSet"),h,0,p);return p.state=p.splice(p.state,h,0,1,[]),t},splice:function(t,e){p.mutable||d("splice a list"),void 0===e&&(e=m.listLength(p.state.get("opSet"),h)-t);for(var r=[],n=0;n<e;n++)r.push(m.listElemByIndex(p.state.get("opSet"),h,t+n,p));for(var o=arguments.length,i=Array(2<o?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];return p.state=p.splice(p.state,h,t,e,i),r},unshift:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return p.mutable||d("unshift a new list element "+JSON.stringify(e[0])),p.state=p.splice(p.state,h,0,0,e),m.listLength(p.state.get("opSet"),h)}},t=function(t){e[t]=function(){return m.listIterator(p.state.get("opSet"),h,t,p)}},r=["entries","keys","values"],n=0;n<r.length;n++){t(r[n])}for(var o=function(i){e[i]=function(){for(var t,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(m.listIterator(p.state.get("opSet"),h,"values",p)));return(t=o[i]).call.apply(t,[o].concat(r))}},i=["concat","every","filter","find","findIndex","forEach","includes","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toLocaleString","toString"],a=0;a<i.length;a++){o(i[a])}return e}var o={get:function(t,e){var r=t.context,n=t.objectId;if(!r.state.hasIn(["opSet","byObject",n]))throw"Target object does not exist: "+n;return"_inspect"===e?JSON.parse(JSON.stringify(s(r,n))):"_type"===e?"map":"_objectId"===e?n:"_state"===e?r.state:"_actorId"===e?r.state.get("actorId"):"_conflicts"===e?m.getObjectConflicts(r.state.get("opSet"),n,r).toJS():"_change"===e?r:m.getObjectField(r.state.get("opSet"),n,e,r)},set:function(t,e,r){var n=t.context,o=t.objectId;if(!n.mutable)throw new TypeError("You tried to set property "+JSON.stringify(e)+" to "+JSON.stringify(r)+", but this object is read-only. Please use Automerge.change() to get a writable version.");return n.state=n.setField(n.state,o,e,r),!0},deleteProperty:function(t,e){var r=t.context,n=t.objectId;if(!r.mutable)throw new TypeError("You tried to delete the property "+JSON.stringify(e)+", but this object is read-only. Please use Automerge.change() to get a writable version.");return r.state=r.deleteField(r.state,n,e),!0},has:function(t,e){return["_type","_state","_actorId","_objectId","_conflicts"].includes(e)||m.getObjectFields(t.context.state.get("opSet"),t.objectId).has(e)},getOwnPropertyDescriptor:function(t,e){if(m.getObjectFields(t.context.state.get("opSet"),t.objectId).has(e))return{configurable:!0,enumerable:!0}},ownKeys:function(t){return m.getObjectFields(t.context.state.get("opSet"),t.objectId).toJS()}},a={get:function(t,e){var r=f(t,2),n=r[0],o=r[1];if(!n.state.hasIn(["opSet","byObject",o]))throw"Target object does not exist: "+o;return e===Symbol.iterator?function(){return m.listIterator(n.state.get("opSet"),o,"values",n)}:"_inspect"===e?JSON.parse(JSON.stringify(c(n,o))):"_type"===e?"list":"_objectId"===e?o:"_state"===e?n.state:"_actorId"===e?n.state.get("actorId"):"_change"===e?n:"length"===e?m.listLength(n.state.get("opSet"),o):"string"==typeof e&&/^[0-9]+$/.test(e)?m.listElemByIndex(n.state.get("opSet"),o,parseInt(e),n):i(n,o)[e]},set:function(t,e,r){var n=f(t,2),o=n[0],i=n[1];if(!o.mutable)throw new TypeError("You tried to set index "+e+" to "+JSON.stringify(r)+", but this list is read-only. Please use Automerge.change() to get a writable version.");return o.state=o.setListIndex(o.state,i,e,r),!0},deleteProperty:function(t,e){var r=f(t,2),n=r[0],o=r[1];if(!n.mutable)throw new TypeError("You tried to delete the list index "+e+", but this list is read-only. Please use Automerge.change() to get a writable version.");return n.state=n.deleteField(n.state,o,e),!0},has:function(t,e){var r=f(t,2),n=r[0],o=r[1];return"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e)<m.listLength(n.state.get("opSet"),o):"length"===e||"_type"===e||"_objectId"===e||"_state"===e||"_actorId"===e},getOwnPropertyDescriptor:function(t,e){var r=f(t,2),n=r[0],o=r[1];return"length"===e?{}:("_objectId"===e||"string"==typeof e&&/^[0-9]+$/.test(e))&&parseInt(e)<m.listLength(n.state.get("opSet"),o)?{configurable:!0,enumerable:!0}:void 0},ownKeys:function(t){for(var e=f(t,2),r=e[0],n=e[1],o=m.listLength(r.state.get("opSet"),n),i=["length","_objectId"],a=0;a<o;a++)i.push(a.toString());return i}};function s(t,e){return new Proxy({context:t,objectId:e},o)}function c(t,e){return new Proxy([t,e],a)}function u(t,e){var r=t.getIn(["byObject",e,"_init","action"]);if("makeMap"===r)return s(this,e);if("makeList"===r||"makeText"===r)return c(this,e);throw"Unknown object type: "+r}t.exports={rootObjectProxy:function(t){return t.instantiateObject=u,s(t,"00000000-0000-0000-0000-000000000000")}}},"./src/skip_list.js":function(t,e,r){"use strict";var o=function(){function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}();function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=r("./node_modules/immutable/dist/immutable.js").Map;var h=function(){function c(t,e,r,n,o,i,a){s(this,c),this.key=t,this.value=e,this.level=r,this.prevKey=Object.freeze(n),this.nextKey=Object.freeze(o),this.prevCount=Object.freeze(i),this.nextCount=Object.freeze(a),Object.freeze(this)}return o(c,[{key:"setValue",value:function(t,e){return new c(this.key,e,this.level,this.prevKey,this.nextKey,this.prevCount,this.nextCount)}},{key:"insertAfter",value:function(t,e,r,n){if(e>this.level&&null!==this.key)throw new RangeError("Cannot increase the level of a non-head node");for(var o=Math.max(this.level,e),i=this.nextKey.slice(),a=this.nextCount.slice(),s=r;s<o;s++)s<e?(i[s]=t,a[s]=n):a[s]+=1;return new c(this.key,this.value,o,this.prevKey,i,this.prevCount,a)}},{key:"insertBefore",value:function(t,e,r,n){if(e>this.level)throw new RangeError("Cannot increase node level");for(var o=this.prevKey.slice(),i=this.prevCount.slice(),a=r;a<this.level;a++)a<e?(o[a]=t,i[a]=n):i[a]+=1;return new c(this.key,this.value,this.level,o,this.nextKey,i,this.nextCount)}},{key:"removeAfter",value:function(t,e,r,n){for(var o=this.nextKey.slice(),i=this.nextCount.slice(),a=t;a<this.level;a++)a<e?(o[a]=r[a],i[a]=n[a]):i[a]-=1;return new c(this.key,this.value,this.level,this.prevKey,o,this.prevCount,i)}},{key:"removeBefore",value:function(t,e,r,n){for(var o=this.prevKey.slice(),i=this.prevCount.slice(),a=t;a<this.level;a++)a<e?(o[a]=r[a],i[a]=n[a]):i[a]-=1;return new c(this.key,this.value,this.level,o,this.nextKey,i,this.nextCount)}}]),c}(),a=function(){function n(t){s(this,n);var e=new h(null,null,1,[],[null],[],[null]),r=t?t():{next:function(){for(var t=Math.floor(4294967296*Math.random()),e=1;t<1<<32-2*e&&e<16;)e+=1;return{value:e,done:!1}}};return f(0,i().set(null,e),r)}return o(n,[{key:"predecessors",value:function(t,e){for(var r=[t],n=[1],o=1;o<e;o++){for(var i=r[o-1],a=n[o-1];i;){var s=this._nodes.get(i);if(s.level>o)break;if(s.level<o)throw new RangeError("Node "+i+" below expected level "+(o-1));a+=s.prevCount[o-1],i=s.prevKey[o-1]}r[o]=i,n[o]=a}return{preKeys:r,preCounts:n}}},{key:"successors",value:function(t,e){for(var r=[t],n=[1],o=1;o<e;o++){for(var i=r[o-1],a=n[o-1];i;){var s=this._nodes.get(i);if(s.level>o)break;if(s.level<o)throw new RangeError("Node "+i+" below expected level "+(o-1));a+=s.nextCount[o-1],i=s.nextKey[o-1]}r[o]=i,n[o]=a}return{sucKeys:r,sucCounts:n}}},{key:"insertAfter",value:function(t,i,a){if("string"!=typeof i||""===i)throw new RangeError("Key must be a nonempty string");if(!this._nodes.has(t))throw new RangeError("The referenced predecessor key does not exist");if(this._nodes.has(i))throw new RangeError("Cannot insert a key that already exists");var s=this._randomSource.next().value,c=Math.max(s,this.headNode.level),e=this._nodes.get(t).nextKey[0]||null,r=this.predecessors(t,c),u=r.preKeys,g=r.preCounts,n=this.successors(e,c),l=n.sucKeys,p=n.sucCounts;return f(this.length+1,this._nodes.withMutations(function(r){for(var n=0,o=0,t=function(t){var e=Math.min(t,s);t!==c&&u[t]===u[n]||(r.update(u[n],function(t){return t.insertAfter(i,e,n,g[n])}),n=t),!l[o]||t!==c&&l[t]===l[o]||(r.update(l[o],function(t){return t.insertBefore(i,e,o,p[o])}),o=t)},e=1;e<=c;e++)t(e);r.set(i,new h(i,a,s,u.slice(0,s),l.slice(0,s),g.slice(0,s),p.slice(0,s)))}),this._randomSource)}},{key:"insertIndex",value:function(t,e,r){if("number"!=typeof t||t<0)throw new RangeError("Index must be a non-negative integer");return 0===t?this.insertAfter(null,e,r):this.insertAfter(this.keyOf(t-1),e,r)}},{key:"removeKey",value:function(i){if("string"!=typeof i||!this._nodes.has(i))throw new RangeError("The given key cannot be removed because it does not exist");for(var a=this._nodes.get(i),s=this.headNode.level,t=this.predecessors(a.prevKey[0],s),c=t.preKeys,e=t.preCounts,r=this.successors(a.nextKey[0],s),u=r.sucKeys,n=r.sucCounts,g=new Array(s),o=0;o<s;o++)g[o]=e[o]+n[o]-1;return f(this.length-1,this._nodes.withMutations(function(r){r.remove(i);for(var n=0,o=0,t=function(t){var e=Math.min(t,a.level);t!==s&&c[t]===c[n]||(r.update(c[n],function(t){return t.removeAfter(n,e,u,g)}),n=t),!u[o]||t!==s&&u[t]===u[o]||(r.update(u[o],function(t){return t.removeBefore(o,e,c,g)}),o=t)},e=1;e<=s;e++)t(e)}),this._randomSource)}},{key:"removeIndex",value:function(t){return this.removeKey(this.keyOf(t))}},{key:"indexOf",value:function(t){if("string"!=typeof t||""===t||!this._nodes.has(t))return-1;for(var e=this._nodes.get(t),r=0;e&&e.key;)r+=e.prevCount[e.level-1],e=this._nodes.get(e.prevKey[e.level-1]);return r-1}},{key:"keyOf",value:function(t){if("number"!=typeof t)return null;if(t<0&&(t+=this.length),t<0||t>=this.length)return null;for(var e=this._nodes.get(null),r=e.level-1,n=0;;){if(n===t+1)return e.key;n+e.nextCount[r]>t+1?r-=1:(n+=e.nextCount[r],e=this._nodes.get(e.nextKey[r]))}}},{key:"getValue",value:function(t){if("string"!=typeof t||""===t)throw new RangeError("Key must be a nonempty string");var e=this._nodes.get(t);return e&&e.value}},{key:"setValue",value:function(t,e){if("string"!=typeof t||""===t)throw new RangeError("Key must be a nonempty string");var r=this._nodes.get(t);if(!r)throw new RangeError("The referenced key does not exist");return r=r.setValue(t,e),f(this.length,this._nodes.set(t,r),this._randomSource)}},{key:"iterator",value:function(r){var t,e,n,o=this,i=this._nodes,a=i.get(null).nextKey[0];return t={next:function(){if(!a)return{value:void 0,done:!0};var t=i.get(a),e=void 0;switch(r){case"keys":e={value:a,done:!1};break;case"values":e={value:t.value,done:!1};break;case"entries":e={value:[a,t.value],done:!1}}return a=t.nextKey[0],e}},e=Symbol.iterator,n=function(){return o.iterator(r)},e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},{key:Symbol.iterator,value:function(){return this.iterator("values")}},{key:"headNode",get:function(){return this._nodes.get(null)}}]),n}();function f(t,e,r){var n=Object.create(a.prototype);return n.length=t,n._nodes=e,n._randomSource=r,Object.freeze(n)}t.exports={SkipList:a}},"./src/text.js":function(t,e,r){"use strict";var n=function(){function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}();for(var o=r("./src/skip_list.js").SkipList,a=function(){function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r=t,n=e,(o=Object.create(a.prototype)).opSet=r,o.objectId=n,Object.freeze(o);var r,n,o}return n(i,[{key:"get",value:function(t){var e=this.elemIds.keyOf(t);if(e)return this.elemIds.getValue(e)}},{key:Symbol.iterator,value:function(){return this.elemIds.iterator("values")}},{key:"elemIds",get:function(){return this.opSet&&this.objectId?this.opSet.getIn(["byObject",this.objectId,"_elemIds"]):new o}},{key:"length",get:function(){return this.elemIds.length}},{key:"_objectId",get:function(){return this.objectId}}]),i}(),i=function(i){a.prototype[i]=function(){for(var t,e=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(this.elemIds.iterator("values"))),r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e[i]).call.apply(t,[e].concat(n))}},s=["concat","every","filter","find","findIndex","forEach","includes","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toLocaleString","toString"],c=0;c<s.length;c++){i(s[c])}t.exports={Text:a}},"./src/uuid.js":function(t,e,r){"use strict";var n=r("./node_modules/uuid/v4.js"),o=n;function i(){return o()}i.setFactory=function(t){return o=t},i.reset=function(){return o=n},t.exports=i},"./src/watchable_doc.js":function(t,e,r){"use strict";var n=function(){function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}();var o=r("./node_modules/immutable/dist/immutable.js"),i=(o.Map,o.Set),a=o.fromJS,s=r("./src/auto_api.js"),c=function(){function e(t){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("doc argument is required");this.doc=t,this.handlers=i()}return n(e,[{key:"get",value:function(){return this.doc}},{key:"set",value:function(e){this.doc=e,this.handlers.forEach(function(t){return t(e)})}},{key:"applyChanges",value:function(t){var e=this.doc;return e=s.applyChanges(e,a(t),!0),this.set(e),e}},{key:"registerHandler",value:function(t){this.handlers=this.handlers.add(t)}},{key:"unregisterHandler",value:function(t){this.handlers=this.handlers.remove(t)}}]),e}();t.exports=c}})});
